<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>PeerCoordinator (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PeerCoordinator (I2P Anonymous Network - Java Documentation - API Version 0.9.56)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10,"i45":10,"i46":10,"i47":10,"i48":10,"i49":10,"i50":10,"i51":10,"i52":10,"i53":10,"i54":10,"i55":9,"i56":10,"i57":10,"i58":10,"i59":10,"i60":10,"i61":10,"i62":10,"i63":10,"i64":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PeerCoordinator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/klomp/snark/PeerConnectionOut.html" title="class in org.klomp.snark"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/klomp/snark/PeerCoordinatorSet.html" title="class in org.klomp.snark"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/klomp/snark/PeerCoordinator.html" target="_top">Frames</a></li>
<li><a href="PeerCoordinator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.klomp.snark</div>
<h2 title="Class PeerCoordinator" class="title">Class PeerCoordinator</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.klomp.snark.PeerCoordinator</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">PeerCoordinator</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></pre>
<div class="block">Coordinates what peer does what.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#CHECK_PERIOD">CHECK_PERIOD</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#MAX_INACTIVE">MAX_INACTIVE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#MAX_SEED_INACTIVE">MAX_SEED_INACTIVE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#MAX_UPLOADERS">MAX_UPLOADERS</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#metainfo">metainfo</a></span></code>
<div class="block">External use by PeerMonitorTask only.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html?is-external=true" title="class or interface in java.util">Deque</a>&lt;<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#peers">peers</a></span></code>
<div class="block">synchronize on this when changing peers or downloaders.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#RATE_DEPTH">RATE_DEPTH</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#storage">storage</a></span></code>
<div class="block">External use by PeerMonitorTask only.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#PeerCoordinator-org.klomp.snark.I2PSnarkUtil-byte:A-byte:A-org.klomp.snark.MetaInfo-org.klomp.snark.Storage-org.klomp.snark.CoordinatorListener-org.klomp.snark.Snark-">PeerCoordinator</a></span>(<a href="../../../org/klomp/snark/I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
               byte[]&nbsp;id,
               byte[]&nbsp;infohash,
               <a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
               <a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
               <a href="../../../org/klomp/snark/CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
               <a href="../../../org/klomp/snark/Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#addInterestedAndChoking-int-">addInterestedAndChoking</a></span>(int&nbsp;toAdd)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#addPeer-org.klomp.snark.Peer-">addPeer</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Add peer (inbound or outbound)</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#allowedUploaders--">allowedUploaders</a></span>()</code>
<div class="block">Return number of allowed uploaders for this torrent.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#banWebPeer-java.lang.String-boolean-">banWebPeer</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
          boolean&nbsp;isPermanent)</code>
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#completed--">completed</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#connected-org.klomp.snark.Peer-">connected</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#decrementUploaders-boolean-">decrementUploaders</a></span>(boolean&nbsp;isInterested)</code>
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#disconnected-org.klomp.snark.Peer-">disconnected</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#downloaded-org.klomp.snark.Peer-int-">downloaded</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
          int&nbsp;size)</code>
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getCurrentUploadRate--">getCurrentUploadRate</a></span>()</code>
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getDownloaded--">getDownloaded</a></span>()</code>
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getDownloadRate--">getDownloadRate</a></span>()</code>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getID--">getID</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getInfoHash--">getInfoHash</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getInterestedAndChoking--">getInterestedAndChoking</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getInterestedUploaders--">getInterestedUploaders</a></span>()</code>
<div class="block">Uploaders, interested only.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getLeft--">getLeft</a></span>()</code>
<div class="block">Bytes not yet in storage.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getMetaInfo--">getMetaInfo</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getName--">getName</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getNeededLength--">getNeededLength</a></span>()</code>
<div class="block">Bytes still wanted.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="../../../org/klomp/snark/PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getPartialPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">getPartialPiece</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
               <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code>
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getPeerCount--">getPeerCount</a></span>()</code>
<div class="block">might be wrong</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getPeers--">getPeers</a></span>()</code>
<div class="block">should be right</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../org/klomp/snark/PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getPEXPeers--">getPEXPeers</a></span>()</code>
<div class="block">Called by TrackerClient</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getRate-long:A-">getRate</a></span>(long[]&nbsp;array)</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getStorage--">getStorage</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getUploaded--">getUploaded</a></span>()</code>
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getUploaders--">getUploaders</a></span>()</code>
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getUploadRate--">getUploadRate</a></span>()</code>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code><a href="../../../org/klomp/snark/I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#getUtil--">getUtil</a></span>()</code>
<div class="block">Convenience</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotBitField-org.klomp.snark.Peer-org.klomp.snark.BitField-">gotBitField</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
           <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</code>
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotChoke-org.klomp.snark.Peer-boolean-">gotChoke</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
        boolean&nbsp;choke)</code>
<div class="block">this does nothing but logging</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotCommentReq-org.klomp.snark.Peer-int-">gotCommentReq</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
             int&nbsp;num)</code>
<div class="block">Called when comments are requested via ut_comment</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotComments-org.klomp.snark.Peer-java.util.List-">gotComments</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</code>
<div class="block">Called when comments are received via ut_comment</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotExtension-org.klomp.snark.Peer-int-byte:A-">gotExtension</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
            int&nbsp;id,
            byte[]&nbsp;bs)</code>
<div class="block">PeerListener callback</div>
</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotHave-org.klomp.snark.Peer-int-">gotHave</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
       int&nbsp;piece)</code>
<div class="block">Called when a have piece message is received.</div>
</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotInterest-org.klomp.snark.Peer-boolean-">gotInterest</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
           boolean&nbsp;interest)</code>
<div class="block">Called when an interested message is received.</div>
</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotPeers-org.klomp.snark.Peer-java.util.List-">gotPeers</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</code>
<div class="block">Get peers from PEX -
  PeerListener callback</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotPiece-org.klomp.snark.Peer-org.klomp.snark.PartialPiece-">gotPiece</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
        <a href="../../../org/klomp/snark/PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</code>
<div class="block">Returns false if the piece is no good (according to the hash).</div>
</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotPort-org.klomp.snark.Peer-int-int-">gotPort</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
       int&nbsp;port,
       int&nbsp;rport)</code>
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#gotRequest-org.klomp.snark.Peer-int-int-int-">gotRequest</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
          int&nbsp;piece,
          int&nbsp;off,
          int&nbsp;len)</code>
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#halt--">halt</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#halted--">halted</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#isWebPeerBanned-java.lang.String-">isWebPeerBanned</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host)</code>
<div class="block">Is a web peer banned?</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#needOutboundPeers--">needOutboundPeers</a></span>()</code>
<div class="block">Outbound.</div>
</td>
</tr>
<tr id="i45" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#needPeers--">needPeers</a></span>()</code>
<div class="block">Inbound.</div>
</td>
</tr>
<tr id="i46" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#needPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">needPiece</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
         <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code>
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece.</div>
</td>
</tr>
<tr id="i47" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#overUpBWLimit--">overUpBWLimit</a></span>()</code>
<div class="block">Is snark as a whole over its limit?</div>
</td>
</tr>
<tr id="i48" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#overUpBWLimit-long-">overUpBWLimit</a></span>(long&nbsp;total)</code>
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</td>
</tr>
<tr id="i49" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#peerList--">peerList</a></span>()</code>
<div class="block">for web page detailed stats</div>
</td>
</tr>
<tr id="i50" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#restart--">restart</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i51" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#savePartialPieces-org.klomp.snark.Peer-java.util.List-">savePartialPieces</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</code>
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.</div>
</td>
</tr>
<tr id="i52" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#sendCommentReq-org.klomp.snark.Peer-">sendCommentReq</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Send a commment request message to the peer, if he supports it.</div>
</td>
</tr>
<tr id="i53" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#sendDHT-org.klomp.snark.Peer-">sendDHT</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
</td>
</tr>
<tr id="i54" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#sendPeers-org.klomp.snark.Peer-">sendPeers</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code>
<div class="block">Send a PEX message to the peer, if he supports PEX.</div>
</td>
</tr>
<tr id="i55" class="rowColor">
<td class="colFirst"><code>(package private) static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setRate-long-long:A-">setRate</a></span>(long&nbsp;val,
       long[]&nbsp;array)</code>&nbsp;</td>
</tr>
<tr id="i56" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setRateHistory-long-long-">setRateHistory</a></span>(long&nbsp;up,
              long&nbsp;down)</code>
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</td>
</tr>
<tr id="i57" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setStorage-org.klomp.snark.Storage-">setStorage</a></span>(<a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</code>
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
</td>
</tr>
<tr id="i58" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setUploaded-long-">setUploaded</a></span>(long&nbsp;up)</code>
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
</td>
</tr>
<tr id="i59" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setUploaders-int-int-">setUploaders</a></span>(int&nbsp;upl,
            int&nbsp;inter)</code>
<div class="block">Set the uploaders and interestedUploaders counts</div>
</td>
</tr>
<tr id="i60" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#setWantedPieces--">setWantedPieces</a></span>()</code>
<div class="block">Only called externally from Storage after the double-check fails.</div>
</td>
</tr>
<tr id="i61" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#unchokePeer--">unchokePeer</a></span>()</code>
<div class="block">(Optimistically) unchoke.</div>
</td>
</tr>
<tr id="i62" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#updatePiecePriorities--">updatePiecePriorities</a></span>()</code>
<div class="block">Maps file priorities to piece priorities.</div>
</td>
</tr>
<tr id="i63" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#uploaded-org.klomp.snark.Peer-int-">uploaded</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
        int&nbsp;size)</code>
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
</td>
</tr>
<tr id="i64" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/klomp/snark/PeerCoordinator.html#wantPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">wantPiece</a></span>(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
         <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code>
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="metainfo">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>metainfo</h4>
<pre><a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a> metainfo</pre>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</li>
</ul>
<a name="storage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storage</h4>
<pre><a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a> storage</pre>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</li>
</ul>
<a name="CHECK_PERIOD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHECK_PERIOD</h4>
<pre>static final&nbsp;long CHECK_PERIOD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.CHECK_PERIOD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_UPLOADERS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_UPLOADERS</h4>
<pre>static final&nbsp;int MAX_UPLOADERS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_UPLOADERS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_INACTIVE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_INACTIVE</h4>
<pre>public static final&nbsp;long MAX_INACTIVE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_INACTIVE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_SEED_INACTIVE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SEED_INACTIVE</h4>
<pre>public static final&nbsp;long MAX_SEED_INACTIVE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_SEED_INACTIVE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="RATE_DEPTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RATE_DEPTH</h4>
<pre>static final&nbsp;int RATE_DEPTH</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.RATE_DEPTH">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="peers">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>peers</h4>
<pre>final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html?is-external=true" title="class or interface in java.util">Deque</a>&lt;<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&gt; peers</pre>
<div class="block">synchronize on this when changing peers or downloaders.
 This is a Queue, not a Set, because PeerCheckerTask keeps things in order for choking/unchoking.
 External use by PeerMonitorTask only.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="PeerCoordinator-org.klomp.snark.I2PSnarkUtil-byte:A-byte:A-org.klomp.snark.MetaInfo-org.klomp.snark.Storage-org.klomp.snark.CoordinatorListener-org.klomp.snark.Snark-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PeerCoordinator</h4>
<pre>public&nbsp;PeerCoordinator(<a href="../../../org/klomp/snark/I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
                       byte[]&nbsp;id,
                       byte[]&nbsp;infohash,
                       <a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
                       <a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
                       <a href="../../../org/klomp/snark/CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
                       <a href="../../../org/klomp/snark/Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>metainfo</code> - null if in magnet mode</dd>
<dd><code>storage</code> - null if in magnet mode</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setWantedPieces--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWantedPieces</h4>
<pre>public&nbsp;void&nbsp;setWantedPieces()</pre>
<div class="block">Only called externally from Storage after the double-check fails.
 Sets wantedBytes too.</div>
</li>
</ul>
<a name="getStorage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStorage</h4>
<pre>public&nbsp;<a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;getStorage()</pre>
</li>
</ul>
<a name="peerList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>peerList</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&gt;&nbsp;peerList()</pre>
<div class="block">for web page detailed stats</div>
</li>
</ul>
<a name="getID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getID</h4>
<pre>public&nbsp;byte[]&nbsp;getID()</pre>
</li>
</ul>
<a name="getName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getName()</pre>
</li>
</ul>
<a name="completed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completed</h4>
<pre>public&nbsp;boolean&nbsp;completed()</pre>
</li>
</ul>
<a name="getPeerCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerCount</h4>
<pre>public&nbsp;int&nbsp;getPeerCount()</pre>
<div class="block">might be wrong</div>
</li>
</ul>
<a name="getPeers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeers</h4>
<pre>public&nbsp;int&nbsp;getPeers()</pre>
<div class="block">should be right</div>
</li>
</ul>
<a name="getLeft--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeft</h4>
<pre>public&nbsp;long&nbsp;getLeft()</pre>
<div class="block">Bytes not yet in storage. Does NOT account for skipped files.
 Returns how many bytes are still needed to get the complete torrent.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>-1 if in magnet mode</dd>
</dl>
</li>
</ul>
<a name="getNeededLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNeededLength</h4>
<pre>public&nbsp;long&nbsp;getNeededLength()</pre>
<div class="block">Bytes still wanted. DOES account for skipped files.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>exact value. or -1 if no storage yet.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</li>
</ul>
<a name="getUploaded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUploaded</h4>
<pre>public&nbsp;long&nbsp;getUploaded()</pre>
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</li>
</ul>
<a name="setUploaded-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUploaded</h4>
<pre>public&nbsp;void&nbsp;setUploaded(long&nbsp;up)</pre>
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.15</dd>
</dl>
</li>
</ul>
<a name="getDownloaded--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloaded</h4>
<pre>public&nbsp;long&nbsp;getDownloaded()</pre>
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</li>
</ul>
<a name="setRateHistory-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRateHistory</h4>
<pre>public&nbsp;void&nbsp;setRateHistory(long&nbsp;up,
                           long&nbsp;down)</pre>
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</li>
</ul>
<a name="setRate-long-long:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRate</h4>
<pre>static&nbsp;void&nbsp;setRate(long&nbsp;val,
                    long[]&nbsp;array)</pre>
</li>
</ul>
<a name="getDownloadRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDownloadRate</h4>
<pre>public&nbsp;long&nbsp;getDownloadRate()</pre>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</li>
</ul>
<a name="getUploadRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUploadRate</h4>
<pre>public&nbsp;long&nbsp;getUploadRate()</pre>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</li>
</ul>
<a name="getCurrentUploadRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentUploadRate</h4>
<pre>public&nbsp;long&nbsp;getCurrentUploadRate()</pre>
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</li>
</ul>
<a name="getRate-long:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRate</h4>
<pre>static&nbsp;long&nbsp;getRate(long[]&nbsp;array)</pre>
</li>
</ul>
<a name="getMetaInfo--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaInfo</h4>
<pre>public&nbsp;<a href="../../../org/klomp/snark/MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;getMetaInfo()</pre>
</li>
</ul>
<a name="getInfoHash--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInfoHash</h4>
<pre>public&nbsp;byte[]&nbsp;getInfoHash()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="needPeers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needPeers</h4>
<pre>public&nbsp;boolean&nbsp;needPeers()</pre>
<div class="block">Inbound.
  Not halted, peers &lt; max.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</li>
</ul>
<a name="needOutboundPeers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needOutboundPeers</h4>
<pre>public&nbsp;boolean&nbsp;needOutboundPeers()</pre>
<div class="block">Outbound.
  Not halted, peers &lt; max, and need pieces.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</li>
</ul>
<a name="halted--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>halted</h4>
<pre>public&nbsp;boolean&nbsp;halted()</pre>
</li>
</ul>
<a name="halt--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>halt</h4>
<pre>public&nbsp;void&nbsp;halt()</pre>
</li>
</ul>
<a name="restart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>restart</h4>
<pre>public&nbsp;void&nbsp;restart()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.1</dd>
</dl>
</li>
</ul>
<a name="connected-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connected</h4>
<pre>public&nbsp;void&nbsp;connected(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html#connected-org.klomp.snark.Peer-">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#connected-org.klomp.snark.Peer-">connected</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that just got connected.</dd>
</dl>
</li>
</ul>
<a name="addPeer-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPeer</h4>
<pre>public&nbsp;boolean&nbsp;addPeer(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block">Add peer (inbound or outbound)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if actual attempt to add peer occurs</dd>
</dl>
</li>
</ul>
<a name="unchokePeer--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unchokePeer</h4>
<pre>void&nbsp;unchokePeer()</pre>
<div class="block">(Optimistically) unchoke. Must be called with peers synchronized</div>
</li>
</ul>
<a name="gotHave-org.klomp.snark.Peer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotHave</h4>
<pre>public&nbsp;boolean&nbsp;gotHave(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                       int&nbsp;piece)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html#gotHave-org.klomp.snark.Peer-int-">PeerListener</a></code></span></div>
<div class="block">Called when a have piece message is received. If the method
 returns true and the peer has not yet received a interested
 message or we indicated earlier to be not interested then an
 interested message will be send.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotHave-org.klomp.snark.Peer-int-">gotHave</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>piece</code> - the piece number that the per just got.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if we still want the given piece</dd>
</dl>
</li>
</ul>
<a name="gotBitField-org.klomp.snark.Peer-org.klomp.snark.BitField-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotBitField</h4>
<pre>public&nbsp;boolean&nbsp;gotBitField(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                           <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</pre>
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotBitField-org.klomp.snark.Peer-org.klomp.snark.BitField-">gotBitField</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>bitfield</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true when the BitField contains pieces we want, false if
 the piece is already known.</dd>
</dl>
</li>
</ul>
<a name="wantPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wantPiece</h4>
<pre>public&nbsp;int&nbsp;wantPiece(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                     <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</pre>
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#wantPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">wantPiece</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one of the pieces from the bitfield that we want or -1 if
 we are no longer interested in the peer.</dd>
</dl>
</li>
</ul>
<a name="updatePiecePriorities--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updatePiecePriorities</h4>
<pre>public&nbsp;void&nbsp;updatePiecePriorities()</pre>
<div class="block">Maps file priorities to piece priorities.
  Call after updating file priorities Storage.setPriority()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.1</dd>
</dl>
</li>
</ul>
<a name="gotRequest-org.klomp.snark.Peer-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotRequest</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&nbsp;gotRequest(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                            int&nbsp;piece,
                            int&nbsp;off,
                            int&nbsp;len)</pre>
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotRequest-org.klomp.snark.Peer-int-int-int-">gotRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that wants the piece.</dd>
<dd><code>piece</code> - the piece number requested.</dd>
<dd><code>off</code> - byte offset into the piece.</dd>
<dd><code>len</code> - length of the chunk requested.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>bytes or null for errors such as not having the piece yet</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - on IOE getting the data</dd>
</dl>
</li>
</ul>
<a name="uploaded-org.klomp.snark.Peer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>uploaded</h4>
<pre>public&nbsp;void&nbsp;uploaded(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                     int&nbsp;size)</pre>
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#uploaded-org.klomp.snark.Peer-int-">uploaded</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer to which size bytes where uploaded.</dd>
<dd><code>size</code> - the number of bytes that where uploaded.</dd>
</dl>
</li>
</ul>
<a name="downloaded-org.klomp.snark.Peer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloaded</h4>
<pre>public&nbsp;void&nbsp;downloaded(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                       int&nbsp;size)</pre>
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#downloaded-org.klomp.snark.Peer-int-">downloaded</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer from which size bytes where downloaded.</dd>
<dd><code>size</code> - the number of bytes that where downloaded.</dd>
</dl>
</li>
</ul>
<a name="gotPiece-org.klomp.snark.Peer-org.klomp.snark.PartialPiece-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotPiece</h4>
<pre>public&nbsp;boolean&nbsp;gotPiece(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                        <a href="../../../org/klomp/snark/PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</pre>
<div class="block">Returns false if the piece is no good (according to the hash).
 In that case the peer that supplied the piece should probably be
 blacklisted.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotPiece-org.klomp.snark.Peer-org.klomp.snark.PartialPiece-">gotPiece</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the piece.</dd>
<dd><code>pp</code> - the piece received.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true when the bytes represent the piece, false otherwise.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html?is-external=true" title="class or interface in java.lang">RuntimeException</a></code> - on IOE saving the piece</dd>
</dl>
</li>
</ul>
<a name="gotChoke-org.klomp.snark.Peer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotChoke</h4>
<pre>public&nbsp;void&nbsp;gotChoke(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                     boolean&nbsp;choke)</pre>
<div class="block">this does nothing but logging</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotChoke-org.klomp.snark.Peer-boolean-">gotChoke</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>choke</code> - true when the peer got a choke message, false when
 the peer got an unchoke message.</dd>
</dl>
</li>
</ul>
<a name="gotInterest-org.klomp.snark.Peer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotInterest</h4>
<pre>public&nbsp;void&nbsp;gotInterest(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                        boolean&nbsp;interest)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html#gotInterest-org.klomp.snark.Peer-boolean-">PeerListener</a></code></span></div>
<div class="block">Called when an interested message is received.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotInterest-org.klomp.snark.Peer-boolean-">gotInterest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>interest</code> - true when the peer got a interested message, false when
 the peer got an uninterested message.</dd>
</dl>
</li>
</ul>
<a name="disconnected-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnected</h4>
<pre>public&nbsp;void&nbsp;disconnected(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html#disconnected-org.klomp.snark.Peer-">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#disconnected-org.klomp.snark.Peer-">disconnected</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that just got disconnected.</dd>
</dl>
</li>
</ul>
<a name="savePartialPieces-org.klomp.snark.Peer-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>savePartialPieces</h4>
<pre>public&nbsp;void&nbsp;savePartialPieces(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</pre>
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.
  Replace a partial piece in the List if the new one is bigger.
  Storage method is private so we can expand to save multiple partials
  if we wish.

  Also mark the piece unrequested if this peer was the only one.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#savePartialPieces-org.klomp.snark.Peer-java.util.List-">savePartialPieces</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - partials, must include the zero-offset (empty) ones too.
              No dup pieces, piece.setDownloaded() must be set.
              len field in Requests is ignored.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</li>
</ul>
<a name="getPartialPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPartialPiece</h4>
<pre>public&nbsp;<a href="../../../org/klomp/snark/PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;getPartialPiece(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                                    <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</pre>
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#getPartialPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">getPartialPiece</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>havePieces</code> - pieces the peer has, the rv will be one of these</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>PartialPiece or null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</li>
</ul>
<a name="needPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needPiece</h4>
<pre>public&nbsp;boolean&nbsp;needPiece(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                         <a href="../../../org/klomp/snark/BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</pre>
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece. Returns true if wantPiece() or getPartialPiece() would return a piece.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#needPiece-org.klomp.snark.Peer-org.klomp.snark.BitField-">needPiece</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>if we want any of what the peer has</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.2</dd>
</dl>
</li>
</ul>
<a name="gotExtension-org.klomp.snark.Peer-int-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotExtension</h4>
<pre>public&nbsp;void&nbsp;gotExtension(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                         int&nbsp;id,
                         byte[]&nbsp;bs)</pre>
<div class="block">PeerListener callback</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotExtension-org.klomp.snark.Peer-int-byte:A-">gotExtension</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>id</code> - the message ID</dd>
<dd><code>bs</code> - the message payload</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="sendPeers-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendPeers</h4>
<pre>void&nbsp;sendPeers(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block">Send a PEX message to the peer, if he supports PEX.
  This just sends everybody we are connected to, we don't
  track new vs. old peers yet.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="sendDHT-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendDHT</h4>
<pre>void&nbsp;sendDHT(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>DHT</dd>
</dl>
</li>
</ul>
<a name="sendCommentReq-org.klomp.snark.Peer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendCommentReq</h4>
<pre>void&nbsp;sendCommentReq(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</pre>
<div class="block">Send a commment request message to the peer, if he supports it.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</li>
</ul>
<a name="setStorage-org.klomp.snark.Storage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStorage</h4>
<pre>public&nbsp;void&nbsp;setStorage(<a href="../../../org/klomp/snark/Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</pre>
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="gotPort-org.klomp.snark.Peer-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotPort</h4>
<pre>public&nbsp;void&nbsp;gotPort(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                    int&nbsp;port,
                    int&nbsp;rport)</pre>
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotPort-org.klomp.snark.Peer-int-int-">gotPort</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rport</code> - must be port + 1</dd>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>port</code> - the query port</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="gotPeers-org.klomp.snark.Peer-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotPeers</h4>
<pre>public&nbsp;void&nbsp;gotPeers(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</pre>
<div class="block">Get peers from PEX -
  PeerListener callback</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotPeers-org.klomp.snark.Peer-java.util.List-">gotPeers</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>peers</code> - the peer IDs (dest hashes)</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="gotCommentReq-org.klomp.snark.Peer-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotCommentReq</h4>
<pre>public&nbsp;void&nbsp;gotCommentReq(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                          int&nbsp;num)</pre>
<div class="block">Called when comments are requested via ut_comment</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotCommentReq-org.klomp.snark.Peer-int-">gotCommentReq</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</li>
</ul>
<a name="gotComments-org.klomp.snark.Peer-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gotComments</h4>
<pre>public&nbsp;void&nbsp;gotComments(<a href="../../../org/klomp/snark/Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
                        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../org/klomp/snark/comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</pre>
<div class="block">Called when comments are received via ut_comment</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#gotComments-org.klomp.snark.Peer-java.util.List-">gotComments</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>comments</code> - non-null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.31</dd>
</dl>
</li>
</ul>
<a name="getPEXPeers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPEXPeers</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../org/klomp/snark/PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;getPEXPeers()</pre>
<div class="block">Called by TrackerClient</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Set itself, modifiable, not a copy, caller should clear()</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="allowedUploaders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allowedUploaders</h4>
<pre>public&nbsp;int&nbsp;allowedUploaders()</pre>
<div class="block">Return number of allowed uploaders for this torrent.
 Check with Snark to see if we are over the total upload limit.</div>
</li>
</ul>
<a name="getUploaders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUploaders</h4>
<pre>public&nbsp;int&nbsp;getUploaders()</pre>
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.4</dd>
</dl>
</li>
</ul>
<a name="getInterestedUploaders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInterestedUploaders</h4>
<pre>public&nbsp;int&nbsp;getInterestedUploaders()</pre>
<div class="block">Uploaders, interested only.
  Use this to calculate the global total, so that
  unchoked but uninterested peers don't count against the global limit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</li>
</ul>
<a name="setUploaders-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUploaders</h4>
<pre>public&nbsp;void&nbsp;setUploaders(int&nbsp;upl,
                         int&nbsp;inter)</pre>
<div class="block">Set the uploaders and interestedUploaders counts</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>upl</code> - whether interested or not</dd>
<dd><code>inter</code> - interested only</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</li>
</ul>
<a name="decrementUploaders-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decrementUploaders</h4>
<pre>public&nbsp;void&nbsp;decrementUploaders(boolean&nbsp;isInterested)</pre>
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</li>
</ul>
<a name="getInterestedAndChoking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInterestedAndChoking</h4>
<pre>public&nbsp;int&nbsp;getInterestedAndChoking()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</li>
</ul>
<a name="addInterestedAndChoking-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addInterestedAndChoking</h4>
<pre>public&nbsp;void&nbsp;addInterestedAndChoking(int&nbsp;toAdd)</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.28</dd>
</dl>
</li>
</ul>
<a name="overUpBWLimit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overUpBWLimit</h4>
<pre>public&nbsp;boolean&nbsp;overUpBWLimit()</pre>
<div class="block">Is snark as a whole over its limit?</div>
</li>
</ul>
<a name="overUpBWLimit-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>overUpBWLimit</h4>
<pre>public&nbsp;boolean&nbsp;overUpBWLimit(long&nbsp;total)</pre>
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</li>
</ul>
<a name="getUtil--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUtil</h4>
<pre>public&nbsp;<a href="../../../org/klomp/snark/I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;getUtil()</pre>
<div class="block">Convenience</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../org/klomp/snark/PeerListener.html#getUtil--">getUtil</a></code>&nbsp;in interface&nbsp;<code><a href="../../../org/klomp/snark/PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.2</dd>
</dl>
</li>
</ul>
<a name="banWebPeer-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>banWebPeer</h4>
<pre>public&nbsp;void&nbsp;banWebPeer(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host,
                       boolean&nbsp;isPermanent)</pre>
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>host</code> - the hostname</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.49</dd>
</dl>
</li>
</ul>
<a name="isWebPeerBanned-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isWebPeerBanned</h4>
<pre>public&nbsp;boolean&nbsp;isWebPeerBanned(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;host)</pre>
<div class="block">Is a web peer banned?</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>host</code> - the hostname</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.49</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/PeerCoordinator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/klomp/snark/PeerConnectionOut.html" title="class in org.klomp.snark"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/klomp/snark/PeerCoordinatorSet.html" title="class in org.klomp.snark"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/klomp/snark/PeerCoordinator.html" target="_top">Frames</a></li>
<li><a href="PeerCoordinator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
