<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) -->
<title>PeerCoordinator (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: org.klomp.snark, class: PeerCoordinator">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PeerCoordinator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.klomp.snark</a></div>
<h1 title="Class PeerCoordinator" class="title">Class PeerCoordinator</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.klomp.snark.PeerCoordinator</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">class </span><span class="element-name type-name-label">PeerCoordinator</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></span></div>
<div class="block">Coordinates what peer does what.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) static final long</code></div>
<div class="col-second even-row-color"><code><a href="#CHECK_PERIOD" class="member-name-link">CHECK_PERIOD</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final long</code></div>
<div class="col-second odd-row-color"><code><a href="#MAX_INACTIVE" class="member-name-link">MAX_INACTIVE</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final long</code></div>
<div class="col-second even-row-color"><code><a href="#MAX_SEED_INACTIVE" class="member-name-link">MAX_SEED_INACTIVE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#MAX_UPLOADERS" class="member-name-link">MAX_UPLOADERS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) <a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></div>
<div class="col-second even-row-color"><code><a href="#metainfo" class="member-name-link">metainfo</a></code></div>
<div class="col-last even-row-color">
<div class="block">External use by PeerMonitorTask only.</div>
</div>
<div class="col-first odd-row-color"><code>(package private) final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#peers" class="member-name-link">peers</a></code></div>
<div class="col-last odd-row-color">
<div class="block">synchronize on this when changing peers or downloaders.</div>
</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#RATE_DEPTH" class="member-name-link">RATE_DEPTH</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) <a href="Storage.html" title="class in org.klomp.snark">Storage</a></code></div>
<div class="col-second odd-row-color"><code><a href="#storage" class="member-name-link">storage</a></code></div>
<div class="col-last odd-row-color">
<div class="block">External use by PeerMonitorTask only.</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(org.klomp.snark.I2PSnarkUtil,byte%5B%5D,byte%5B%5D,org.klomp.snark.MetaInfo,org.klomp.snark.Storage,org.klomp.snark.CoordinatorListener,org.klomp.snark.Snark)" class="member-name-link">PeerCoordinator</a><wbr>(<a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
 byte[]&nbsp;id,
 byte[]&nbsp;infohash,
 <a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
 <a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
 <a href="CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
 <a href="Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addInterestedAndChoking(int)" class="member-name-link">addInterestedAndChoking</a><wbr>(int&nbsp;toAdd)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addPeer(org.klomp.snark.Peer)" class="member-name-link">addPeer</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Add peer (inbound or outbound)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#allowedUploaders()" class="member-name-link">allowedUploaders</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return number of allowed uploaders for this torrent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#banWebPeer(java.lang.String,boolean)" class="member-name-link">banWebPeer</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host,
 boolean&nbsp;isPermanent)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#completed()" class="member-name-link">completed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#connected(org.klomp.snark.Peer)" class="member-name-link">connected</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#decrementUploaders(boolean)" class="member-name-link">decrementUploaders</a><wbr>(boolean&nbsp;isInterested)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#disconnected(org.klomp.snark.Peer)" class="member-name-link">disconnected</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#downloaded(org.klomp.snark.Peer,int)" class="member-name-link">downloaded</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;size)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentUploadRate()" class="member-name-link">getCurrentUploadRate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDownloaded()" class="member-name-link">getDownloaded</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDownloadRate()" class="member-name-link">getDownloadRate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getID()" class="member-name-link">getID</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInfoHash()" class="member-name-link">getInfoHash</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInterestedAndChoking()" class="member-name-link">getInterestedAndChoking</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInterestedUploaders()" class="member-name-link">getInterestedUploaders</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uploaders, interested only.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLeft()" class="member-name-link">getLeft</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Bytes not yet in storage.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMetaInfo()" class="member-name-link">getMetaInfo</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getName()" class="member-name-link">getName</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNeededLength()" class="member-name-link">getNeededLength</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Bytes still wanted.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)" class="member-name-link">getPartialPiece</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPeerCount()" class="member-name-link">getPeerCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">might be wrong</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPeers()" class="member-name-link">getPeers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">should be right</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPEXPeers()" class="member-name-link">getPEXPeers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called by TrackerClient</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#getRate(long%5B%5D)" class="member-name-link">getRate</a><wbr>(long[]&nbsp;array)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Storage.html" title="class in org.klomp.snark">Storage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getStorage()" class="member-name-link">getStorage</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUploaded()" class="member-name-link">getUploaded</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUploaders()" class="member-name-link">getUploaders</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUploadRate()" class="member-name-link">getUploadRate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUtil()" class="member-name-link">getUtil</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Convenience</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)" class="member-name-link">gotBitField</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotChoke(org.klomp.snark.Peer,boolean)" class="member-name-link">gotChoke</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 boolean&nbsp;choke)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">this does nothing but logging</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotCommentReq(org.klomp.snark.Peer,int)" class="member-name-link">gotCommentReq</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;num)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when comments are requested via ut_comment</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotComments(org.klomp.snark.Peer,java.util.List)" class="member-name-link">gotComments</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when comments are received via ut_comment</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotExtension(org.klomp.snark.Peer,int,byte%5B%5D)" class="member-name-link">gotExtension</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;id,
 byte[]&nbsp;bs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PeerListener callback</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotHave(org.klomp.snark.Peer,int)" class="member-name-link">gotHave</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;piece)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when a have piece message is received.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotInterest(org.klomp.snark.Peer,boolean)" class="member-name-link">gotInterest</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 boolean&nbsp;interest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when an interested message is received.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotPeers(org.klomp.snark.Peer,java.util.List)" class="member-name-link">gotPeers</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get peers from PEX -
  PeerListener callback</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)" class="member-name-link">gotPiece</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns false if the piece is no good (according to the hash).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotPort(org.klomp.snark.Peer,int,int)" class="member-name-link">gotPort</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;port,
 int&nbsp;rport)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotRequest(org.klomp.snark.Peer,int,int,int)" class="member-name-link">gotRequest</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;piece,
 int&nbsp;off,
 int&nbsp;len)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#halt()" class="member-name-link">halt</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#halted()" class="member-name-link">halted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isWebPeerBanned(java.lang.String)" class="member-name-link">isWebPeerBanned</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is a web peer banned?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#needOutboundPeers()" class="member-name-link">needOutboundPeers</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Outbound.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#needPeers()" class="member-name-link">needPeers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Inbound.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)" class="member-name-link">needPiece</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#overUpBWLimit()" class="member-name-link">overUpBWLimit</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is snark as a whole over its limit?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#overUpBWLimit(long)" class="member-name-link">overUpBWLimit</a><wbr>(long&nbsp;total)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#peerList()" class="member-name-link">peerList</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">for web page detailed stats</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#restart()" class="member-name-link">restart</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#savePartialPieces(org.klomp.snark.Peer,java.util.List)" class="member-name-link">savePartialPieces</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendCommentReq(org.klomp.snark.Peer)" class="member-name-link">sendCommentReq</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send a commment request message to the peer, if he supports it.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendDHT(org.klomp.snark.Peer)" class="member-name-link">sendDHT</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendPeers(org.klomp.snark.Peer)" class="member-name-link">sendPeers</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Send a PEX message to the peer, if he supports PEX.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#setRate(long,long%5B%5D)" class="member-name-link">setRate</a><wbr>(long&nbsp;val,
 long[]&nbsp;array)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRateHistory(long,long)" class="member-name-link">setRateHistory</a><wbr>(long&nbsp;up,
 long&nbsp;down)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStorage(org.klomp.snark.Storage)" class="member-name-link">setStorage</a><wbr>(<a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUploaded(long)" class="member-name-link">setUploaded</a><wbr>(long&nbsp;up)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setUploaders(int,int)" class="member-name-link">setUploaders</a><wbr>(int&nbsp;upl,
 int&nbsp;inter)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set the uploaders and interestedUploaders counts</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setWantedPieces()" class="member-name-link">setWantedPieces</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Only called externally from Storage after the double-check fails.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unchokePeer()" class="member-name-link">unchokePeer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">(Optimistically) unchoke.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updatePiecePriorities()" class="member-name-link">updatePiecePriorities</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Maps file priorities to piece priorities.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#uploaded(org.klomp.snark.Peer,int)" class="member-name-link">uploaded</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;size)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)" class="member-name-link">wantPiece</a><wbr>(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="metainfo">
<h3>metainfo</h3>
<div class="member-signature"><span class="return-type"><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></span>&nbsp;<span class="element-name">metainfo</span></div>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</section>
</li>
<li>
<section class="detail" id="storage">
<h3>storage</h3>
<div class="member-signature"><span class="return-type"><a href="Storage.html" title="class in org.klomp.snark">Storage</a></span>&nbsp;<span class="element-name">storage</span></div>
<div class="block">External use by PeerMonitorTask only.
 Will be null when in magnet mode.</div>
</section>
</li>
<li>
<section class="detail" id="CHECK_PERIOD">
<h3>CHECK_PERIOD</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">CHECK_PERIOD</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.CHECK_PERIOD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_UPLOADERS">
<h3>MAX_UPLOADERS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_UPLOADERS</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_UPLOADERS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_INACTIVE">
<h3>MAX_INACTIVE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">MAX_INACTIVE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_INACTIVE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_SEED_INACTIVE">
<h3>MAX_SEED_INACTIVE</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">MAX_SEED_INACTIVE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.MAX_SEED_INACTIVE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="RATE_DEPTH">
<h3>RATE_DEPTH</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">RATE_DEPTH</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#org.klomp.snark.PeerCoordinator.RATE_DEPTH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="peers">
<h3>peers</h3>
<div class="member-signature"><span class="modifiers">final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Deque.html" title="class or interface in java.util" class="external-link">Deque</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</span>&nbsp;<span class="element-name">peers</span></div>
<div class="block">synchronize on this when changing peers or downloaders.
 This is a Queue, not a Set, because PeerCheckerTask keeps things in order for choking/unchoking.
 External use by PeerMonitorTask only.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(org.klomp.snark.I2PSnarkUtil,byte[],byte[],org.klomp.snark.MetaInfo,org.klomp.snark.Storage,org.klomp.snark.CoordinatorListener,org.klomp.snark.Snark)">
<h3>PeerCoordinator</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PeerCoordinator</span><wbr><span class="parameters">(<a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a>&nbsp;util,
 byte[]&nbsp;id,
 byte[]&nbsp;infohash,
 <a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a>&nbsp;metainfo,
 <a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;storage,
 <a href="CoordinatorListener.html" title="interface in org.klomp.snark">CoordinatorListener</a>&nbsp;listener,
 <a href="Snark.html" title="class in org.klomp.snark">Snark</a>&nbsp;torrent)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>metainfo</code> - null if in magnet mode</dd>
<dd><code>storage</code> - null if in magnet mode</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="setWantedPieces()">
<h3>setWantedPieces</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setWantedPieces</span>()</div>
<div class="block">Only called externally from Storage after the double-check fails.
 Sets wantedBytes too.</div>
</section>
</li>
<li>
<section class="detail" id="getStorage()">
<h3>getStorage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Storage.html" title="class in org.klomp.snark">Storage</a></span>&nbsp;<span class="element-name">getStorage</span>()</div>
</section>
</li>
<li>
<section class="detail" id="peerList()">
<h3>peerList</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&gt;</span>&nbsp;<span class="element-name">peerList</span>()</div>
<div class="block">for web page detailed stats</div>
</section>
</li>
<li>
<section class="detail" id="getID()">
<h3>getID</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getID</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getName()">
<h3>getName</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getName</span>()</div>
</section>
</li>
<li>
<section class="detail" id="completed()">
<h3>completed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">completed</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPeerCount()">
<h3>getPeerCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPeerCount</span>()</div>
<div class="block">might be wrong</div>
</section>
</li>
<li>
<section class="detail" id="getPeers()">
<h3>getPeers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPeers</span>()</div>
<div class="block">should be right</div>
</section>
</li>
<li>
<section class="detail" id="getLeft()">
<h3>getLeft</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLeft</span>()</div>
<div class="block">Bytes not yet in storage. Does NOT account for skipped files.
 Returns how many bytes are still needed to get the complete torrent.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>-1 if in magnet mode</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNeededLength()">
<h3>getNeededLength</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getNeededLength</span>()</div>
<div class="block">Bytes still wanted. DOES account for skipped files.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>exact value. or -1 if no storage yet.</dd>
<dt>Since:</dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUploaded()">
<h3>getUploaded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUploaded</span>()</div>
<div class="block">Returns the total number of uploaded bytes of all peers.</div>
</section>
</li>
<li>
<section class="detail" id="setUploaded(long)">
<h3>setUploaded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUploaded</span><wbr><span class="parameters">(long&nbsp;up)</span></div>
<div class="block">Sets the initial total of uploaded bytes of all peers (from a saved status)</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.15</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDownloaded()">
<h3>getDownloaded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getDownloaded</span>()</div>
<div class="block">Returns the total number of downloaded bytes of all peers.</div>
</section>
</li>
<li>
<section class="detail" id="setRateHistory(long,long)">
<h3>setRateHistory</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRateHistory</span><wbr><span class="parameters">(long&nbsp;up,
 long&nbsp;down)</span></div>
<div class="block">Push the total uploaded/downloaded onto a RATE_DEPTH deep stack</div>
</section>
</li>
<li>
<section class="detail" id="setRate(long,long[])">
<h3>setRate</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRate</span><wbr><span class="parameters">(long&nbsp;val,
 long[]&nbsp;array)</span></div>
</section>
</li>
<li>
<section class="detail" id="getDownloadRate()">
<h3>getDownloadRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getDownloadRate</span>()</div>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</section>
</li>
<li>
<section class="detail" id="getUploadRate()">
<h3>getUploadRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUploadRate</span>()</div>
<div class="block">Returns the average rate in Bps
 over last RATE_DEPTH * CHECK_PERIOD seconds</div>
</section>
</li>
<li>
<section class="detail" id="getCurrentUploadRate()">
<h3>getCurrentUploadRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCurrentUploadRate</span>()</div>
<div class="block">Returns the rate in Bps
 over last complete CHECK_PERIOD seconds</div>
</section>
</li>
<li>
<section class="detail" id="getRate(long[])">
<h3>getRate</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getRate</span><wbr><span class="parameters">(long[]&nbsp;array)</span></div>
</section>
</li>
<li>
<section class="detail" id="getMetaInfo()">
<h3>getMetaInfo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="MetaInfo.html" title="class in org.klomp.snark">MetaInfo</a></span>&nbsp;<span class="element-name">getMetaInfo</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInfoHash()">
<h3>getInfoHash</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getInfoHash</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="needPeers()">
<h3>needPeers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">needPeers</span>()</div>
<div class="block">Inbound.
  Not halted, peers &lt; max.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="needOutboundPeers()">
<h3>needOutboundPeers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">needOutboundPeers</span>()</div>
<div class="block">Outbound.
  Not halted, peers &lt; max, and need pieces.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="halted()">
<h3>halted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">halted</span>()</div>
</section>
</li>
<li>
<section class="detail" id="halt()">
<h3>halt</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">halt</span>()</div>
</section>
</li>
<li>
<section class="detail" id="restart()">
<h3>restart</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">restart</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="connected(org.klomp.snark.Peer)">
<h3>connected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">connected</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="PeerListener.html#connected(org.klomp.snark.Peer)">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer has started and the
 handshake was successfull.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#connected(org.klomp.snark.Peer)">connected</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that just got connected.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addPeer(org.klomp.snark.Peer)">
<h3>addPeer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">addPeer</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Add peer (inbound or outbound)</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if actual attempt to add peer occurs</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unchokePeer()">
<h3>unchokePeer</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">unchokePeer</span>()</div>
<div class="block">(Optimistically) unchoke. Must be called with peers synchronized</div>
</section>
</li>
<li>
<section class="detail" id="gotHave(org.klomp.snark.Peer,int)">
<h3>gotHave</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">gotHave</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;piece)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="PeerListener.html#gotHave(org.klomp.snark.Peer,int)">PeerListener</a></code></span></div>
<div class="block">Called when a have piece message is received. If the method
 returns true and the peer has not yet received a interested
 message or we indicated earlier to be not interested then an
 interested message will be send.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotHave(org.klomp.snark.Peer,int)">gotHave</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>piece</code> - the piece number that the per just got.</dd>
<dt>Returns:</dt>
<dd>true if we still want the given piece</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)">
<h3>gotBitField</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">gotBitField</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;bitfield)</span></div>
<div class="block">Returns true if the given bitfield contains at least one piece we
 are interested in.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotBitField(org.klomp.snark.Peer,org.klomp.snark.BitField)">gotBitField</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>bitfield</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt>Returns:</dt>
<dd>true when the BitField contains pieces we want, false if
 the piece is already known.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">
<h3>wantPiece</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">wantPiece</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Returns one of pieces in the given BitField that is still wanted or
 -1 if none of the given pieces are wanted.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#wantPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">wantPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt>Returns:</dt>
<dd>one of the pieces from the bitfield that we want or -1 if
 we are no longer interested in the peer.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updatePiecePriorities()">
<h3>updatePiecePriorities</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updatePiecePriorities</span>()</div>
<div class="block">Maps file priorities to piece priorities.
  Call after updating file priorities Storage.setPriority()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.1</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotRequest(org.klomp.snark.Peer,int,int,int)">
<h3>gotRequest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a></span>&nbsp;<span class="element-name">gotRequest</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;piece,
 int&nbsp;off,
 int&nbsp;len)</span></div>
<div class="block">Returns a byte array containing the requested piece or null of
 the piece is unknown.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotRequest(org.klomp.snark.Peer,int,int,int)">gotRequest</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that wants the piece.</dd>
<dd><code>piece</code> - the piece number requested.</dd>
<dd><code>off</code> - byte offset into the piece.</dd>
<dd><code>len</code> - length of the chunk requested.</dd>
<dt>Returns:</dt>
<dd>bytes or null for errors such as not having the piece yet</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - on IOE getting the data</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="uploaded(org.klomp.snark.Peer,int)">
<h3>uploaded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">uploaded</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;size)</span></div>
<div class="block">Called when a peer has uploaded some bytes of a piece.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#uploaded(org.klomp.snark.Peer,int)">uploaded</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer to which size bytes where uploaded.</dd>
<dd><code>size</code> - the number of bytes that where uploaded.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="downloaded(org.klomp.snark.Peer,int)">
<h3>downloaded</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">downloaded</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;size)</span></div>
<div class="block">Called when a peer has downloaded some bytes of a piece.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#downloaded(org.klomp.snark.Peer,int)">downloaded</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer from which size bytes where downloaded.</dd>
<dd><code>size</code> - the number of bytes that where downloaded.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)">
<h3>gotPiece</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">gotPiece</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a>&nbsp;pp)</span></div>
<div class="block">Returns false if the piece is no good (according to the hash).
 In that case the peer that supplied the piece should probably be
 blacklisted.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotPiece(org.klomp.snark.Peer,org.klomp.snark.PartialPiece)">gotPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the piece.</dd>
<dd><code>pp</code> - the piece received.</dd>
<dt>Returns:</dt>
<dd>true when the bytes represent the piece, false otherwise.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/RuntimeException.html" title="class or interface in java.lang" class="external-link">RuntimeException</a></code> - on IOE saving the piece</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotChoke(org.klomp.snark.Peer,boolean)">
<h3>gotChoke</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotChoke</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 boolean&nbsp;choke)</span></div>
<div class="block">this does nothing but logging</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotChoke(org.klomp.snark.Peer,boolean)">gotChoke</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>choke</code> - true when the peer got a choke message, false when
 the peer got an unchoke message.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotInterest(org.klomp.snark.Peer,boolean)">
<h3>gotInterest</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotInterest</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 boolean&nbsp;interest)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="PeerListener.html#gotInterest(org.klomp.snark.Peer,boolean)">PeerListener</a></code></span></div>
<div class="block">Called when an interested message is received.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotInterest(org.klomp.snark.Peer,boolean)">gotInterest</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>interest</code> - true when the peer got a interested message, false when
 the peer got an uninterested message.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="disconnected(org.klomp.snark.Peer)">
<h3>disconnected</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">disconnected</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="PeerListener.html#disconnected(org.klomp.snark.Peer)">PeerListener</a></code></span></div>
<div class="block">Called when the connection to the peer was terminated or the
 connection handshake failed.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#disconnected(org.klomp.snark.Peer)">disconnected</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that just got disconnected.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="savePartialPieces(org.klomp.snark.Peer,java.util.List)">
<h3>savePartialPieces</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">savePartialPieces</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Request.html" title="class in org.klomp.snark">Request</a>&gt;&nbsp;partials)</span></div>
<div class="block">Save partial pieces on peer disconnection
  and hopefully restart it later.
  Replace a partial piece in the List if the new one is bigger.
  Storage method is private so we can expand to save multiple partials
  if we wish.

  Also mark the piece unrequested if this peer was the only one.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#savePartialPieces(org.klomp.snark.Peer,java.util.List)">savePartialPieces</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - partials, must include the zero-offset (empty) ones too.
              No dup pieces, piece.setDownloaded() must be set.
              len field in Requests is ignored.</dd>
<dt>Since:</dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">
<h3>getPartialPiece</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PartialPiece.html" title="class in org.klomp.snark">PartialPiece</a></span>&nbsp;<span class="element-name">getPartialPiece</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Return partial piece to the PeerState if it's still wanted and peer has it.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#getPartialPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">getPartialPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>havePieces</code> - pieces the peer has, the rv will be one of these</dd>
<dt>Returns:</dt>
<dd>PartialPiece or null</dd>
<dt>Since:</dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">
<h3>needPiece</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">needPiece</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="BitField.html" title="class in org.klomp.snark">BitField</a>&nbsp;havePieces)</span></div>
<div class="block">Called when we are downloading from the peer and may need to ask for
 a new piece. Returns true if wantPiece() or getPartialPiece() would return a piece.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#needPiece(org.klomp.snark.Peer,org.klomp.snark.BitField)">needPiece</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that will be asked to provide the piece.</dd>
<dd><code>havePieces</code> - a BitField containing the pieces that the other
 side has.</dd>
<dt>Returns:</dt>
<dd>if we want any of what the peer has</dd>
<dt>Since:</dt>
<dd>0.8.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotExtension(org.klomp.snark.Peer,int,byte[])">
<h3>gotExtension</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotExtension</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;id,
 byte[]&nbsp;bs)</span></div>
<div class="block">PeerListener callback</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotExtension(org.klomp.snark.Peer,int,byte%5B%5D)">gotExtension</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>id</code> - the message ID</dd>
<dd><code>bs</code> - the message payload</dd>
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendPeers(org.klomp.snark.Peer)">
<h3>sendPeers</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">sendPeers</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a PEX message to the peer, if he supports PEX.
  This just sends everybody we are connected to, we don't
  track new vs. old peers yet.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendDHT(org.klomp.snark.Peer)">
<h3>sendDHT</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">sendDHT</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a DHT message to the peer, if we both support DHT.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>DHT</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendCommentReq(org.klomp.snark.Peer)">
<h3>sendCommentReq</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">sendCommentReq</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer)</span></div>
<div class="block">Send a commment request message to the peer, if he supports it.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setStorage(org.klomp.snark.Storage)">
<h3>setStorage</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStorage</span><wbr><span class="parameters">(<a href="Storage.html" title="class in org.klomp.snark">Storage</a>&nbsp;stg)</span></div>
<div class="block">Sets the storage after transition out of magnet mode
  Snark calls this after we call gotMetaInfo()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotPort(org.klomp.snark.Peer,int,int)">
<h3>gotPort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotPort</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;port,
 int&nbsp;rport)</span></div>
<div class="block">PeerListener callback
  Tell the DHT to ping it, this will get back the node info</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotPort(org.klomp.snark.Peer,int,int)">gotPort</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>port</code> - the query port</dd>
<dd><code>rport</code> - must be port + 1</dd>
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotPeers(org.klomp.snark.Peer,java.util.List)">
<h3>gotPeers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotPeers</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;&nbsp;peers)</span></div>
<div class="block">Get peers from PEX -
  PeerListener callback</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotPeers(org.klomp.snark.Peer,java.util.List)">gotPeers</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>peer</code> - the Peer that got the message.</dd>
<dd><code>peers</code> - the peer IDs (dest hashes)</dd>
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotCommentReq(org.klomp.snark.Peer,int)">
<h3>gotCommentReq</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotCommentReq</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 int&nbsp;num)</span></div>
<div class="block">Called when comments are requested via ut_comment</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotCommentReq(org.klomp.snark.Peer,int)">gotCommentReq</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Since:</dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotComments(org.klomp.snark.Peer,java.util.List)">
<h3>gotComments</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">gotComments</span><wbr><span class="parameters">(<a href="Peer.html" title="class in org.klomp.snark">Peer</a>&nbsp;peer,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="comments/Comment.html" title="class in org.klomp.snark.comments">Comment</a>&gt;&nbsp;comments)</span></div>
<div class="block">Called when comments are received via ut_comment</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#gotComments(org.klomp.snark.Peer,java.util.List)">gotComments</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Parameters:</dt>
<dd><code>comments</code> - non-null</dd>
<dt>Since:</dt>
<dd>0.9.31</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getPEXPeers()">
<h3>getPEXPeers</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="PeerID.html" title="class in org.klomp.snark">PeerID</a>&gt;</span>&nbsp;<span class="element-name">getPEXPeers</span>()</div>
<div class="block">Called by TrackerClient</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the Set itself, modifiable, not a copy, caller should clear()</dd>
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allowedUploaders()">
<h3>allowedUploaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">allowedUploaders</span>()</div>
<div class="block">Return number of allowed uploaders for this torrent.
 Check with Snark to see if we are over the total upload limit.</div>
</section>
</li>
<li>
<section class="detail" id="getUploaders()">
<h3>getUploaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getUploaders</span>()</div>
<div class="block">Uploaders whether interested or not
  Use this for per-torrent limits.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current</dd>
<dt>Since:</dt>
<dd>0.8.4</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInterestedUploaders()">
<h3>getInterestedUploaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getInterestedUploaders</span>()</div>
<div class="block">Uploaders, interested only.
  Use this to calculate the global total, so that
  unchoked but uninterested peers don't count against the global limit.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current</dd>
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setUploaders(int,int)">
<h3>setUploaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setUploaders</span><wbr><span class="parameters">(int&nbsp;upl,
 int&nbsp;inter)</span></div>
<div class="block">Set the uploaders and interestedUploaders counts</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>upl</code> - whether interested or not</dd>
<dd><code>inter</code> - interested only</dd>
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="decrementUploaders(boolean)">
<h3>decrementUploaders</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">decrementUploaders</span><wbr><span class="parameters">(boolean&nbsp;isInterested)</span></div>
<div class="block">Decrement the uploaders and (if set) the interestedUploaders counts</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInterestedAndChoking()">
<h3>getInterestedAndChoking</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getInterestedAndChoking</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>current</dd>
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addInterestedAndChoking(int)">
<h3>addInterestedAndChoking</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addInterestedAndChoking</span><wbr><span class="parameters">(int&nbsp;toAdd)</span></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="overUpBWLimit()">
<h3>overUpBWLimit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">overUpBWLimit</span>()</div>
<div class="block">Is snark as a whole over its limit?</div>
</section>
</li>
<li>
<section class="detail" id="overUpBWLimit(long)">
<h3>overUpBWLimit</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">overUpBWLimit</span><wbr><span class="parameters">(long&nbsp;total)</span></div>
<div class="block">Is a particular peer who has downloaded this many bytes from us
  in the last CHECK_PERIOD over its limit?</div>
</section>
</li>
<li>
<section class="detail" id="getUtil()">
<h3>getUtil</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="I2PSnarkUtil.html" title="class in org.klomp.snark">I2PSnarkUtil</a></span>&nbsp;<span class="element-name">getUtil</span>()</div>
<div class="block">Convenience</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="PeerListener.html#getUtil()">getUtil</a></code>&nbsp;in interface&nbsp;<code><a href="PeerListener.html" title="interface in org.klomp.snark">PeerListener</a></code></dd>
<dt>Since:</dt>
<dd>0.9.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="banWebPeer(java.lang.String,boolean)">
<h3>banWebPeer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">banWebPeer</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host,
 boolean&nbsp;isPermanent)</span></div>
<div class="block">Ban a web peer for this torrent, for while or permanently.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>host</code> - the hostname</dd>
<dt>Since:</dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isWebPeerBanned(java.lang.String)">
<h3>isWebPeerBanned</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isWebPeerBanned</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;host)</span></div>
<div class="block">Is a web peer banned?</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>host</code> - the hostname</dd>
<dt>Since:</dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
