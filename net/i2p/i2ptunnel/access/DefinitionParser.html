<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DefinitionParser (I2P Anonymous Network - Java Documentation - Version 1.6.1)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefinitionParser (I2P Anonymous Network - Java Documentation - Version 1.6.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefinitionParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/i2p/i2ptunnel/access/AccessFilter.html" title="class in net.i2p.i2ptunnel.access"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/i2p/i2ptunnel/access/DestTracker.html" title="class in net.i2p.i2ptunnel.access"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/i2ptunnel/access/DefinitionParser.html" target="_top">Frames</a></li>
<li><a href="DefinitionParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.i2ptunnel.access</div>
<h2 title="Class DefinitionParser" class="title">Class DefinitionParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.i2ptunnel.access.DefinitionParser</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>class <span class="typeNameLabel">DefinitionParser</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Utility class for parsing filter definitions</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.40</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/i2p/i2ptunnel/access/DefinitionParser.html#DefinitionParser--">DefinitionParser</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) static <a href="../../../../net/i2p/i2ptunnel/access/FilterDefinition.html" title="class in net.i2p.i2ptunnel.access">FilterDefinition</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/i2ptunnel/access/DefinitionParser.html#parse-java.lang.String:A-">parse</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;definition)</code>
<div class="block">
 Processes an array of String objects containing the human-readable definition of
 the filter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefinitionParser--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefinitionParser</h4>
<pre>DefinitionParser()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="parse-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>parse</h4>
<pre>static&nbsp;<a href="../../../../net/i2p/i2ptunnel/access/FilterDefinition.html" title="class in net.i2p.i2ptunnel.access">FilterDefinition</a>&nbsp;parse(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;definition)
                       throws <a href="../../../../net/i2p/i2ptunnel/access/InvalidDefinitionException.html" title="class in net.i2p.i2ptunnel.access">InvalidDefinitionException</a></pre>
<div class="block"><p>
 Processes an array of String objects containing the human-readable definition of
 the filter.
 </p>
 <p>
 The definition of a filter is a list of Strings.  Each line can represent one of 
 these items:
 </p>
 <ul>
 <li>definition of a default threshold to apply to any remote destinations not
   listed in this file or any of the referenced files</li>
 <li>definition of a threshold to apply to a specific remote destination</li>
 <li>definition of a threshold to apply to remote destinations listed in a file</li>
 <li>definition of a threshold that if breached will cause the offending remote
   destination to be recorded in a specified file</li>
 </ul>
 <p>
 The order of the definitions matters.  The first threshold for a given destination
 (whether explicit or listed in a file) overrides any future thresholds for the
 same destination, whether explicit or listed in a file.
 </p>
 <p>
 Thresholds:
 </p>
 <p>
 A threshold is defined by the number of connection attempts a remote destination is
 permitted to perform over a specified number of seconds before a "breach" occurs.
 For example the following threshold definition "15/5" means that the same remote
 destination is allowed to make 14 connection attempts over a 5 second period,  If
 it makes one more attempt within the same period, the threshold will be breached.
 </p>
 <p>
 The threshold format can be one of the following:
 </p>
 <ul>
 <li>Numeric definition of number of connections over number seconds - "15/5", 
   "30/60", and so on.  Note that if the number of connections is 1 (as for 
   example in "1/1") the first connection attempt will result in a breach.</li>
 <li>The word "allow".  This threshold is never breached, i.e. infinite number of 
   connection attempts is permitted.</li>
 <li>The word "deny".  This threshold is always breached, i.e. no connection attempts
   will be allowed.</li>
 </ul>

 The default threshold applies to any remote destinations that are not explicitly
 listed in the definition or in any of the referenced files.  To set a default 
 threshold use the keyword "default".  The following are examples of default thresholds:
 
 <pre>
 15/5 default
 allow default
 deny default
 </pre>

 Explicit thresholds are applied to a remote destination listed in the definition itself.
 Examples:
 
 <pre>
 15/5 explicit asdfasdfasdf.b32.i2p
 allow explicit fdsafdsafdsa.b32.i2p
 deny explicit qwerqwerqwer.b32.i2p
 </pre>

 For convenience it is possible to maintain a list of destinations in a file and define
 a threshold for all of them in bulk.  Examples:

 <pre>
 15/5 file /path/throttled_destinations.txt
 deny file /path/forbidden_destinations.txt
 allow file /path/unlimited_destinations.txt
 </pre>

 Recorders keep track of connection attempts made by a remote destination, and if that
 breaches a certain threshold, that destination gets recorded in a given file.  Examples:

 <pre>
 30/5 record /path/aggressive.txt
 60/5 record /path/very_aggressive.txt
 </pre>
 <p>
 It is possible to use a recorder to record aggressive destinations to a given file,
 and then use that same file to throttle them.  For example, the following snippet will
 define a filter that initially allows all connection attempts, but if any single
 destination exceeds 30 attempts per 5 seconds it gets throttled down to 15 attempts per 
 5 seconds:
 </p>
 <pre>
 # by default there are no limits
 allow default
 # but record overly aggressive destinations
 30/5 record /path/throttled.txt
 # and any that end up in that file will get throttled in the future
 15/5 file /path/throttled.txt
 </pre>
 <p>
 It is possible to use a recorder in one tunnel that writes to a file that throttles 
 another tunnel.  It is possible to reuse the same file with destinations in multiple
 tunnels.  And of course, it is possible to edit these files by hand.
 </p>
 <p>
 Here is an example filter definition that applies some throttling by default, no throttling
 for destinations in the file "friends.txt", forbids any connections from destinations
 in the file "enemies.txt" and records any aggressive behavior in a file called
 "suspicious.txt":
 </p>
 <pre>
 15/5 default
 allow file /path/friends.txt
 deny file /path/enemies.txt
 60/5 record /path/suspicious.txt
 </pre></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a FilterDefinition POJO representation for internal use</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/i2p/i2ptunnel/access/InvalidDefinitionException.html" title="class in net.i2p.i2ptunnel.access">InvalidDefinitionException</a></code> - if the definition is malformed</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefinitionParser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/i2p/i2ptunnel/access/AccessFilter.html" title="class in net.i2p.i2ptunnel.access"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/i2p/i2ptunnel/access/DestTracker.html" title="class in net.i2p.i2ptunnel.access"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/i2ptunnel/access/DefinitionParser.html" target="_top">Frames</a></li>
<li><a href="DefinitionParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
