<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>DecayingBloomFilter (I2P Anonymous Network - Java Documentation - Version 1.6.1)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DecayingBloomFilter (I2P Anonymous Network - Java Documentation - Version 1.6.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DecayingBloomFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/i2p/router/util/CoDelPriorityBlockingQueue.html" title="class in net.i2p.router.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/i2p/router/util/DecayingHashSet.html" title="class in net.i2p.router.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/router/util/DecayingBloomFilter.html" target="_top">Frames</a></li>
<li><a href="DecayingBloomFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.router.util</div>
<h2 title="Class DecayingBloomFilter" class="title">Class DecayingBloomFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.router.util.DecayingBloomFilter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../net/i2p/router/util/DecayingHashSet.html" title="class in net.i2p.router.util">DecayingHashSet</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">DecayingBloomFilter</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Series of bloom filters which decay over time, allowing their continual use
 for time sensitive data.  This has a fixed size (per
 period, using two periods overall), allowing this to pump through hundreds of
 entries per second with virtually no false positive rate.  Down the line, 
 this may be refactored to allow tighter control of the size necessary for the
 contained bloom filters.

 See main() for an analysis of false positive rate.
 See BloomFilterIVValidator for instantiation parameters.
 See DecayingHashSet for a smaller and simpler version.
 See net.i2p.router.tunnel.BloomFilterIVValidator</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../net/i2p/router/util/DecayingHashSet.html" title="class in net.i2p.router.util"><code>DecayingHashSet</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_context">_context</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_currentDuplicates">_currentDuplicates</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../net/i2p/util/SimpleTimer2.TimedEvent.html" title="class in net.i2p.util">SimpleTimer2.TimedEvent</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_decayEvent">_decayEvent</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_durationMs">_durationMs</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_entryBytes">_entryBytes</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_keepDecaying">_keepDecaying</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../net/i2p/util/Log.html" title="class in net.i2p.util">Log</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_log">_log</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_name">_name</a></span></code>
<div class="block">just for logging</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks">ReentrantReadWriteLock</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#Z:Z_reorganizeLock">_reorganizeLock</a></span></code>
<div class="block">synchronize against this lock when switching double buffers</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#DecayingBloomFilter-net.i2p.I2PAppContext-int-int-">DecayingBloomFilter</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                   int&nbsp;durationMs,
                   int&nbsp;entryBytes)</code>
<div class="block">Create a bloom filter that will decay its entries over time.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#DecayingBloomFilter-net.i2p.I2PAppContext-int-int-java.lang.String-">DecayingBloomFilter</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                   int&nbsp;durationMs,
                   int&nbsp;entryBytes,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</code>
<div class="block">Uses default m of 23, memory usage is 2 MB.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#DecayingBloomFilter-net.i2p.I2PAppContext-int-int-java.lang.String-int-">DecayingBloomFilter</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                   int&nbsp;durationMs,
                   int&nbsp;entryBytes,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   int&nbsp;m)</code>
<div class="block">Memory usage is 2 * (2**m) bits or 2**(m-2) bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#DecayingBloomFilter-int-int-java.lang.String-net.i2p.I2PAppContext-">DecayingBloomFilter</a></span>(int&nbsp;durationMs,
                   int&nbsp;entryBytes,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                   <a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context)</code>
<div class="block">only for extension by DHS</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#add-byte:A-">add</a></span>(byte[]&nbsp;entry)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#add-byte:A-int-int-">add</a></span>(byte[]&nbsp;entry,
   int&nbsp;off,
   int&nbsp;len)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#add-long-">add</a></span>(long&nbsp;entry)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#clear--">clear</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#decay--">decay</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#getCurrentDuplicateCount--">getCurrentDuplicateCount</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#getFalsePositiveRate--">getFalsePositiveRate</a></span>()</code>
<div class="block">unsynchronized, only used for logging elsewhere</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#getInsertedCount--">getInsertedCount</a></span>()</code>
<div class="block">unsynchronized but only used for logging elsewhere</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#getReadLock--">getReadLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#getWriteLock--">getWriteLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#isKnown-long-">isKnown</a></span>(long&nbsp;entry)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#releaseReadLock--">releaseReadLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#releaseWriteLock--">releaseWriteLock</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/router/util/DecayingBloomFilter.html#stopDecaying--">stopDecaying</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_context</h4>
<pre>protected final&nbsp;<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a> _context</pre>
</li>
</ul>
<a name="Z:Z_log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_log</h4>
<pre>protected final&nbsp;<a href="../../../../net/i2p/util/Log.html" title="class in net.i2p.util">Log</a> _log</pre>
</li>
</ul>
<a name="Z:Z_durationMs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_durationMs</h4>
<pre>protected final&nbsp;int _durationMs</pre>
</li>
</ul>
<a name="Z:Z_entryBytes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_entryBytes</h4>
<pre>protected final&nbsp;int _entryBytes</pre>
</li>
</ul>
<a name="Z:Z_currentDuplicates">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_currentDuplicates</h4>
<pre>protected&nbsp;long _currentDuplicates</pre>
</li>
</ul>
<a name="Z:Z_keepDecaying">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_keepDecaying</h4>
<pre>protected volatile&nbsp;boolean _keepDecaying</pre>
</li>
</ul>
<a name="Z:Z_decayEvent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_decayEvent</h4>
<pre>protected final&nbsp;<a href="../../../../net/i2p/util/SimpleTimer2.TimedEvent.html" title="class in net.i2p.util">SimpleTimer2.TimedEvent</a> _decayEvent</pre>
</li>
</ul>
<a name="Z:Z_name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_name</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> _name</pre>
<div class="block">just for logging</div>
</li>
</ul>
<a name="Z:Z_reorganizeLock">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_reorganizeLock</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/locks/ReentrantReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks">ReentrantReadWriteLock</a> _reorganizeLock</pre>
<div class="block">synchronize against this lock when switching double buffers</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DecayingBloomFilter-int-int-java.lang.String-net.i2p.I2PAppContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DecayingBloomFilter</h4>
<pre>protected&nbsp;DecayingBloomFilter(int&nbsp;durationMs,
                              int&nbsp;entryBytes,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                              <a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context)</pre>
<div class="block">only for extension by DHS</div>
</li>
</ul>
<a name="DecayingBloomFilter-net.i2p.I2PAppContext-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DecayingBloomFilter</h4>
<pre>public&nbsp;DecayingBloomFilter(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                           int&nbsp;durationMs,
                           int&nbsp;entryBytes)</pre>
<div class="block">Create a bloom filter that will decay its entries over time.  
 Uses default m of 23, memory usage is 2 MB.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>durationMs</code> - entries last for at least this long, but no more than twice this long</dd>
<dd><code>entryBytes</code> - how large are the entries to be added?  if this is less than 32 bytes,
                   the entries added will be expanded by concatenating their XORing 
                   against with sufficient random values.</dd>
</dl>
</li>
</ul>
<a name="DecayingBloomFilter-net.i2p.I2PAppContext-int-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DecayingBloomFilter</h4>
<pre>public&nbsp;DecayingBloomFilter(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                           int&nbsp;durationMs,
                           int&nbsp;entryBytes,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name)</pre>
<div class="block">Uses default m of 23, memory usage is 2 MB.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - just for logging / debugging / stats</dd>
</dl>
</li>
</ul>
<a name="DecayingBloomFilter-net.i2p.I2PAppContext-int-int-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DecayingBloomFilter</h4>
<pre>public&nbsp;DecayingBloomFilter(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;context,
                           int&nbsp;durationMs,
                           int&nbsp;entryBytes,
                           <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;name,
                           int&nbsp;m)</pre>
<div class="block">Memory usage is 2 * (2**m) bits or 2**(m-2) bytes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>m</code> - filter size exponent, max is 29</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getCurrentDuplicateCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentDuplicateCount</h4>
<pre>public&nbsp;long&nbsp;getCurrentDuplicateCount()</pre>
</li>
</ul>
<a name="getInsertedCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInsertedCount</h4>
<pre>public&nbsp;int&nbsp;getInsertedCount()</pre>
<div class="block">unsynchronized but only used for logging elsewhere</div>
</li>
</ul>
<a name="getFalsePositiveRate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFalsePositiveRate</h4>
<pre>public&nbsp;double&nbsp;getFalsePositiveRate()</pre>
<div class="block">unsynchronized, only used for logging elsewhere</div>
</li>
</ul>
<a name="add-byte:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(byte[]&nbsp;entry)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the entry added is a duplicate</dd>
</dl>
</li>
</ul>
<a name="add-byte:A-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(byte[]&nbsp;entry,
                   int&nbsp;off,
                   int&nbsp;len)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the entry added is a duplicate</dd>
</dl>
</li>
</ul>
<a name="add-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(long&nbsp;entry)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the entry added is a duplicate.  the number of low order 
 bits used is determined by the entryBytes parameter used on creation of the
 filter.</dd>
</dl>
</li>
</ul>
<a name="isKnown-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKnown</h4>
<pre>public&nbsp;boolean&nbsp;isKnown(long&nbsp;entry)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the entry is already known.  this does NOT add the
 entry however.</dd>
</dl>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
</li>
</ul>
<a name="stopDecaying--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopDecaying</h4>
<pre>public&nbsp;void&nbsp;stopDecaying()</pre>
</li>
</ul>
<a name="decay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decay</h4>
<pre>protected&nbsp;void&nbsp;decay()</pre>
</li>
</ul>
<a name="getReadLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadLock</h4>
<pre>protected&nbsp;void&nbsp;getReadLock()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.11 moved from DecayingHashSet</dd>
</dl>
</li>
</ul>
<a name="releaseReadLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseReadLock</h4>
<pre>protected&nbsp;void&nbsp;releaseReadLock()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.11 moved from DecayingHashSet</dd>
</dl>
</li>
</ul>
<a name="getWriteLock--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteLock</h4>
<pre>protected&nbsp;boolean&nbsp;getWriteLock()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the lock was acquired</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.11 moved from DecayingHashSet</dd>
</dl>
</li>
</ul>
<a name="releaseWriteLock--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>releaseWriteLock</h4>
<pre>protected&nbsp;void&nbsp;releaseWriteLock()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.11 moved from DecayingHashSet</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DecayingBloomFilter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/i2p/router/util/CoDelPriorityBlockingQueue.html" title="class in net.i2p.router.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/i2p/router/util/DecayingHashSet.html" title="class in net.i2p.router.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/router/util/DecayingBloomFilter.html" target="_top">Frames</a></li>
<li><a href="DecayingBloomFilter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
