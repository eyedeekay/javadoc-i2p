<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>TunnelPool (I2P Anonymous Network - Java Documentation - Version 1.6.1)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TunnelPool (I2P Anonymous Network - Java Documentation - Version 1.6.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TunnelPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPeerSelector.html" title="class in net.i2p.router.tunnel.pool"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPoolManager.html" title="class in net.i2p.router.tunnel.pool"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/i2p/router/tunnel/pool/TunnelPool.html" target="_top">Frames</a></li>
<li><a href="TunnelPool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.router.tunnel.pool</div>
<h2 title="Class TunnelPool" class="title">Class TunnelPool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.router.tunnel.pool.TunnelPool</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../net/i2p/router/tunnel/pool/AliasedTunnelPool.html" title="class in net.i2p.router.tunnel.pool">AliasedTunnelPool</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TunnelPool</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A group of tunnels for the router or a particular client, in a single direction.
  Public only for TunnelRenderer in router console.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#Z:Z_alive">_alive</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#Z:Z_context">_context</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../net/i2p/util/Log.html" title="class in net.i2p.util">Log</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#Z:Z_log">_log</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#TunnelPool-net.i2p.router.RouterContext-net.i2p.router.tunnel.pool.TunnelPoolManager-net.i2p.router.TunnelPoolSettings-net.i2p.router.tunnel.pool.TunnelPeerSelector-">TunnelPool</a></span>(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
          <a href="../../../../../net/i2p/router/tunnel/pool/TunnelPoolManager.html" title="class in net.i2p.router.tunnel.pool">TunnelPoolManager</a>&nbsp;mgr,
          <a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a>&nbsp;settings,
          <a href="../../../../../net/i2p/router/tunnel/pool/TunnelPeerSelector.html" title="class in net.i2p.router.tunnel.pool">TunnelPeerSelector</a>&nbsp;sel)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#addTunnel-net.i2p.router.TunnelInfo-">addTunnel</a></span>(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;info)</code>
<div class="block">Add to the pool.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#buildComplete-net.i2p.router.tunnel.pool.PooledTunnelCreatorConfig-net.i2p.router.tunnel.pool.BuildExecutor.Result-">buildComplete</a></span>(<a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a>&nbsp;cfg,
             <a href="../../../../../net/i2p/router/tunnel/pool/BuildExecutor.Result.html" title="enum in net.i2p.router.tunnel.pool">BuildExecutor.Result</a>&nbsp;result)</code>
<div class="block">Remove from the _inprogress list and call addTunnel() if result is SUCCESS.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#buildFallback--">buildFallback</a></span>()</code>
<div class="block">This will build a fallback (zero-hop) tunnel ONLY if
 this pool is exploratory, or the settings allow it.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#configureNewTunnel--">configureNewTunnel</a></span>()</code>
<div class="block">This only sets the peers and creation/expiration times in the configuration.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#countHowManyToBuild--">countHowManyToBuild</a></span>()</code>
<div class="block">Gather the data to see how many tunnels to build, and then actually compute that value (delegated to
 the countHowManyToBuild function below)</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getConsecutiveBuildTimeouts--">getConsecutiveBuildTimeouts</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getLifetimeProcessed--">getLifetimeProcessed</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getRateName--">getRateName</a></span>()</code>
<div class="block">RateStat name for the bandwidth graph</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getSettings--">getSettings</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getTunnel-net.i2p.data.TunnelId-">getTunnel</a></span>(<a href="../../../../../net/i2p/data/TunnelId.html" title="class in net.i2p.data">TunnelId</a>&nbsp;gatewayId)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#getTunnelCount--">getTunnelCount</a></span>()</code>
<div class="block">duplicate of size(), let's pick one</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#isAlive--">isAlive</a></span>()</code>
<div class="block">Is this pool running AND either exploratory, or tracked by the client manager?
  A pool will be alive but not tracked after the client manager removes it
  but before all the tunnels have expired.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#listPending--">listPending</a></span>()</code>
<div class="block">list of tunnelInfo instances of tunnels currently being built</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#listTunnels--">listTunnels</a></span>()</code>
<div class="block">Return a list of tunnels in the pool</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../net/i2p/data/LeaseSet.html" title="class in net.i2p.data">LeaseSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#locked_buildNewLeaseSet--">locked_buildNewLeaseSet</a></span>()</code>
<div class="block">Build a leaseSet with the required tunnels that aren't about to expire.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#needFallback--">needFallback</a></span>()</code>
<div class="block">Do we really need more fallbacks?
 Used to prevent a zillion of them.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#refreshLeaseSet--">refreshLeaseSet</a></span>()</code>
<div class="block">noop for outbound and exploratory</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#removeTunnel-net.i2p.router.TunnelInfo-">removeTunnel</a></span>(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;info)</code>
<div class="block">Remove from the pool.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#selectTunnel--">selectTunnel</a></span>()</code>
<div class="block">Pull a random tunnel out of the pool.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#selectTunnel-net.i2p.data.Hash-">selectTunnel</a></span>(<a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;closestTo)</code>
<div class="block">Return the tunnel from the pool that is XOR-closet to the target.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#setSettings-net.i2p.router.TunnelPoolSettings-">setSettings</a></span>(<a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a>&nbsp;settings)</code>&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#shutdown--">shutdown</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#size--">size</a></span>()</code>
<div class="block">duplicate of getTunnelCount(), let's pick one</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#startup--">startup</a></span>()</code>
<div class="block">Warning, this may be called more than once
  (without an intervening shutdown()) if the
  tunnel is stopped and then restarted by the client manager with the same
  Destination (i.e.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#tunnelFailed-net.i2p.router.TunnelInfo-">tunnelFailed</a></span>(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;cfg)</code>
<div class="block">Remove the tunnel and blame all the peers (not necessarily equally).</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPool.html#tunnelFailed-net.i2p.router.TunnelInfo-net.i2p.data.Hash-">tunnelFailed</a></span>(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;cfg,
            <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;blamePeer)</code>
<div class="block">Remove the tunnel and blame only one peer.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_context</h4>
<pre>protected final&nbsp;<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a> _context</pre>
</li>
</ul>
<a name="Z:Z_log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_log</h4>
<pre>protected final&nbsp;<a href="../../../../../net/i2p/util/Log.html" title="class in net.i2p.util">Log</a> _log</pre>
</li>
</ul>
<a name="Z:Z_alive">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_alive</h4>
<pre>protected volatile&nbsp;boolean _alive</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TunnelPool-net.i2p.router.RouterContext-net.i2p.router.tunnel.pool.TunnelPoolManager-net.i2p.router.TunnelPoolSettings-net.i2p.router.tunnel.pool.TunnelPeerSelector-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TunnelPool</h4>
<pre>TunnelPool(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
           <a href="../../../../../net/i2p/router/tunnel/pool/TunnelPoolManager.html" title="class in net.i2p.router.tunnel.pool">TunnelPoolManager</a>&nbsp;mgr,
           <a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a>&nbsp;settings,
           <a href="../../../../../net/i2p/router/tunnel/pool/TunnelPeerSelector.html" title="class in net.i2p.router.tunnel.pool">TunnelPeerSelector</a>&nbsp;sel)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startup</h4>
<pre>void&nbsp;startup()</pre>
<div class="block">Warning, this may be called more than once
  (without an intervening shutdown()) if the
  tunnel is stopped and then restarted by the client manager with the same
  Destination (i.e. for servers or clients w/ persistent key,
  or restarting close-on-idle clients)</div>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>void&nbsp;shutdown()</pre>
</li>
</ul>
<a name="getRateName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRateName</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRateName()</pre>
<div class="block">RateStat name for the bandwidth graph</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.35</dd>
</dl>
</li>
</ul>
<a name="selectTunnel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectTunnel</h4>
<pre><a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;selectTunnel()</pre>
<div class="block">Pull a random tunnel out of the pool.  If there are none available but
 the pool is configured to allow 0hop tunnels, this builds a fake one
 and returns it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null on failure, but it should always build and return a fallback</dd>
</dl>
</li>
</ul>
<a name="selectTunnel-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selectTunnel</h4>
<pre><a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;selectTunnel(<a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;closestTo)</pre>
<div class="block">Return the tunnel from the pool that is XOR-closet to the target.
 By using this instead of the random selectTunnel(),
 we force some locality in OBEP-IBGW connections to minimize
 those connections network-wide.

 Does not check for backlogged next peer.
 Does not return an expired tunnel.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null on failure</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.10</dd>
</dl>
</li>
</ul>
<a name="getTunnel-net.i2p.data.TunnelId-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTunnel</h4>
<pre>public&nbsp;<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;getTunnel(<a href="../../../../../net/i2p/data/TunnelId.html" title="class in net.i2p.data">TunnelId</a>&nbsp;gatewayId)</pre>
</li>
</ul>
<a name="listTunnels--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listTunnels</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&gt;&nbsp;listTunnels()</pre>
<div class="block">Return a list of tunnels in the pool</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A copy of the list of TunnelInfo objects</dd>
</dl>
</li>
</ul>
<a name="needFallback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>needFallback</h4>
<pre>boolean&nbsp;needFallback()</pre>
<div class="block">Do we really need more fallbacks?
 Used to prevent a zillion of them.
 Does not check config, only call if config allows zero hop.</div>
</li>
</ul>
<a name="listPending--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listPending</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a>&gt;&nbsp;listPending()</pre>
<div class="block">list of tunnelInfo instances of tunnels currently being built</div>
</li>
</ul>
<a name="getTunnelCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTunnelCount</h4>
<pre>int&nbsp;getTunnelCount()</pre>
<div class="block">duplicate of size(), let's pick one</div>
</li>
</ul>
<a name="getSettings--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSettings</h4>
<pre>public&nbsp;<a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a>&nbsp;getSettings()</pre>
</li>
</ul>
<a name="setSettings-net.i2p.router.TunnelPoolSettings-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSettings</h4>
<pre>void&nbsp;setSettings(<a href="../../../../../net/i2p/router/TunnelPoolSettings.html" title="class in net.i2p.router">TunnelPoolSettings</a>&nbsp;settings)</pre>
</li>
</ul>
<a name="isAlive--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAlive</h4>
<pre>public&nbsp;boolean&nbsp;isAlive()</pre>
<div class="block">Is this pool running AND either exploratory, or tracked by the client manager?
  A pool will be alive but not tracked after the client manager removes it
  but before all the tunnels have expired.</div>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">duplicate of getTunnelCount(), let's pick one</div>
</li>
</ul>
<a name="addTunnel-net.i2p.router.TunnelInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTunnel</h4>
<pre>protected&nbsp;void&nbsp;addTunnel(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;info)</pre>
<div class="block">Add to the pool.</div>
</li>
</ul>
<a name="removeTunnel-net.i2p.router.TunnelInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTunnel</h4>
<pre>void&nbsp;removeTunnel(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;info)</pre>
<div class="block">Remove from the pool.</div>
</li>
</ul>
<a name="tunnelFailed-net.i2p.router.TunnelInfo-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tunnelFailed</h4>
<pre>void&nbsp;tunnelFailed(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;cfg)</pre>
<div class="block">Remove the tunnel and blame all the peers (not necessarily equally).
  This may be called multiple times from TestJob.</div>
</li>
</ul>
<a name="tunnelFailed-net.i2p.router.TunnelInfo-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tunnelFailed</h4>
<pre>void&nbsp;tunnelFailed(<a href="../../../../../net/i2p/router/TunnelInfo.html" title="interface in net.i2p.router">TunnelInfo</a>&nbsp;cfg,
                  <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;blamePeer)</pre>
<div class="block">Remove the tunnel and blame only one peer.
  This may be called multiple times.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.8.13</dd>
</dl>
</li>
</ul>
<a name="refreshLeaseSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshLeaseSet</h4>
<pre>void&nbsp;refreshLeaseSet()</pre>
<div class="block">noop for outbound and exploratory</div>
</li>
</ul>
<a name="buildFallback--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildFallback</h4>
<pre>boolean&nbsp;buildFallback()</pre>
<div class="block">This will build a fallback (zero-hop) tunnel ONLY if
 this pool is exploratory, or the settings allow it.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a fallback tunnel is built</dd>
</dl>
</li>
</ul>
<a name="locked_buildNewLeaseSet--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>locked_buildNewLeaseSet</h4>
<pre>protected&nbsp;<a href="../../../../../net/i2p/data/LeaseSet.html" title="class in net.i2p.data">LeaseSet</a>&nbsp;locked_buildNewLeaseSet()</pre>
<div class="block">Build a leaseSet with the required tunnels that aren't about to expire.
 Caller must synchronize on _tunnels.
 The returned LeaseSet will be incomplete; it will not have the destination
 set and will not be signed. Only the leases will be included.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null on failure</dd>
</dl>
</li>
</ul>
<a name="getLifetimeProcessed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLifetimeProcessed</h4>
<pre>public&nbsp;long&nbsp;getLifetimeProcessed()</pre>
</li>
</ul>
<a name="countHowManyToBuild--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>countHowManyToBuild</h4>
<pre>int&nbsp;countHowManyToBuild()</pre>
<div class="block">Gather the data to see how many tunnels to build, and then actually compute that value (delegated to
 the countHowManyToBuild function below)</div>
</li>
</ul>
<a name="configureNewTunnel--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configureNewTunnel</h4>
<pre><a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a>&nbsp;configureNewTunnel()</pre>
<div class="block">This only sets the peers and creation/expiration times in the configuration.
  For the crypto, see BuildRequestor and BuildMessageGenerator.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null on failure</dd>
</dl>
</li>
</ul>
<a name="buildComplete-net.i2p.router.tunnel.pool.PooledTunnelCreatorConfig-net.i2p.router.tunnel.pool.BuildExecutor.Result-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildComplete</h4>
<pre>void&nbsp;buildComplete(<a href="../../../../../net/i2p/router/tunnel/pool/PooledTunnelCreatorConfig.html" title="class in net.i2p.router.tunnel.pool">PooledTunnelCreatorConfig</a>&nbsp;cfg,
                   <a href="../../../../../net/i2p/router/tunnel/pool/BuildExecutor.Result.html" title="enum in net.i2p.router.tunnel.pool">BuildExecutor.Result</a>&nbsp;result)</pre>
<div class="block">Remove from the _inprogress list and call addTunnel() if result is SUCCESS.
  Updates consecutive build timeout count.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.53 added result parameter</dd>
</dl>
</li>
</ul>
<a name="getConsecutiveBuildTimeouts--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConsecutiveBuildTimeouts</h4>
<pre>int&nbsp;getConsecutiveBuildTimeouts()</pre>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.53</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TunnelPool.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPeerSelector.html" title="class in net.i2p.router.tunnel.pool"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/i2p/router/tunnel/pool/TunnelPoolManager.html" title="class in net.i2p.router.tunnel.pool"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/i2p/router/tunnel/pool/TunnelPool.html" target="_top">Frames</a></li>
<li><a href="TunnelPool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
