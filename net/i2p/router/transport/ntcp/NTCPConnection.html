<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) -->
<title>NTCPConnection (I2P Anonymous Network - Java Documentation - API Version 0.9.55)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.router.transport.ntcp, class: NTCPConnection">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/NTCPConnection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.i2p.router.transport.ntcp</a></div>
<h1 title="Class NTCPConnection" class="title">Class NTCPConnection</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.i2p.router.transport.ntcp.NTCPConnection</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code>, <code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">NTCPConnection</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></span></div>
<div class="block">Coordinate the connection to a single peer.
 NTCP 1 or 2.

 Public only for UI peers page. Not a public API, not for external use.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) static class&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="NTCPConnection.PrepBuffer.html" class="type-name-link" title="class in net.i2p.router.transport.ntcp">NTCPConnection.PrepBuffer</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#BUFFER_SIZE" class="member-name-link">BUFFER_SIZE</a></code></div>
<div class="col-last even-row-color">
<div class="block">Why this is 16K, and where it is documented, good question?
  We claim we can do 32K datagrams so this is a problem.</div>
</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#DELAY_DEFAULT" class="member-name-link">DELAY_DEFAULT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#DUMMY_DEFAULT" class="member-name-link">DUMMY_DEFAULT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#NTCP2_MAX_MSG_SIZE" class="member-name-link">NTCP2_MAX_MSG_SIZE</a></code></div>
<div class="col-last odd-row-color">
<div class="block">See spec.</div>
</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#PADDING_MAX_DEFAULT_INT" class="member-name-link">PADDING_MAX_DEFAULT_INT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#PADDING_MIN_DEFAULT_INT" class="member-name-link">PADDING_MIN_DEFAULT_INT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_AEAD" class="member-name-link">REASON_AEAD</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_BANNED" class="member-name-link">REASON_BANNED</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_FRAME_TIMEOUT" class="member-name-link">REASON_FRAME_TIMEOUT</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_FRAMING" class="member-name-link">REASON_FRAMING</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_MSG1" class="member-name-link">REASON_MSG1</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_MSG2" class="member-name-link">REASON_MSG2</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_MSG3" class="member-name-link">REASON_MSG3</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_OPTIONS" class="member-name-link">REASON_OPTIONS</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_PADDING" class="member-name-link">REASON_PADDING</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_PAYLOAD" class="member-name-link">REASON_PAYLOAD</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_S_MISMATCH" class="member-name-link">REASON_S_MISMATCH</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_SIGFAIL" class="member-name-link">REASON_SIGFAIL</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_SIGTYPE" class="member-name-link">REASON_SIGTYPE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_SKEW" class="member-name-link">REASON_SKEW</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_TERMINATION" class="member-name-link">REASON_TERMINATION</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>(package private) static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#REASON_TIMEOUT" class="member-name-link">REASON_TIMEOUT</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>(package private) static final int</code></div>
<div class="col-second even-row-color"><code><a href="#REASON_UNSPEC" class="member-name-link">REASON_UNSPEC</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.transport.ntcp.NTCPTransport,java.nio.channels.SocketChannel,java.nio.channels.SelectionKey)" class="member-name-link">NTCPConnection</a><wbr>(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="NTCPTransport.html" title="class in net.i2p.router.transport.ntcp">NTCPTransport</a>&nbsp;transport,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a>&nbsp;chan,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;key)</code></div>
<div class="col-last even-row-color">
<div class="block">Create an inbound connected (though not established) NTCP connection.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.transport.ntcp.NTCPTransport,net.i2p.data.router.RouterIdentity,net.i2p.data.router.RouterAddress,int)" class="member-name-link">NTCPConnection</a><wbr>(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="NTCPTransport.html" title="class in net.i2p.router.transport.ntcp">NTCPTransport</a>&nbsp;transport,
 <a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a>&nbsp;remotePeer,
 <a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a>&nbsp;remAddr,
 int&nbsp;version)</code></div>
<div class="col-last odd-row-color">
<div class="block">Create an outbound unconnected NTCP connection.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearZeroRead()" class="member-name-link">clearZeroRead</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">workaround for EventPumper</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close(boolean)" class="member-name-link">close</a><wbr>(boolean&nbsp;allowRequeue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#closeOnTimeout(java.lang.String,java.lang.Exception)" class="member-name-link">closeOnTimeout</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cause,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;e)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Close and release EstablishState resources.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#enqueueInfoMessage()" class="member-name-link">enqueueInfoMessage</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Inject a DatabaseStoreMessage with our RouterInfo.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#failInboundEstablishment(com.southernstorm.noise.protocol.CipherState,byte%5B%5D,int)" class="member-name-link">failInboundEstablishment</a><wbr>(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 byte[]&nbsp;sip_ba,
 int&nbsp;reason)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Bob.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishInboundEstablishment(com.southernstorm.noise.protocol.CipherState,com.southernstorm.noise.protocol.CipherState,byte%5B%5D,byte%5B%5D,long,net.i2p.router.transport.ntcp.NTCP2Options)" class="member-name-link">finishInboundEstablishment</a><wbr>(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 <a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;receiver,
 byte[]&nbsp;sip_ba,
 byte[]&nbsp;sip_ab,
 long&nbsp;clockSkew,
 <a href="NTCP2Options.html" title="class in net.i2p.router.transport.ntcp">NTCP2Options</a>&nbsp;hisPadding)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Bob.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishOutboundEstablishment(com.southernstorm.noise.protocol.CipherState,com.southernstorm.noise.protocol.CipherState,byte%5B%5D,byte%5B%5D,long)" class="member-name-link">finishOutboundEstablishment</a><wbr>(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 <a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;receiver,
 byte[]&nbsp;sip_ab,
 byte[]&nbsp;sip_ba,
 long&nbsp;clockSkew)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Alice.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getChannel()" class="member-name-link">getChannel</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Valid for inbound; valid for outbound shortly after creation</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClockSkew()" class="member-name-link">getClockSkew</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A positive number means our clock is ahead of theirs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCreated()" class="member-name-link">getCreated</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEstablishedOn()" class="member-name-link">getEstablishedOn</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="EstablishState.html" title="interface in net.i2p.router.transport.ntcp">EstablishState</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEstablishState()" class="member-name-link">getEstablishState</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Only valid during establishment;
  replaced with EstablishState.VERIFIED or FAILED afterward</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKey()" class="member-name-link">getKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Valid for inbound; valid for outbound shortly after creation</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMayDisconnect()" class="member-name-link">getMayDisconnect</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMessagesReceived()" class="member-name-link">getMessagesReceived</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMessagesSent()" class="member-name-link">getMessagesSent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextReadBuf()" class="member-name-link">getNextReadBuf</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextWriteBuf()" class="member-name-link">getNextWriteBuf</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns but does not remove the buffer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOutboundQueueSize()" class="member-name-link">getOutboundQueueSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRecvRate()" class="member-name-link">getRecvRate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemoteAddress()" class="member-name-link">getRemoteAddress</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Only valid for outbound; null for inbound</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemoteIP()" class="member-name-link">getRemoteIP</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemotePeer()" class="member-name-link">getRemotePeer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Valid for outbound; valid for inbound after handshake</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSendRate()" class="member-name-link">getSendRate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceCreated()" class="member-name-link">getTimeSinceCreated</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceCreated(long)" class="member-name-link">getTimeSinceCreated</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceReceive()" class="member-name-link">getTimeSinceReceive</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceReceive(long)" class="member-name-link">getTimeSinceReceive</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceSend()" class="member-name-link">getTimeSinceSend</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTimeSinceSend(long)" class="member-name-link">getTimeSinceSend</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUptime()" class="member-name-link">getUptime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVersion()" class="member-name-link">getVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The NTCP2 version, for the console.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWriteLock()" class="member-name-link">getWriteLock</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Write lock for pumper delayed writes</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#gotZeroRead()" class="member-name-link">gotZeroRead</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">workaround for EventPumper</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isBacklogged()" class="member-name-link">isBacklogged</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isClosed()" class="member-name-link">isClosed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isEstablished()" class="member-name-link">isEstablished</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInbound()" class="member-name-link">isInbound</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isIPv6()" class="member-name-link">isIPv6</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isWriteBufEmpty()" class="member-name-link">isWriteBufEmpty</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Replaces getWriteBufCount().</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#outboundConnected()" class="member-name-link">outboundConnected</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">async callback after the outbound connection was completed (this should NOT block, 
 as it occurs in the selector thread)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prepareNextWrite(net.i2p.router.transport.ntcp.NTCPConnection.PrepBuffer)" class="member-name-link">prepareNextWrite</a><wbr>(<a href="NTCPConnection.PrepBuffer.html" title="class in net.i2p.router.transport.ntcp">NTCPConnection.PrepBuffer</a>&nbsp;prep)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prepare the next I2NP message for transmission.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#queuedRecv(java.nio.ByteBuffer,net.i2p.router.transport.FIFOBandwidthLimiter.Request)" class="member-name-link">queuedRecv</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf,
 <a href="../FIFOBandwidthLimiter.Request.html" title="interface in net.i2p.router.transport">FIFOBandwidthLimiter.Request</a>&nbsp;req)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We have read the data in the buffer, but we can't process it locally yet,
 because we're choked by the bandwidth limiter.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recv(java.nio.ByteBuffer)" class="member-name-link">recv</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The contents of the buffer have been read and can be processed asap.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#recvEncryptedI2NP(java.nio.ByteBuffer)" class="member-name-link">recvEncryptedI2NP</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Connection must be established!

 The contents of the buffer include some fraction of one or more
 encrypted and encoded I2NP messages.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>(package private) static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#releaseResources()" class="member-name-link">releaseResources</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Call at transport shutdown</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeWriteBuf(java.nio.ByteBuffer)" class="member-name-link">removeWriteBuf</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove the buffer, which _should_ be the one at the head of _writeBufs.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#send(net.i2p.router.OutNetMessage)" class="member-name-link">send</a><wbr>(<a href="../../OutNetMessage.html" title="class in net.i2p.router">OutNetMessage</a>&nbsp;msg)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">toss the message onto the connection's send queue</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendOurRouterInfo(boolean)" class="member-name-link">sendOurRouterInfo</a><wbr>(boolean&nbsp;shouldFlood)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">NTCP2 only</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendTerminationAndClose()" class="member-name-link">sendTerminationAndClose</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">NTCP 1 or 2.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setChannel(java.nio.channels.SocketChannel)" class="member-name-link">setChannel</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a>&nbsp;chan)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKey(java.nio.channels.SelectionKey)" class="member-name-link">setKey</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMayDisconnect()" class="member-name-link">setMayDisconnect</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets to true.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRemotePeer(net.i2p.data.router.RouterIdentity)" class="member-name-link">setRemotePeer</a><wbr>(<a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a>&nbsp;ident)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Valid for outbound; valid for inbound after handshake</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setVersion(int)" class="member-name-link">setVersion</a><wbr>(int&nbsp;ver)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Set version 2 from InboundEstablishState.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#tooBacklogged()" class="member-name-link">tooBacklogged</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wantsWrite(byte%5B%5D)" class="member-name-link">wantsWrite</a><wbr>(byte[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Call when there is data ready to write.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#wantsWrite(byte%5B%5D,int,int)" class="member-name-link">wantsWrite</a><wbr>(byte[]&nbsp;data,
 int&nbsp;off,
 int&nbsp;len)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Call when there is data ready to write.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="BUFFER_SIZE">
<h3>BUFFER_SIZE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">BUFFER_SIZE</span></div>
<div class="block">Why this is 16K, and where it is documented, good question?
  We claim we can do 32K datagrams so this is a problem.
  Needs to be fixed. But SSU can handle it?
  In the meantime, don't let the transport bid on big messages.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.BUFFER_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="NTCP2_MAX_MSG_SIZE">
<h3>NTCP2_MAX_MSG_SIZE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">NTCP2_MAX_MSG_SIZE</span></div>
<div class="block">See spec. Max Noise payload 65535,
  minus 16 byte MAC and 3 byte block header.
  Includes 9-byte I2NP header.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.NTCP2_MAX_MSG_SIZE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_UNSPEC">
<h3>REASON_UNSPEC</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_UNSPEC</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_UNSPEC">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_TERMINATION">
<h3>REASON_TERMINATION</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_TERMINATION</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_TERMINATION">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_TIMEOUT">
<h3>REASON_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_TIMEOUT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_AEAD">
<h3>REASON_AEAD</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_AEAD</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_AEAD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_OPTIONS">
<h3>REASON_OPTIONS</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_OPTIONS</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_OPTIONS">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_SIGTYPE">
<h3>REASON_SIGTYPE</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_SIGTYPE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_SIGTYPE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_SKEW">
<h3>REASON_SKEW</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_SKEW</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_SKEW">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_PADDING">
<h3>REASON_PADDING</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_PADDING</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_PADDING">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_FRAMING">
<h3>REASON_FRAMING</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_FRAMING</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_FRAMING">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_PAYLOAD">
<h3>REASON_PAYLOAD</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_PAYLOAD</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_PAYLOAD">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_MSG1">
<h3>REASON_MSG1</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_MSG1</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_MSG1">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_MSG2">
<h3>REASON_MSG2</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_MSG2</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_MSG2">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_MSG3">
<h3>REASON_MSG3</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_MSG3</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_MSG3">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_FRAME_TIMEOUT">
<h3>REASON_FRAME_TIMEOUT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_FRAME_TIMEOUT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_FRAME_TIMEOUT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_SIGFAIL">
<h3>REASON_SIGFAIL</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_SIGFAIL</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_SIGFAIL">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_S_MISMATCH">
<h3>REASON_S_MISMATCH</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_S_MISMATCH</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_S_MISMATCH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="REASON_BANNED">
<h3>REASON_BANNED</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">REASON_BANNED</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.REASON_BANNED">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PADDING_MIN_DEFAULT_INT">
<h3>PADDING_MIN_DEFAULT_INT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">PADDING_MIN_DEFAULT_INT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.PADDING_MIN_DEFAULT_INT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="PADDING_MAX_DEFAULT_INT">
<h3>PADDING_MAX_DEFAULT_INT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">PADDING_MAX_DEFAULT_INT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.PADDING_MAX_DEFAULT_INT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DUMMY_DEFAULT">
<h3>DUMMY_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DUMMY_DEFAULT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.DUMMY_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="DELAY_DEFAULT">
<h3>DELAY_DEFAULT</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">DELAY_DEFAULT</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.ntcp.NTCPConnection.DELAY_DEFAULT">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.transport.ntcp.NTCPTransport,java.nio.channels.SocketChannel,java.nio.channels.SelectionKey)">
<h3>NTCPConnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NTCPConnection</span><wbr><span class="parameters">(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="NTCPTransport.html" title="class in net.i2p.router.transport.ntcp">NTCPTransport</a>&nbsp;transport,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a>&nbsp;chan,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;key)</span></div>
<div class="block">Create an inbound connected (though not established) NTCP connection.
 Caller MUST call transport.establishing(this) after construction.
 Caller MUST key.attach(this) after construction.</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.transport.ntcp.NTCPTransport,net.i2p.data.router.RouterIdentity,net.i2p.data.router.RouterAddress,int)">
<h3>NTCPConnection</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">NTCPConnection</span><wbr><span class="parameters">(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="NTCPTransport.html" title="class in net.i2p.router.transport.ntcp">NTCPTransport</a>&nbsp;transport,
 <a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a>&nbsp;remotePeer,
 <a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a>&nbsp;remAddr,
 int&nbsp;version)</span>
               throws <span class="exceptions"><a href="../../../data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></span></div>
<div class="block">Create an outbound unconnected NTCP connection.
 Caller MUST call transport.establishing(this) after construction.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>version</code> - must be 1 or 2</dd>
<dt>Throws:</dt>
<dd><code><a href="../../../data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if there's a problem with the address</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getChannel()">
<h3>getChannel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a></span>&nbsp;<span class="element-name">getChannel</span>()</div>
<div class="block">Valid for inbound; valid for outbound shortly after creation</div>
</section>
</li>
<li>
<section class="detail" id="getKey()">
<h3>getKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a></span>&nbsp;<span class="element-name">getKey</span>()</div>
<div class="block">Valid for inbound; valid for outbound shortly after creation</div>
</section>
</li>
<li>
<section class="detail" id="setChannel(java.nio.channels.SocketChannel)">
<h3>setChannel</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setChannel</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SocketChannel.html" title="class or interface in java.nio.channels" class="external-link">SocketChannel</a>&nbsp;chan)</span></div>
</section>
</li>
<li>
<section class="detail" id="setKey(java.nio.channels.SelectionKey)">
<h3>setKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setKey</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectionKey.html" title="class or interface in java.nio.channels" class="external-link">SelectionKey</a>&nbsp;key)</span></div>
</section>
</li>
<li>
<section class="detail" id="isInbound()">
<h3>isInbound</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInbound</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isEstablished()">
<h3>isEstablished</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isEstablished</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isIPv6()">
<h3>isIPv6</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isIPv6</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>IPv6</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRemoteIP()">
<h3>getRemoteIP</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getRemoteIP</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null if unknown</dd>
<dt>Since:</dt>
<dd>0.9.53</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEstablishState()">
<h3>getEstablishState</h3>
<div class="member-signature"><span class="return-type"><a href="EstablishState.html" title="interface in net.i2p.router.transport.ntcp">EstablishState</a></span>&nbsp;<span class="element-name">getEstablishState</span>()</div>
<div class="block">Only valid during establishment;
  replaced with EstablishState.VERIFIED or FAILED afterward</div>
</section>
</li>
<li>
<section class="detail" id="getRemoteAddress()">
<h3>getRemoteAddress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a></span>&nbsp;<span class="element-name">getRemoteAddress</span>()</div>
<div class="block">Only valid for outbound; null for inbound</div>
</section>
</li>
<li>
<section class="detail" id="getRemotePeer()">
<h3>getRemotePeer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a></span>&nbsp;<span class="element-name">getRemotePeer</span>()</div>
<div class="block">Valid for outbound; valid for inbound after handshake</div>
</section>
</li>
<li>
<section class="detail" id="setRemotePeer(net.i2p.data.router.RouterIdentity)">
<h3>setRemotePeer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRemotePeer</span><wbr><span class="parameters">(<a href="../../../data/router/RouterIdentity.html" title="class in net.i2p.data.router">RouterIdentity</a>&nbsp;ident)</span></div>
<div class="block">Valid for outbound; valid for inbound after handshake</div>
</section>
</li>
<li>
<section class="detail" id="getClockSkew()">
<h3>getClockSkew</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getClockSkew</span>()</div>
<div class="block">A positive number means our clock is ahead of theirs.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>seconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getUptime()">
<h3>getUptime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getUptime</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEstablishedOn()">
<h3>getEstablishedOn</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getEstablishedOn</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.55</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMessagesSent()">
<h3>getMessagesSent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMessagesSent</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getMessagesReceived()">
<h3>getMessagesReceived</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMessagesReceived</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getOutboundQueueSize()">
<h3>getOutboundQueueSize</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getOutboundQueueSize</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceSend()">
<h3>getTimeSinceSend</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceSend</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceSend(long)">
<h3>getTimeSinceSend</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceSend</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceReceive()">
<h3>getTimeSinceReceive</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceReceive</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceReceive(long)">
<h3>getTimeSinceReceive</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceReceive</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceCreated()">
<h3>getTimeSinceCreated</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceCreated</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTimeSinceCreated(long)">
<h3>getTimeSinceCreated</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTimeSinceCreated</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>milliseconds</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCreated()">
<h3>getCreated</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getCreated</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>when this connection was created (not established)</dd>
<dt>Since:</dt>
<dd>0.9.20</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getVersion()">
<h3>getVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getVersion</span>()</div>
<div class="block">The NTCP2 version, for the console.
  For outbound, will not change.
  For inbound, defaults to 1, may change to 2 after establishment.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the version, 1 or 2</dd>
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setVersion(int)">
<h3>setVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setVersion</span><wbr><span class="parameters">(int&nbsp;ver)</span></div>
<div class="block">Set version 2 from InboundEstablishState.
  Just for logging, so we know before finishInboundEstablish() is called.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMayDisconnect()">
<h3>setMayDisconnect</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMayDisconnect</span>()</div>
<div class="block">Sets to true.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.24</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMayDisconnect()">
<h3>getMayDisconnect</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getMayDisconnect</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.24</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="clearZeroRead()">
<h3>clearZeroRead</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clearZeroRead</span>()</div>
<div class="block">workaround for EventPumper</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="gotZeroRead()">
<h3>gotZeroRead</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">gotZeroRead</span>()</div>
<div class="block">workaround for EventPumper</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>value after incrementing</dd>
<dt>Since:</dt>
<dd>0.8.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isClosed()">
<h3>isClosed</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isClosed</span>()</div>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html#close()" title="class or interface in java.io" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html" title="class or interface in java.io" class="external-link">Closeable</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close(boolean)">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span><wbr><span class="parameters">(boolean&nbsp;allowRequeue)</span></div>
</section>
</li>
<li>
<section class="detail" id="closeOnTimeout(java.lang.String,java.lang.Exception)">
<h3>closeOnTimeout</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">closeOnTimeout</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;cause,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Exception.html" title="class or interface in java.lang" class="external-link">Exception</a>&nbsp;e)</span></div>
<div class="block">Close and release EstablishState resources.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>e</code> - may be null</dd>
<dt>Since:</dt>
<dd>0.9.16</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="send(net.i2p.router.OutNetMessage)">
<h3>send</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">send</span><wbr><span class="parameters">(<a href="../../OutNetMessage.html" title="class in net.i2p.router">OutNetMessage</a>&nbsp;msg)</span></div>
<div class="block">toss the message onto the connection's send queue</div>
</section>
</li>
<li>
<section class="detail" id="isBacklogged()">
<h3>isBacklogged</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBacklogged</span>()</div>
</section>
</li>
<li>
<section class="detail" id="tooBacklogged()">
<h3>tooBacklogged</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">tooBacklogged</span>()</div>
</section>
</li>
<li>
<section class="detail" id="enqueueInfoMessage()">
<h3>enqueueInfoMessage</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">enqueueInfoMessage</span>()</div>
<div class="block">Inject a DatabaseStoreMessage with our RouterInfo. NTCP 1 or 2.

  Externally, this is only called by NTCPTransport for outbound cons,
  before the con is established, but we know what version it is.

  Internally, may be called for outbound or inbound, but only after the
  con is established, so we know what the version is.</div>
</section>
</li>
<li>
<section class="detail" id="prepareNextWrite(net.i2p.router.transport.ntcp.NTCPConnection.PrepBuffer)">
<h3>prepareNextWrite</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">prepareNextWrite</span><wbr><span class="parameters">(<a href="NTCPConnection.PrepBuffer.html" title="class in net.i2p.router.transport.ntcp">NTCPConnection.PrepBuffer</a>&nbsp;prep)</span></div>
<div class="block">Prepare the next I2NP message for transmission.  This should be run from
 the Writer thread pool. NTCP 1 or 2.
 
 This is the entry point as called from Writer.Runner.run()</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prep</code> - an instance of PrepBuffer to use as scratch space</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendOurRouterInfo(boolean)">
<h3>sendOurRouterInfo</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">sendOurRouterInfo</span><wbr><span class="parameters">(boolean&nbsp;shouldFlood)</span></div>
<div class="block">NTCP2 only</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.36, pkg private since 0.9.55 for EventPumper</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="sendTerminationAndClose()">
<h3>sendTerminationAndClose</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">sendTerminationAndClose</span>()</div>
<div class="block">NTCP 1 or 2.
  For NTCP1, simply closes the connection immediately.
  For NTCP2, sends termination and then closes the connection after a brief delay.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="outboundConnected()">
<h3>outboundConnected</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">outboundConnected</span>()</div>
<div class="block">async callback after the outbound connection was completed (this should NOT block, 
 as it occurs in the selector thread)</div>
</section>
</li>
<li>
<section class="detail" id="wantsWrite(byte[])">
<h3>wantsWrite</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">wantsWrite</span><wbr><span class="parameters">(byte[]&nbsp;data)</span></div>
<div class="block">Call when there is data ready to write.
  If we have bandwidth, calls write() which calls EventPumnper.wantsWrite(con).
  If no bandwidth, calls queuedWrite().</div>
<dl class="notes">
<dt>Since:</dt>
<dd>moved from EventPumper in 0.9.52</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="wantsWrite(byte[],int,int)">
<h3>wantsWrite</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">wantsWrite</span><wbr><span class="parameters">(byte[]&nbsp;data,
 int&nbsp;off,
 int&nbsp;len)</span></div>
<div class="block">Call when there is data ready to write.
  If we have bandwidth, calls write() which calls EventPumnper.wantsWrite(con).
  If no bandwidth, calls queuedWrite().</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.35 off/len version, moved from EventPumper in 0.9.52</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="queuedRecv(java.nio.ByteBuffer,net.i2p.router.transport.FIFOBandwidthLimiter.Request)">
<h3>queuedRecv</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">queuedRecv</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf,
 <a href="../FIFOBandwidthLimiter.Request.html" title="interface in net.i2p.router.transport">FIFOBandwidthLimiter.Request</a>&nbsp;req)</span></div>
<div class="block">We have read the data in the buffer, but we can't process it locally yet,
 because we're choked by the bandwidth limiter.  Cache the contents of
 the buffer (not copy) and register ourselves to be notified when the 
 contents have been fully allocated</div>
</section>
</li>
<li>
<section class="detail" id="recv(java.nio.ByteBuffer)">
<h3>recv</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">recv</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</span></div>
<div class="block">The contents of the buffer have been read and can be processed asap.
 This should not block, and the NTCP connection now owns the buffer
 to do with as it pleases BUT it should eventually copy out the data
 and call EventPumper.releaseBuf().</div>
</section>
</li>
<li>
<section class="detail" id="getWriteLock()">
<h3>getWriteLock</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">getWriteLock</span>()</div>
<div class="block">Write lock for pumper delayed writes</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.53</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextReadBuf()">
<h3>getNextReadBuf</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">getNextReadBuf</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null if none available</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isWriteBufEmpty()">
<h3>isWriteBufEmpty</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isWriteBufEmpty</span>()</div>
<div class="block">Replaces getWriteBufCount().
 Caller should sync on getWriteLock()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextWriteBuf()">
<h3>getNextWriteBuf</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a></span>&nbsp;<span class="element-name">getNextWriteBuf</span>()</div>
<div class="block">Returns but does not remove the buffer.
 Call removeWriteBuf() after write complete.
 Caller should sync on getWriteLock()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null if none available</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeWriteBuf(java.nio.ByteBuffer)">
<h3>removeWriteBuf</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removeWriteBuf</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</span></div>
<div class="block">Remove the buffer, which _should_ be the one at the head of _writeBufs.
  Caller must sync on _writeLock</div>
</section>
</li>
<li>
<section class="detail" id="getSendRate()">
<h3>getSendRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">getSendRate</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getRecvRate()">
<h3>getRecvRate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float</span>&nbsp;<span class="element-name">getRecvRate</span>()</div>
</section>
</li>
<li>
<section class="detail" id="recvEncryptedI2NP(java.nio.ByteBuffer)">
<h3>recvEncryptedI2NP</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">recvEncryptedI2NP</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html" title="class or interface in java.nio" class="external-link">ByteBuffer</a>&nbsp;buf)</span></div>
<div class="block">Connection must be established!

 The contents of the buffer include some fraction of one or more
 encrypted and encoded I2NP messages.  individual i2np messages are
 encoded as "sizeof(data)+data+pad+crc", and those are encrypted
 with the session key and the last 16 bytes of the previous encrypted
 i2np message.

 The NTCP connection now owns the buffer
 BUT it must copy out the data
 as reader will call EventPumper.releaseBuf().

 This is the entry point as called from Reader.processRead()</div>
</section>
</li>
<li>
<section class="detail" id="releaseResources()">
<h3>releaseResources</h3>
<div class="member-signature"><span class="modifiers">static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">releaseResources</span>()</div>
<div class="block">Call at transport shutdown</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.8</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishOutboundEstablishment(com.southernstorm.noise.protocol.CipherState,com.southernstorm.noise.protocol.CipherState,byte[],byte[],long)">
<h3>finishOutboundEstablishment</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">finishOutboundEstablishment</span><wbr><span class="parameters">(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 <a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;receiver,
 byte[]&nbsp;sip_ab,
 byte[]&nbsp;sip_ba,
 long&nbsp;clockSkew)</span></div>
<div class="block">We are Alice. NTCP2 only.

 Caller MUST call recvEncryptedI2NP() after, for any remaining bytes in receive buffer</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clockSkew</code> - OUR clock minus BOB's clock in seconds (may be negative, obviously, but |val| should
                  be under 1 minute)</dd>
<dd><code>sender</code> - use to send to Bob</dd>
<dd><code>receiver</code> - use to receive from Bob</dd>
<dd><code>sip_ab</code> - 24 bytes to init SipHash to Bob</dd>
<dd><code>sip_ba</code> - 24 bytes to init SipHash from Bob</dd>
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishInboundEstablishment(com.southernstorm.noise.protocol.CipherState,com.southernstorm.noise.protocol.CipherState,byte[],byte[],long,net.i2p.router.transport.ntcp.NTCP2Options)">
<h3>finishInboundEstablishment</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">finishInboundEstablishment</span><wbr><span class="parameters">(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 <a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;receiver,
 byte[]&nbsp;sip_ba,
 byte[]&nbsp;sip_ab,
 long&nbsp;clockSkew,
 <a href="NTCP2Options.html" title="class in net.i2p.router.transport.ntcp">NTCP2Options</a>&nbsp;hisPadding)</span></div>
<div class="block">We are Bob. NTCP2 only.

 Caller MUST call recvEncryptedI2NP() after, for any remaining bytes in receive buffer</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>clockSkew</code> - OUR clock minus ALICE's clock in seconds (may be negative, obviously, but |val| should
                  be under 1 minute)</dd>
<dd><code>sender</code> - use to send to Alice</dd>
<dd><code>receiver</code> - use to receive from Alice</dd>
<dd><code>sip_ba</code> - 24 bytes to init SipHash to Alice</dd>
<dd><code>sip_ab</code> - 24 bytes to init SipHash from Alice</dd>
<dd><code>hisPadding</code> - may be null</dd>
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="failInboundEstablishment(com.southernstorm.noise.protocol.CipherState,byte[],int)">
<h3>failInboundEstablishment</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">failInboundEstablishment</span><wbr><span class="parameters">(<a href="../../../../../com/southernstorm/noise/protocol/CipherState.html" title="interface in com.southernstorm.noise.protocol">CipherState</a>&nbsp;sender,
 byte[]&nbsp;sip_ba,
 int&nbsp;reason)</span></div>
<div class="block">We are Bob. NTCP2 only.
 This is only for invalid payload received in message 3. We send a termination and close.
 There will be no receiving.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sender</code> - use to send to Alice</dd>
<dd><code>sip_ba</code> - 24 bytes to init SipHash to Alice</dd>
<dt>Since:</dt>
<dd>0.9.36</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
