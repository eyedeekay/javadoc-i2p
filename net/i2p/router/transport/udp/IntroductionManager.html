<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) -->
<title>IntroductionManager (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.router.transport.udp, class: IntroductionManager">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/IntroductionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.i2p.router.transport.udp</a></div>
<h1 title="Class IntroductionManager" class="title">Class IntroductionManager</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.i2p.router.transport.udp.IntroductionManager</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">class </span><span class="element-name type-name-label">IntroductionManager</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Keep track of inbound and outbound introductions.

  IPv6 info: Alice-Bob communication may be via IPv4 or IPv6.
  Bob-Charlie communication must be via established IPv4 session as that's the only way
  that Bob knows Charlie's IPv4 address to give it to Alice.
  Alice-Charlie communication is via IPv4.
  If Alice-Bob is over IPv6, Alice must include her IPv4 address in
  the RelayRequest message.

  From udp.html on the website:

<p>Indirect session establishment by means of a third party introduction
is necessary for efficient NAT traversal.  Charlie, a router behind a
NAT or firewall which does not allow unsolicited inbound UDP packets,
first contacts a few peers, choosing some to serve as introducers.  Each
of these peers (Bob, Bill, Betty, etc) provide Charlie with an introduction
tag - a 4 byte random number - which he then makes available to the public
as methods of contacting him.  Alice, a router who has Charlie's published
contact methods, first sends a RelayRequest packet to one or more of the 
introducers, asking each to introduce her to Charlie (offering the 
introduction tag to identify Charlie).  Bob then forwards a RelayIntro
packet to Charlie including Alice's public IP and port number, then sends
Alice back a RelayResponse packet containing Charlie's public IP and port
number.  When Charlie receives the RelayIntro packet, he sends off a small
random packet to Alice's IP and port (poking a hole in his NAT/firewall),
and when Alice receives Bob's RelayResponse packet, she begins a new 
full direction session establishment with the specified IP and port.</p>
<p>
Alice first connects to introducer Bob, who relays the request to Charlie.
</p>
<pre>
        Alice                         Bob                  Charlie
    RelayRequest ----------------------&gt;
         &lt;-------------- RelayResponse    RelayIntro -----------&gt;
         &lt;-------------------------------------------- HolePunch (data ignored)
    SessionRequest --------------------------------------------&gt;
         &lt;-------------------------------------------- SessionCreated
    SessionConfirmed ------------------------------------------&gt;
         &lt;-------------------------------------------- DeliveryStatusMessage
         &lt;-------------------------------------------- DatabaseStoreMessage
    DatabaseStoreMessage --------------------------------------&gt;
    Data &lt;--------------------------------------------------&gt; Data
</pre>

<p>
After the hole punch, the session is established between Alice and Charlie as in a direct establishment.
</p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#MAX_OUTBOUND" class="member-name-link">MAX_OUTBOUND</a></code></div>
<div class="col-last even-row-color">
<div class="block">This is enforced in EstablishmentManager</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport)" class="member-name-link">IntroductionManager</a><wbr>(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(net.i2p.router.transport.udp.PeerState)" class="member-name-link">add</a><wbr>(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;peer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#introducedCount()" class="member-name-link">introducedCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Combined IPv4 and IPv6</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#introducerCount(boolean)" class="member-name-link">introducerCount</a><wbr>(boolean&nbsp;ipv6)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Not as elaborate as pickInbound() above.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInboundTagValid(long)" class="member-name-link">isInboundTagValid</a><wbr>(long&nbsp;tag)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is this inbound tag currently valid,
  i.e.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pickInbound(net.i2p.data.router.RouterAddress,boolean,java.util.Properties,int)" class="member-name-link">pickInbound</a><wbr>(<a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a>&nbsp;current,
 boolean&nbsp;ipv6,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;ssuOptions,
 int&nbsp;howMany)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Grab a bunch of peers who are willing to be introducers for us that
 are locally known (duh) and have published their own SSU address (duh^2).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pingIntroducers()" class="member-name-link">pingIntroducers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Was part of pickInbound(), moved out so we can call it more often</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveHolePunch(net.i2p.router.transport.udp.RemoteHostId,byte%5B%5D)" class="member-name-link">receiveHolePunch</a><wbr>(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;charlie,
 byte[]&nbsp;data)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Alice and we got this from Charlie.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveRelayIntro(net.i2p.router.transport.udp.PeerState2,net.i2p.data.Hash,byte%5B%5D)" class="member-name-link">receiveRelayIntro</a><wbr>(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;bob,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;alice,
 byte[]&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Charlie and we got this from Bob.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveRelayIntro(net.i2p.router.transport.udp.RemoteHostId,net.i2p.router.transport.udp.UDPPacketReader)" class="member-name-link">receiveRelayIntro</a><wbr>(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;bob,
 <a href="UDPPacketReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader</a>&nbsp;reader)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Charlie and we got this from Bob.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveRelayRequest(net.i2p.router.transport.udp.PeerState2,byte%5B%5D)" class="member-name-link">receiveRelayRequest</a><wbr>(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;alice,
 byte[]&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Bob and we got this from Alice.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveRelayRequest(net.i2p.router.transport.udp.RemoteHostId,net.i2p.router.transport.udp.UDPPacketReader)" class="member-name-link">receiveRelayRequest</a><wbr>(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;alice,
 <a href="UDPPacketReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader</a>&nbsp;reader)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Bob and we got this from Alice.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#receiveRelayResponse(net.i2p.router.transport.udp.PeerState2,int,byte%5B%5D)" class="member-name-link">receiveRelayResponse</a><wbr>(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;peer,
 int&nbsp;status,
 byte[]&nbsp;data)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We are Bob and we got this from Charlie, OR
  we are Alice and we got this from Bob.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#remove(net.i2p.router.transport.udp.PeerState)" class="member-name-link">remove</a><wbr>(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;peer)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#reset()" class="member-name-link">reset</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="MAX_OUTBOUND">
<h3>MAX_OUTBOUND</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_OUTBOUND</span></div>
<div class="block">This is enforced in EstablishmentManager</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.11</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.IntroductionManager.MAX_OUTBOUND">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport)">
<h3>IntroductionManager</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IntroductionManager</span><wbr><span class="parameters">(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">reset</span>()</div>
</section>
</li>
<li>
<section class="detail" id="add(net.i2p.router.transport.udp.PeerState)">
<h3>add</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;peer)</span></div>
</section>
</li>
<li>
<section class="detail" id="remove(net.i2p.router.transport.udp.PeerState)">
<h3>remove</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">remove</span><wbr><span class="parameters">(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;peer)</span></div>
</section>
</li>
<li>
<section class="detail" id="isInboundTagValid(long)">
<h3>isInboundTagValid</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInboundTagValid</span><wbr><span class="parameters">(long&nbsp;tag)</span></div>
<div class="block">Is this inbound tag currently valid,
  i.e. is the peer still connected?</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.50</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pickInbound(net.i2p.data.router.RouterAddress,boolean,java.util.Properties,int)">
<h3>pickInbound</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">pickInbound</span><wbr><span class="parameters">(<a href="../../../data/router/RouterAddress.html" title="class in net.i2p.data.router">RouterAddress</a>&nbsp;current,
 boolean&nbsp;ipv6,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;ssuOptions,
 int&nbsp;howMany)</span></div>
<div class="block">Grab a bunch of peers who are willing to be introducers for us that
 are locally known (duh) and have published their own SSU address (duh^2).
 The picked peers have their info tacked on to the ssuOptions parameter for
 use in the SSU RouterAddress.

 Try to use "good" peers (i.e. reachable, active)

 Also, ping all idle peers that were introducers in the last 2 hours,
 to keep the connection up, since the netDb can have quite stale information,
 and we want to keep our introducers valid.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>current</code> - current router address, may be null</dd>
<dd><code>ipv6</code> - what type is the current address we need introducers for?</dd>
<dd><code>ssuOptions</code> - out parameter, options are added</dd>
<dt>Returns:</dt>
<dd>number of introducers added</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pingIntroducers()">
<h3>pingIntroducers</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pingIntroducers</span>()</div>
<div class="block">Was part of pickInbound(), moved out so we can call it more often</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.11</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="introducerCount(boolean)">
<h3>introducerCount</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">introducerCount</span><wbr><span class="parameters">(boolean&nbsp;ipv6)</span></div>
<div class="block">Not as elaborate as pickInbound() above.
 Just a quick check to see how many volunteers we know,
 which the Transport uses to see if we need more.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ipv6</code> - what type of address are they introducing us for</dd>
<dt>Returns:</dt>
<dd>number of peers that have volunteered to introduce us</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="introducedCount()">
<h3>introducedCount</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">introducedCount</span>()</div>
<div class="block">Combined IPv4 and IPv6</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of peers we have volunteered to introduce</dd>
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="receiveRelayIntro(net.i2p.router.transport.udp.RemoteHostId,net.i2p.router.transport.udp.UDPPacketReader)">
<h3>receiveRelayIntro</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveRelayIntro</span><wbr><span class="parameters">(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;bob,
 <a href="UDPPacketReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader</a>&nbsp;reader)</span></div>
<div class="block">We are Charlie and we got this from Bob.
  Send a HolePunch to Alice, who will soon be sending us a SessionRequest.
  We should already have a session with Bob, but probably not with Alice.

  If we don't have a session with Bob, we removed the relay tag from
  our _outbound table, so this won't work.

  We do some throttling here.

  SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="receiveRelayRequest(net.i2p.router.transport.udp.RemoteHostId,net.i2p.router.transport.udp.UDPPacketReader)">
<h3>receiveRelayRequest</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveRelayRequest</span><wbr><span class="parameters">(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;alice,
 <a href="UDPPacketReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader</a>&nbsp;reader)</span></div>
<div class="block">We are Bob and we got this from Alice.
  Send a RelayIntro to Charlie and a RelayResponse to Alice.
  We should already have a session with Charlie, but not necessarily with Alice.

  SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="receiveRelayRequest(net.i2p.router.transport.udp.PeerState2,byte[])">
<h3>receiveRelayRequest</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveRelayRequest</span><wbr><span class="parameters">(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;alice,
 byte[]&nbsp;data)</span></div>
<div class="block">We are Bob and we got this from Alice.
  Send Alice's RI and a RelayIntro to Charlie, or reject with a RelayResponse to Alice.
  We should already have a session with Charlie and definitely with Alice.

  SSU 2 only.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.55</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="receiveRelayIntro(net.i2p.router.transport.udp.PeerState2,net.i2p.data.Hash,byte[])">
<h3>receiveRelayIntro</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveRelayIntro</span><wbr><span class="parameters">(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;bob,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;alice,
 byte[]&nbsp;data)</span></div>
<div class="block">We are Charlie and we got this from Bob.
  Send a HolePunch to Alice, who will soon be sending us a SessionRequest.
  And send a RelayResponse to bob.

  SSU 2 only.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.55</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="receiveRelayResponse(net.i2p.router.transport.udp.PeerState2,int,byte[])">
<h3>receiveRelayResponse</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveRelayResponse</span><wbr><span class="parameters">(<a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a>&nbsp;peer,
 int&nbsp;status,
 byte[]&nbsp;data)</span></div>
<div class="block">We are Bob and we got this from Charlie, OR
  we are Alice and we got this from Bob.

  If we are Bob, send to Alice.
  If we are Alice, send a SessionRequest to Charlie.
  We should already have a session with Charlie, but not necessarily with Alice.

  SSU 2 only.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.55</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="receiveHolePunch(net.i2p.router.transport.udp.RemoteHostId,byte[])">
<h3>receiveHolePunch</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">receiveHolePunch</span><wbr><span class="parameters">(<a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a>&nbsp;charlie,
 byte[]&nbsp;data)</span></div>
<div class="block">We are Alice and we got this from Charlie.
  Send a SessionRequest to Charlie, whether or not we got the Relay Response already.

  SSU 2 only, out-of-session.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.55</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
