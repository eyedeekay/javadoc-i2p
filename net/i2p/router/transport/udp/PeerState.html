<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) -->
<title>PeerState (I2P Anonymous Network - Java Documentation - API Version 0.9.55)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.router.transport.udp, class: PeerState">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PeerState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.i2p.router.transport.udp</a></div>
<h1 title="Class PeerState" class="title">Class PeerState</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.i2p.router.transport.udp.PeerState</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="PeerState2.html" title="class in net.i2p.router.transport.udp">PeerState2</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PeerState</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">Contain all of the state about a UDP connection to a peer.
 This is instantiated only after a connection is fully established.

 Public only for UI peers page. Not a public API, not for external use.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected final <a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a></code></div>
<div class="col-second even-row-color"><code><a href="#_context" class="member-name-link">_context</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_dead" class="member-name-link">_dead</a></code></div>
<div class="col-last odd-row-color">
<div class="block">have we migrated away from this peer to another newer one?</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="InboundMessageState.html" title="class in net.i2p.router.transport.udp">InboundMessageState</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#_inboundMessages" class="member-name-link">_inboundMessages</a></code></div>
<div class="col-last even-row-color">
<div class="block">list of InboundMessageState for active message</div>
</div>
<div class="col-first odd-row-color"><code>protected final boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_isInbound" class="member-name-link">_isInbound</a></code></div>
<div class="col-last odd-row-color">
<div class="block">is it inbound?</div>
</div>
<div class="col-first even-row-color"><code>protected final long</code></div>
<div class="col-second even-row-color"><code><a href="#_keyEstablishedTime" class="member-name-link">_keyEstablishedTime</a></code></div>
<div class="col-last even-row-color">
<div class="block">when were the current cipher and MAC keys established/rekeyed?</div>
</div>
<div class="col-first odd-row-color"><code>protected long</code></div>
<div class="col-second odd-row-color"><code><a href="#_lastACKSend" class="member-name-link">_lastACKSend</a></code></div>
<div class="col-last odd-row-color">
<div class="block">when did we last send ACKs to the peer?</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="../../../util/Log.html" title="class in net.i2p.util">Log</a></code></div>
<div class="col-second even-row-color"><code><a href="#_log" class="member-name-link">_log</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#_mtu" class="member-name-link">_mtu</a></code></div>
<div class="col-last odd-row-color">
<div class="block">what is the largest packet we can currently send to the peer?</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#_packetsReceivedDuplicate" class="member-name-link">_packetsReceivedDuplicate</a></code></div>
<div class="col-last even-row-color">
<div class="block">how many dup packets were received within the last RETRANSMISSION_PERIOD_WIDTH packets</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_remoteHostId" class="member-name-link">_remoteHostId</a></code></div>
<div class="col-last odd-row-color">
<div class="block">cached RemoteHostId, used to find the peerState by remote info</div>
</div>
<div class="col-first even-row-color"><code>protected final byte[]</code></div>
<div class="col-second even-row-color"><code><a href="#_remoteIP" class="member-name-link">_remoteIP</a></code></div>
<div class="col-last even-row-color">
<div class="block">what IP is the peer sending and receiving packets on?</div>
</div>
<div class="col-first odd-row-color"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_remoteIPAddress" class="member-name-link">_remoteIPAddress</a></code></div>
<div class="col-last odd-row-color">
<div class="block">cached IP address</div>
</div>
<div class="col-first even-row-color"><code>protected final <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a></code></div>
<div class="col-second even-row-color"><code><a href="#_remotePeer" class="member-name-link">_remotePeer</a></code></div>
<div class="col-last even-row-color">
<div class="block">The peer are we talking to.</div>
</div>
<div class="col-first odd-row-color"><code>protected int</code></div>
<div class="col-second odd-row-color"><code><a href="#_remotePort" class="member-name-link">_remotePort</a></code></div>
<div class="col-last odd-row-color">
<div class="block">what port is the peer sending and receiving packets on?</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#_rtt" class="member-name-link">_rtt</a></code></div>
<div class="col-last even-row-color">
<div class="block">current round trip time estimate</div>
</div>
<div class="col-first odd-row-color"><code>protected final <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_transport" class="member-name-link">_transport</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#_wantACKSendSince" class="member-name-link">_wantACKSendSince</a></code></div>
<div class="col-last even-row-color">
<div class="block">when did we decide we need to ACK to this peer?</div>
</div>
<div class="col-first odd-row-color"><code>protected static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#ACK_FREQUENCY" class="member-name-link">ACK_FREQUENCY</a></code></div>
<div class="col-last odd-row-color">
<div class="block">how frequently do we want to send ACKs to a peer?</div>
</div>
<div class="col-first even-row-color"><code>protected static final int</code></div>
<div class="col-second even-row-color"><code><a href="#CLOCK_SKEW_FUDGE" class="member-name-link">CLOCK_SKEW_FUDGE</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#LARGE_MTU" class="member-name-link">LARGE_MTU</a></code></div>
<div class="col-last odd-row-color">
<div class="block">IPv4 Max MTU

 based on measurements, 1350 fits nearly all reasonably small I2NP messages
 (larger I2NP messages may be up to 1900B-4500B, which isn't going to fit
 into a live network MTU anyway)

 TODO
 VTBM is 2646, it would be nice to fit in two large
 2646 / 2 = 1323
 1323 + 74 + 46 + 1 + (4 * 9) = 1480
 So why not make it 1492 (old ethernet is 1492, new is 1500)
 Changed to 1492 in 0.8.9

 BUT through 0.8.11,
 size estimate was bad, actual packet was up to 48 bytes bigger
 To be figured out.</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#MAX_IPV6_MTU" class="member-name-link">MAX_IPV6_MTU</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#MAX_MTU" class="member-name-link">MAX_MTU</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Max of IPv4 and IPv6 max MTUs</div>
</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#MIN_IPV6_MTU" class="member-name-link">MIN_IPV6_MTU</a></code></div>
<div class="col-last even-row-color">
<div class="block">IPv6/UDP header is 48 bytes, so we want MTU % 16 == 0.</div>
</div>
<div class="col-first odd-row-color"><code>static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#MIN_MTU" class="member-name-link">MIN_MTU</a></code></div>
<div class="col-last odd-row-color">
<div class="block">IPv4 Min MTU

 596 gives us 588 IP byes, 568 UDP bytes, and with an SSU data message,
 522 fragment bytes, which is enough to send a tunnel data message in 2
 packets.</div>
</div>
<div class="col-first even-row-color"><code>(package private) static final long</code></div>
<div class="col-second even-row-color"><code><a href="#RETRANSMISSION_PERIOD_WIDTH" class="member-name-link">RETRANSMISSION_PERIOD_WIDTH</a></code></div>
<div class="col-last even-row-color">
<div class="block">how many packets will be considered within the retransmission rate calculation</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier</div>
<div class="table-header col-second">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>&nbsp;</code></div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport,byte%5B%5D,int,net.i2p.data.Hash,boolean,int,net.i2p.data.SessionKey,net.i2p.data.SessionKey)" class="member-name-link">PeerState</a><wbr>(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport,
 byte[]&nbsp;remoteIP,
 int&nbsp;remotePort,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;remotePeer,
 boolean&nbsp;isInbound,
 int&nbsp;rtt,
 <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;cipherKey,
 <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;macKey)</code></div>
<div class="col-last even-row-color">
<div class="block">SSU 1 only.</div>
</div>
<div class="col-first odd-row-color"><code>protected </code></div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport,java.net.InetSocketAddress,net.i2p.data.Hash,boolean,int)" class="member-name-link">PeerState</a><wbr>(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetSocketAddress.html" title="class or interface in java.net" class="external-link">InetSocketAddress</a>&nbsp;addr,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;remotePeer,
 boolean&nbsp;isInbound,
 int&nbsp;rtt)</code></div>
<div class="col-last odd-row-color">
<div class="block">For SSU2</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acked(long,net.i2p.router.transport.udp.InboundMessageFragments.ModifiableLong)" class="member-name-link">acked</a><wbr>(long&nbsp;messageId,
 <a href="InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp">InboundMessageFragments.ModifiableLong</a>&nbsp;highestSeqNumAcked)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A full ACK was received.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acked(net.i2p.router.transport.udp.ACKBitfield,net.i2p.router.transport.udp.InboundMessageFragments.ModifiableLong)" class="member-name-link">acked</a><wbr>(<a href="ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a>&nbsp;bitfield,
 <a href="InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp">InboundMessageFragments.ModifiableLong</a>&nbsp;highestSeqNumAcked)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A partial ACK was received.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#acked(net.i2p.router.transport.udp.PacketBuilder.Fragment)" class="member-name-link">acked</a><wbr>(<a href="PacketBuilder.Fragment.html" title="class in net.i2p.router.transport.udp">PacketBuilder.Fragment</a>&nbsp;f)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">An ACK of a fragment was received.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#add(net.i2p.router.transport.udp.OutboundMessageState)" class="member-name-link">add</a><wbr>(<a href="OutboundMessageState.html" title="class in net.i2p.router.transport.udp">OutboundMessageState</a>&nbsp;state)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">TODO should this use a queue, separate from the list of msgs pending an ack?
  TODO bring back tail drop?
  TODO priority queue? (we don't implement priorities in SSU now)
  TODO backlog / pushback / block instead of dropping? Can't really block here.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#adjustClockSkew(long)" class="member-name-link">adjustClockSkew</a><wbr>(long&nbsp;skew)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update the moving-average clock skew based on the current difference.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="OutboundMessageState.html" title="class in net.i2p.router.transport.udp">OutboundMessageState</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#allocateSend(long)" class="member-name-link">allocateSend</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Pick one or more messages we want to send and allocate them out of our window
 Adjusts the retransmit timer if necessary.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#changePort(int)" class="member-name-link">changePort</a><wbr>(int&nbsp;newPort)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Caller should sync; UDPTransport must remove and add to peersByRemoteHost map</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearWantedACKSendSince()" class="member-name-link">clearWantedACKSendSince</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">All acks have been sent.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dataReceived()" class="member-name-link">dataReceived</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#dropOutbound()" class="member-name-link">dropOutbound</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">drop all outbound messages</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#ECNReceived()" class="member-name-link">ECNReceived</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We received a backoff request, so cut our send window.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#expireInboundMessages()" class="member-name-link">expireInboundMessages</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expire partially received inbound messages, returning how many are still pending.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fetchPartialACKs(java.util.List)" class="member-name-link">fetchPartialACKs</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a>&gt;&nbsp;rv)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">SSU 1 only.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#finishMessages(long)" class="member-name-link">finishMessages</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Expire / complete any outbound messages
 High usage -
 OutboundMessageFragments.getNextVolley() calls this 1st.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fragmentOverhead()" class="member-name-link">fragmentOverhead</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Packet overhead plus room for acks</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fragmentSize()" class="member-name-link">fragmentSize</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how much payload data can we shove in there?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getClockSkew()" class="member-name-link">getClockSkew</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">How far off is the remote peer from our clock, in milliseconds?
  A positive number means our clock is ahead of theirs.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConcurrentSends()" class="member-name-link">getConcurrentSends</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">2nd stat in CWND column, otherwise unused,
  candidate for removal</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConcurrentSendWindow()" class="member-name-link">getConcurrentSendWindow</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">3rd stat in CWND column, otherwise unused,
  candidate for removal</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConsecutiveFailedSends()" class="member-name-link">getConsecutiveFailedSends</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how many seconds have we sent packets without any ACKs received?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getConsecutiveSendRejections()" class="member-name-link">getConsecutiveSendRejections</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">4th stat in CWND column, otherwise unused,
  candidate for removal</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentCipherKey()" class="member-name-link">getCurrentCipherKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The AES key used to encrypt/decrypt packets, set only after the
 connection is established.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentFullACKs()" class="member-name-link">getCurrentFullACKs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Grab a list of message ids (Long) that we want to send to the remote
 peer, regardless of the packet size, but don't remove it from our
 "want to send" list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentMACKey()" class="member-name-link">getCurrentMACKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The AES key used to verify packets, set only after the connection is
 established.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getCurrentResendACKs()" class="member-name-link">getCurrentResendACKs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Grab a list of message ids (Long) that we want to send to the remote
 peer, regardless of the packet size, but don't remove it from our
 "want to send" list.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInactivityTime()" class="member-name-link">getInactivityTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="InboundMessageState.html" title="class in net.i2p.router.transport.udp">InboundMessageState</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getInboundMessages()" class="member-name-link">getInboundMessages</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Fetch the internal id (Long) to InboundMessageState for incomplete inbound messages.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getIntroducerTime()" class="member-name-link">getIntroducerTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">the last time we used them as an introducer, or 0</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKeyEstablishedTime()" class="member-name-link">getKeyEstablishedTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When were the current cipher and MAC keys established/rekeyed?
 This is the connection uptime.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastACKSend()" class="member-name-link">getLastACKSend</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last send an ACK to the peer?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastReceiveTime()" class="member-name-link">getLastReceiveTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last receive a packet from them?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSendFullyTime()" class="member-name-link">getLastSendFullyTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last send them a message that was ACKed?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSendOrPingTime()" class="member-name-link">getLastSendOrPingTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Latest of last sent, last ACK, last ping</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLastSendTime()" class="member-name-link">getLastSendTime</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last send them a packet?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMayDisconnect()" class="member-name-link">getMayDisconnect</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMessagesReceived()" class="member-name-link">getMessagesReceived</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">I2NP messages received.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMessagesSent()" class="member-name-link">getMessagesSent</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">I2NP messages sent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getMTU()" class="member-name-link">getMTU</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">what is the largest packet we can send to the peer?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextCipherKey()" class="member-name-link">getNextCipherKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The pending AES key for encrypting/decrypting packets if we are
 rekeying the connection, or null if we are not in the process
 of rekeying.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextDelay(long)" class="member-name-link">getNextDelay</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">High usage -
 OutboundMessageFragments.getNextVolley() calls this 3rd, if allocateSend() returned null.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getNextMACKey()" class="member-name-link">getNextMACKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The pending AES key for verifying packets if we are rekeying the
 connection, or null if we are not in the process of rekeying.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOutboundMessageCount()" class="member-name-link">getOutboundMessageCount</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPacketsReceived()" class="member-name-link">getPacketsReceived</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPacketsReceivedDuplicate()" class="member-name-link">getPacketsReceivedDuplicate</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPacketsRetransmitted()" class="member-name-link">getPacketsRetransmitted</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPacketsTransmitted()" class="member-name-link">getPacketsTransmitted</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceiveBps()" class="member-name-link">getReceiveBps</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">An approximation, for display only</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceiveMTU()" class="member-name-link">getReceiveMTU</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Estimate how large the other side's MTU is.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemoteHostId()" class="member-name-link">getRemoteHostId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemoteIP()" class="member-name-link">getRemoteIP</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">what IP is the peer sending and receiving packets on?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemoteIPAddress()" class="member-name-link">getRemoteIPAddress</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemotePeer()" class="member-name-link">getRemotePeer</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The peer are we talking to.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRemotePort()" class="member-name-link">getRemotePort</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">what port is the peer sending and receiving packets on?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRTO()" class="member-name-link">getRTO</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how soon should we retransmit an unacked packet?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRTT()" class="member-name-link">getRTT</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how long does it usually take to get a message ACKed?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRTTDeviation()" class="member-name-link">getRTTDeviation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how skewed are the measured RTTs?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSendBps()" class="member-name-link">getSendBps</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The Westwood+ bandwidth estimate</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSendWindowBytes()" class="member-name-link">getSendWindowBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how many bytes should we send to the peer in a second
  1st stat in CWND column, otherwise unused,
  candidate for removal</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSendWindowBytesRemaining()" class="member-name-link">getSendWindowBytesRemaining</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">how many bytes can we send to the peer in the current second</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSlowStartThreshold()" class="member-name-link">getSlowStartThreshold</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">stat in SST column, otherwise unused,
  candidate for removal</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTheyRelayToUsAs()" class="member-name-link">getTheyRelayToUsAs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If they have offered to serve as an introducer to us, this is the tag
 we can use to publish that fact.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransport()" class="member-name-link">getTransport</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Convenience for OutboundMessageState so it can fail itself</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVersion()" class="member-name-link">getVersion</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getWeRelayToThemAs()" class="member-name-link">getWeRelayToThemAs</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">if we are serving as an introducer to them, this is the the tag that
 they can publish that, when presented to us, will cause us to send
 a relay introduction to the current peer</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#highestSeqNumAcked(long)" class="member-name-link">highestSeqNumAcked</a><wbr>(long&nbsp;highest)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Enter or leave fast retransmit mode, and adjust
  SST and window variables accordingly.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#incrementConsecutiveFailedSends()" class="member-name-link">incrementConsecutiveFailedSends</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isBacklogged()" class="member-name-link">isBacklogged</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isInbound()" class="member-name-link">isInbound</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isIPv6()" class="member-name-link">isIPv6</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadFrom(net.i2p.router.transport.udp.PeerState)" class="member-name-link">loadFrom</a><wbr>(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;oldPeer)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Transfer the basic activity/state from the old peer to the current peer

  SSU 1 or 2.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#messageFullyReceived(java.lang.Long,int)" class="member-name-link">messageFullyReceived</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;messageId,
 int&nbsp;bytes)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We received the message specified completely.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#messagePartiallyReceived()" class="member-name-link">messagePartiallyReceived</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We received a partial message, or we want to send some acks.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#messagePartiallyReceived(long)" class="member-name-link">messagePartiallyReceived</a><wbr>(long&nbsp;now)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">We received a partial message, or we want to send some acks.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#messageRetransmitted(int,int)" class="member-name-link">messageRetransmitted</a><wbr>(int&nbsp;packets,
 int&nbsp;maxPktSz)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">we are resending a packet, so lets jack up the rto</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#packetReceived(int)" class="member-name-link">packetReceived</a><wbr>(int&nbsp;size)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#packetsTransmitted(int)" class="member-name-link">packetsTransmitted</a><wbr>(int&nbsp;packets)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#removeACKMessage(java.lang.Long)" class="member-name-link">removeACKMessage</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;messageId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The ack was sent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHisMTU(int)" class="member-name-link">setHisMTU</a><wbr>(int&nbsp;mtu)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setIntroducerTime()" class="member-name-link">setIntroducerTime</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">set the last time we used them as an introducer to now</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastPingTime(long)" class="member-name-link">setLastPingTime</a><wbr>(long&nbsp;when)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Note ping sent.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastReceiveTime(long)" class="member-name-link">setLastReceiveTime</a><wbr>(long&nbsp;when)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last receive a packet from them?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLastSendTime(long)" class="member-name-link">setLastSendTime</a><wbr>(long&nbsp;when)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">when did we last send them a packet?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setMayDisconnect()" class="member-name-link">setMayDisconnect</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sets to true.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setTheyRelayToUsAs(long)" class="member-name-link">setTheyRelayToUsAs</a><wbr>(long&nbsp;tag)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If they have offered to serve as an introducer to us, this is the tag
 we can use to publish that fact.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setWeRelayToThemAs(long)" class="member-name-link">setWeRelayToThemAs</a><wbr>(long&nbsp;tag)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">if we are serving as an introducer to them, this is the the tag that
 they can publish that, when presented to us, will cause us to send
 a relay introduction to the current peer</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#shouldRequestImmediateAck()" class="member-name-link">shouldRequestImmediateAck</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">SSU 2 only</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#unsentACKThresholdReached()" class="member-name-link">unsentACKThresholdReached</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Are we out of room to send all the current unsent acks in a single packet?
  This is a huge threshold (134 for small MTU and 255 for large MTU)
  that is rarely if ever exceeded in practice.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_context">
<h3>_context</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a></span>&nbsp;<span class="element-name">_context</span></div>
</section>
</li>
<li>
<section class="detail" id="_log">
<h3>_log</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../../../util/Log.html" title="class in net.i2p.util">Log</a></span>&nbsp;<span class="element-name">_log</span></div>
</section>
</li>
<li>
<section class="detail" id="_remotePeer">
<h3>_remotePeer</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a></span>&nbsp;<span class="element-name">_remotePeer</span></div>
<div class="block">The peer are we talking to.  This should be set as soon as this
 state is created if we are initiating a connection, but if we are
 receiving the connection this will be set only after the connection
 is established.</div>
</section>
</li>
<li>
<section class="detail" id="_keyEstablishedTime">
<h3>_keyEstablishedTime</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">_keyEstablishedTime</span></div>
<div class="block">when were the current cipher and MAC keys established/rekeyed?</div>
</section>
</li>
<li>
<section class="detail" id="_lastACKSend">
<h3>_lastACKSend</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">_lastACKSend</span></div>
<div class="block">when did we last send ACKs to the peer?</div>
</section>
</li>
<li>
<section class="detail" id="_wantACKSendSince">
<h3>_wantACKSendSince</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">_wantACKSendSince</span></div>
<div class="block">when did we decide we need to ACK to this peer?</div>
</section>
</li>
<li>
<section class="detail" id="_remoteIP">
<h3>_remoteIP</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">_remoteIP</span></div>
<div class="block">what IP is the peer sending and receiving packets on?</div>
</section>
</li>
<li>
<section class="detail" id="_remoteIPAddress">
<h3>_remoteIPAddress</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a></span>&nbsp;<span class="element-name">_remoteIPAddress</span></div>
<div class="block">cached IP address</div>
</section>
</li>
<li>
<section class="detail" id="_remotePort">
<h3>_remotePort</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_remotePort</span></div>
<div class="block">what port is the peer sending and receiving packets on?</div>
</section>
</li>
<li>
<section class="detail" id="_remoteHostId">
<h3>_remoteHostId</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type"><a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a></span>&nbsp;<span class="element-name">_remoteHostId</span></div>
<div class="block">cached RemoteHostId, used to find the peerState by remote info</div>
</section>
</li>
<li>
<section class="detail" id="_mtu">
<h3>_mtu</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_mtu</span></div>
<div class="block">what is the largest packet we can currently send to the peer?</div>
</section>
</li>
<li>
<section class="detail" id="_rtt">
<h3>_rtt</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_rtt</span></div>
<div class="block">current round trip time estimate</div>
</section>
</li>
<li>
<section class="detail" id="RETRANSMISSION_PERIOD_WIDTH">
<h3>RETRANSMISSION_PERIOD_WIDTH</h3>
<div class="member-signature"><span class="modifiers">static final</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">RETRANSMISSION_PERIOD_WIDTH</span></div>
<div class="block">how many packets will be considered within the retransmission rate calculation</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.RETRANSMISSION_PERIOD_WIDTH">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="_packetsReceivedDuplicate">
<h3>_packetsReceivedDuplicate</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">_packetsReceivedDuplicate</span></div>
<div class="block">how many dup packets were received within the last RETRANSMISSION_PERIOD_WIDTH packets</div>
</section>
</li>
<li>
<section class="detail" id="_inboundMessages">
<h3>_inboundMessages</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="InboundMessageState.html" title="class in net.i2p.router.transport.udp">InboundMessageState</a>&gt;</span>&nbsp;<span class="element-name">_inboundMessages</span></div>
<div class="block">list of InboundMessageState for active message</div>
</section>
</li>
<li>
<section class="detail" id="_transport">
<h3>_transport</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a></span>&nbsp;<span class="element-name">_transport</span></div>
</section>
</li>
<li>
<section class="detail" id="_dead">
<h3>_dead</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_dead</span></div>
<div class="block">have we migrated away from this peer to another newer one?</div>
</section>
</li>
<li>
<section class="detail" id="_isInbound">
<h3>_isInbound</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_isInbound</span></div>
<div class="block">is it inbound?</div>
</section>
</li>
<li>
<section class="detail" id="MIN_MTU">
<h3>MIN_MTU</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MIN_MTU</span></div>
<div class="block">IPv4 Min MTU

 596 gives us 588 IP byes, 568 UDP bytes, and with an SSU data message,
 522 fragment bytes, which is enough to send a tunnel data message in 2
 packets. A tunnel data message sent over the wire is 1044 bytes, meaning
 we need 522 fragment bytes to fit it in 2 packets - add 46 for SSU, 20
 for UDP, and 8 for IP, giving us 596.  round up to mod 16, giving a total
 of 608

 Well, we really need to count the acks as well, especially
 1 + (4 * MAX_RESEND_ACKS_SMALL) which can take up a significant amount of space.
 We reduce the max acks when using the small MTU but it may not be enough...

 Goal: VTBM msg fragments 2646 / (620 - 87) fits nicely.

 Assuming that we can enforce an MTU correctly, this % 16 should be 12,
 as the IP/UDP header is 28 bytes and data max should be mulitple of 16 for padding efficiency,
 and so PacketBuilder.buildPacket() works correctly.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.MIN_MTU">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MIN_IPV6_MTU">
<h3>MIN_IPV6_MTU</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MIN_IPV6_MTU</span></div>
<div class="block">IPv6/UDP header is 48 bytes, so we want MTU % 16 == 0.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.MIN_IPV6_MTU">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_IPV6_MTU">
<h3>MAX_IPV6_MTU</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_IPV6_MTU</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.MAX_IPV6_MTU">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="LARGE_MTU">
<h3>LARGE_MTU</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">LARGE_MTU</span></div>
<div class="block">IPv4 Max MTU

 based on measurements, 1350 fits nearly all reasonably small I2NP messages
 (larger I2NP messages may be up to 1900B-4500B, which isn't going to fit
 into a live network MTU anyway)

 TODO
 VTBM is 2646, it would be nice to fit in two large
 2646 / 2 = 1323
 1323 + 74 + 46 + 1 + (4 * 9) = 1480
 So why not make it 1492 (old ethernet is 1492, new is 1500)
 Changed to 1492 in 0.8.9

 BUT through 0.8.11,
 size estimate was bad, actual packet was up to 48 bytes bigger
 To be figured out. Curse the ACKs.
 Assuming that we can enforce an MTU correctly, this % 16 should be 12,
 as the IP/UDP header is 28 bytes and data max should be mulitple of 16 for padding efficiency,
 and so PacketBuilder.buildPacket() works correctly.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.LARGE_MTU">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="MAX_MTU">
<h3>MAX_MTU</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_MTU</span></div>
<div class="block">Max of IPv4 and IPv6 max MTUs</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.28</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ACK_FREQUENCY">
<h3>ACK_FREQUENCY</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">ACK_FREQUENCY</span></div>
<div class="block">how frequently do we want to send ACKs to a peer?</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.ACK_FREQUENCY">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="CLOCK_SKEW_FUDGE">
<h3>CLOCK_SKEW_FUDGE</h3>
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">CLOCK_SKEW_FUDGE</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.PeerState.CLOCK_SKEW_FUDGE">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport,byte[],int,net.i2p.data.Hash,boolean,int,net.i2p.data.SessionKey,net.i2p.data.SessionKey)">
<h3>PeerState</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PeerState</span><wbr><span class="parameters">(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport,
 byte[]&nbsp;remoteIP,
 int&nbsp;remotePort,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;remotePeer,
 boolean&nbsp;isInbound,
 int&nbsp;rtt,
 <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;cipherKey,
 <a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;macKey)</span></div>
<div class="block">SSU 1 only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rtt</code> - from the EstablishState, or 0 if not available</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(net.i2p.router.RouterContext,net.i2p.router.transport.udp.UDPTransport,java.net.InetSocketAddress,net.i2p.data.Hash,boolean,int)">
<h3>PeerState</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="element-name">PeerState</span><wbr><span class="parameters">(<a href="../../RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
 <a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a>&nbsp;transport,
 <a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetSocketAddress.html" title="class or interface in java.net" class="external-link">InetSocketAddress</a>&nbsp;addr,
 <a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;remotePeer,
 boolean&nbsp;isInbound,
 int&nbsp;rtt)</span></div>
<div class="block">For SSU2</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.54</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getVersion()">
<h3>getVersion</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getVersion</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.54</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="changePort(int)">
<h3>changePort</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">changePort</span><wbr><span class="parameters">(int&nbsp;newPort)</span></div>
<div class="block">Caller should sync; UDPTransport must remove and add to peersByRemoteHost map</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRemotePeer()">
<h3>getRemotePeer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../../data/Hash.html" title="class in net.i2p.data">Hash</a></span>&nbsp;<span class="element-name">getRemotePeer</span>()</div>
<div class="block">The peer are we talking to. Non-null.</div>
</section>
</li>
<li>
<section class="detail" id="getCurrentMACKey()">
<h3>getCurrentMACKey</h3>
<div class="member-signature"><span class="return-type"><a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></span>&nbsp;<span class="element-name">getCurrentMACKey</span>()</div>
<div class="block">The AES key used to verify packets, set only after the connection is
 established.

 SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="getCurrentCipherKey()">
<h3>getCurrentCipherKey</h3>
<div class="member-signature"><span class="return-type"><a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></span>&nbsp;<span class="element-name">getCurrentCipherKey</span>()</div>
<div class="block">The AES key used to encrypt/decrypt packets, set only after the
 connection is established.

 SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="getNextMACKey()">
<h3>getNextMACKey</h3>
<div class="member-signature"><span class="return-type"><a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></span>&nbsp;<span class="element-name">getNextMACKey</span>()</div>
<div class="block">The pending AES key for verifying packets if we are rekeying the
 connection, or null if we are not in the process of rekeying.

 SSU 1 only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null always, rekeying unimplemented</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextCipherKey()">
<h3>getNextCipherKey</h3>
<div class="member-signature"><span class="return-type"><a href="../../../data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></span>&nbsp;<span class="element-name">getNextCipherKey</span>()</div>
<div class="block">The pending AES key for encrypting/decrypting packets if we are
 rekeying the connection, or null if we are not in the process
 of rekeying.

 SSU 1 only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null always, rekeying unimplemented</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getKeyEstablishedTime()">
<h3>getKeyEstablishedTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getKeyEstablishedTime</span>()</div>
<div class="block">When were the current cipher and MAC keys established/rekeyed?
 This is the connection uptime.</div>
</section>
</li>
<li>
<section class="detail" id="getClockSkew()">
<h3>getClockSkew</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getClockSkew</span>()</div>
<div class="block">How far off is the remote peer from our clock, in milliseconds?
  A positive number means our clock is ahead of theirs.</div>
</section>
</li>
<li>
<section class="detail" id="getLastSendTime()">
<h3>getLastSendTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastSendTime</span>()</div>
<div class="block">when did we last send them a packet?</div>
</section>
</li>
<li>
<section class="detail" id="getLastSendFullyTime()">
<h3>getLastSendFullyTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastSendFullyTime</span>()</div>
<div class="block">when did we last send them a message that was ACKed?</div>
</section>
</li>
<li>
<section class="detail" id="getLastReceiveTime()">
<h3>getLastReceiveTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastReceiveTime</span>()</div>
<div class="block">when did we last receive a packet from them?</div>
</section>
</li>
<li>
<section class="detail" id="getConsecutiveFailedSends()">
<h3>getConsecutiveFailedSends</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getConsecutiveFailedSends</span>()</div>
<div class="block">how many seconds have we sent packets without any ACKs received?</div>
</section>
</li>
<li>
<section class="detail" id="getSendWindowBytes()">
<h3>getSendWindowBytes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSendWindowBytes</span>()</div>
<div class="block">how many bytes should we send to the peer in a second
  1st stat in CWND column, otherwise unused,
  candidate for removal</div>
</section>
</li>
<li>
<section class="detail" id="getSendWindowBytesRemaining()">
<h3>getSendWindowBytesRemaining</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSendWindowBytesRemaining</span>()</div>
<div class="block">how many bytes can we send to the peer in the current second</div>
</section>
</li>
<li>
<section class="detail" id="getRemoteIP()">
<h3>getRemoteIP</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getRemoteIP</span>()</div>
<div class="block">what IP is the peer sending and receiving packets on?</div>
</section>
</li>
<li>
<section class="detail" id="getRemoteIPAddress()">
<h3>getRemoteIPAddress</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/net/InetAddress.html" title="class or interface in java.net" class="external-link">InetAddress</a></span>&nbsp;<span class="element-name">getRemoteIPAddress</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>may be null if IP is invalid</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getRemotePort()">
<h3>getRemotePort</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRemotePort</span>()</div>
<div class="block">what port is the peer sending and receiving packets on?</div>
</section>
</li>
<li>
<section class="detail" id="getWeRelayToThemAs()">
<h3>getWeRelayToThemAs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getWeRelayToThemAs</span>()</div>
<div class="block">if we are serving as an introducer to them, this is the the tag that
 they can publish that, when presented to us, will cause us to send
 a relay introduction to the current peer</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>0 (no relay) if unset previously</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTheyRelayToUsAs()">
<h3>getTheyRelayToUsAs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTheyRelayToUsAs</span>()</div>
<div class="block">If they have offered to serve as an introducer to us, this is the tag
 we can use to publish that fact.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>0 (no relay) if unset previously</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMTU()">
<h3>getMTU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMTU</span>()</div>
<div class="block">what is the largest packet we can send to the peer?</div>
</section>
</li>
<li>
<section class="detail" id="getReceiveMTU()">
<h3>getReceiveMTU</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getReceiveMTU</span>()</div>
<div class="block">Estimate how large the other side's MTU is.
  This could be wrong.
  It is used only for the HTML status.</div>
</section>
</li>
<li>
<section class="detail" id="adjustClockSkew(long)">
<h3>adjustClockSkew</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">adjustClockSkew</span><wbr><span class="parameters">(long&nbsp;skew)</span></div>
<div class="block">Update the moving-average clock skew based on the current difference.
  The raw skew will be adjusted for RTT/2 here.
  A positive number means our clock is ahead of theirs.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>skew</code> - milliseconds, NOT adjusted for RTT.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setLastSendTime(long)">
<h3>setLastSendTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setLastSendTime</span><wbr><span class="parameters">(long&nbsp;when)</span></div>
<div class="block">when did we last send them a packet?</div>
</section>
</li>
<li>
<section class="detail" id="setLastReceiveTime(long)">
<h3>setLastReceiveTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setLastReceiveTime</span><wbr><span class="parameters">(long&nbsp;when)</span></div>
<div class="block">when did we last receive a packet from them?</div>
</section>
</li>
<li>
<section class="detail" id="setLastPingTime(long)">
<h3>setLastPingTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setLastPingTime</span><wbr><span class="parameters">(long&nbsp;when)</span></div>
<div class="block">Note ping sent. Does not update last send time.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLastSendOrPingTime()">
<h3>getLastSendOrPingTime</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getLastSendOrPingTime</span>()</div>
<div class="block">Latest of last sent, last ACK, last ping</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSendBps()">
<h3>getSendBps</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSendBps</span>()</div>
<div class="block">The Westwood+ bandwidth estimate</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the smoothed send transfer rate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReceiveBps()">
<h3>getReceiveBps</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getReceiveBps</span>()</div>
<div class="block">An approximation, for display only</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the smoothed receive transfer rate</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="incrementConsecutiveFailedSends()">
<h3>incrementConsecutiveFailedSends</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">incrementConsecutiveFailedSends</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getInactivityTime()">
<h3>getInactivityTime</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getInactivityTime</span>()</div>
</section>
</li>
<li>
<section class="detail" id="setWeRelayToThemAs(long)">
<h3>setWeRelayToThemAs</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setWeRelayToThemAs</span><wbr><span class="parameters">(long&nbsp;tag)</span></div>
<div class="block">if we are serving as an introducer to them, this is the the tag that
 they can publish that, when presented to us, will cause us to send
 a relay introduction to the current peer</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tag</code> - 1 to Integer.MAX_VALUE, or 0 if relaying disabled</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setTheyRelayToUsAs(long)">
<h3>setTheyRelayToUsAs</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setTheyRelayToUsAs</span><wbr><span class="parameters">(long&nbsp;tag)</span></div>
<div class="block">If they have offered to serve as an introducer to us, this is the tag
 we can use to publish that fact.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>tag</code> - 1 to Integer.MAX_VALUE, or 0 if relaying disabled</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSlowStartThreshold()">
<h3>getSlowStartThreshold</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSlowStartThreshold</span>()</div>
<div class="block">stat in SST column, otherwise unused,
  candidate for removal</div>
</section>
</li>
<li>
<section class="detail" id="getConcurrentSends()">
<h3>getConcurrentSends</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getConcurrentSends</span>()</div>
<div class="block">2nd stat in CWND column, otherwise unused,
  candidate for removal</div>
</section>
</li>
<li>
<section class="detail" id="getConcurrentSendWindow()">
<h3>getConcurrentSendWindow</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getConcurrentSendWindow</span>()</div>
<div class="block">3rd stat in CWND column, otherwise unused,
  candidate for removal</div>
</section>
</li>
<li>
<section class="detail" id="getConsecutiveSendRejections()">
<h3>getConsecutiveSendRejections</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getConsecutiveSendRejections</span>()</div>
<div class="block">4th stat in CWND column, otherwise unused,
  candidate for removal</div>
</section>
</li>
<li>
<section class="detail" id="isInbound()">
<h3>isInbound</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isInbound</span>()</div>
</section>
</li>
<li>
<section class="detail" id="isIPv6()">
<h3>isIPv6</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isIPv6</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>IPv6</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getIntroducerTime()">
<h3>getIntroducerTime</h3>
<div class="member-signature"><span class="return-type">long</span>&nbsp;<span class="element-name">getIntroducerTime</span>()</div>
<div class="block">the last time we used them as an introducer, or 0</div>
</section>
</li>
<li>
<section class="detail" id="setIntroducerTime()">
<h3>setIntroducerTime</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setIntroducerTime</span>()</div>
<div class="block">set the last time we used them as an introducer to now</div>
</section>
</li>
<li>
<section class="detail" id="messageFullyReceived(java.lang.Long,int)">
<h3>messageFullyReceived</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">messageFullyReceived</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;messageId,
 int&nbsp;bytes)</span></div>
<div class="block">We received the message specified completely.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bytes</code> - if less than or equal to zero, message is a duplicate.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="messagePartiallyReceived()">
<h3>messagePartiallyReceived</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">messagePartiallyReceived</span>()</div>
<div class="block">We received a partial message, or we want to send some acks.</div>
</section>
</li>
<li>
<section class="detail" id="messagePartiallyReceived(long)">
<h3>messagePartiallyReceived</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">messagePartiallyReceived</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<div class="block">We received a partial message, or we want to send some acks.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.52</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getInboundMessages()">
<h3>getInboundMessages</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Map.html" title="class or interface in java.util" class="external-link">Map</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>,<wbr><a href="InboundMessageState.html" title="class in net.i2p.router.transport.udp">InboundMessageState</a>&gt;</span>&nbsp;<span class="element-name">getInboundMessages</span>()</div>
<div class="block">Fetch the internal id (Long) to InboundMessageState for incomplete inbound messages.
 Access to this map must be synchronized explicitly!</div>
</section>
</li>
<li>
<section class="detail" id="expireInboundMessages()">
<h3>expireInboundMessages</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">expireInboundMessages</span>()</div>
<div class="block">Expire partially received inbound messages, returning how many are still pending.
 This should probably be fired periodically, in case a peer goes silent and we don't
 try to send them any messages (and don't receive any messages from them either)</div>
</section>
</li>
<li>
<section class="detail" id="getCurrentFullACKs()">
<h3>getCurrentFullACKs</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">getCurrentFullACKs</span>()</div>
<div class="block">Grab a list of message ids (Long) that we want to send to the remote
 peer, regardless of the packet size, but don't remove it from our
 "want to send" list.  If the message id is transmitted to the peer,
 removeACKMessage(Long) should be called.

 The returned list contains acks not yet sent only.
 The caller should NOT transmit all of them all the time,
 even if there is room,
 or the packets will have way too much overhead.

 SSU 1 only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a new list, do as you like with it</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCurrentResendACKs()">
<h3>getCurrentResendACKs</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&gt;</span>&nbsp;<span class="element-name">getCurrentResendACKs</span>()</div>
<div class="block">Grab a list of message ids (Long) that we want to send to the remote
 peer, regardless of the packet size, but don't remove it from our
 "want to send" list.

 The returned list contains
 a random assortment of acks already sent.
 The caller should NOT transmit all of them all the time,
 even if there is room,
 or the packets will have way too much overhead.

 SSU 1 only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a new list, do as you like with it</dd>
<dt>Since:</dt>
<dd>0.8.12 was included in getCurrentFullACKs()</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="removeACKMessage(java.lang.Long)">
<h3>removeACKMessage</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">removeACKMessage</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" title="class or interface in java.lang" class="external-link">Long</a>&nbsp;messageId)</span></div>
<div class="block">The ack was sent.
 Side effect - sets _lastACKSend

 SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="fetchPartialACKs(java.util.List)">
<h3>fetchPartialACKs</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">fetchPartialACKs</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a>&gt;&nbsp;rv)</span></div>
<div class="block">SSU 1 only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>rv</code> - out parameter, populated with true partial ACKBitfields.
            no full bitfields are included.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHisMTU(int)">
<h3>setHisMTU</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setHisMTU</span><wbr><span class="parameters">(int&nbsp;mtu)</span></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="messageRetransmitted(int,int)">
<h3>messageRetransmitted</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">messageRetransmitted</span><wbr><span class="parameters">(int&nbsp;packets,
 int&nbsp;maxPktSz)</span></div>
<div class="block">we are resending a packet, so lets jack up the rto</div>
</section>
</li>
<li>
<section class="detail" id="packetsTransmitted(int)">
<h3>packetsTransmitted</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">packetsTransmitted</span><wbr><span class="parameters">(int&nbsp;packets)</span></div>
</section>
</li>
<li>
<section class="detail" id="getRTT()">
<h3>getRTT</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRTT</span>()</div>
<div class="block">how long does it usually take to get a message ACKed?</div>
</section>
</li>
<li>
<section class="detail" id="getRTO()">
<h3>getRTO</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRTO</span>()</div>
<div class="block">how soon should we retransmit an unacked packet?</div>
</section>
</li>
<li>
<section class="detail" id="getRTTDeviation()">
<h3>getRTTDeviation</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getRTTDeviation</span>()</div>
<div class="block">how skewed are the measured RTTs?</div>
</section>
</li>
<li>
<section class="detail" id="getMessagesSent()">
<h3>getMessagesSent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMessagesSent</span>()</div>
<div class="block">I2NP messages sent.
  Does not include duplicates.
  As of 0.9.24, incremented when bandwidth is allocated just before sending, not when acked.</div>
</section>
</li>
<li>
<section class="detail" id="getMessagesReceived()">
<h3>getMessagesReceived</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getMessagesReceived</span>()</div>
<div class="block">I2NP messages received.
  As of 0.9.24, does not include duplicates.</div>
</section>
</li>
<li>
<section class="detail" id="getPacketsTransmitted()">
<h3>getPacketsTransmitted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPacketsTransmitted</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPacketsRetransmitted()">
<h3>getPacketsRetransmitted</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPacketsRetransmitted</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPacketsReceived()">
<h3>getPacketsReceived</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPacketsReceived</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getPacketsReceivedDuplicate()">
<h3>getPacketsReceivedDuplicate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getPacketsReceivedDuplicate</span>()</div>
</section>
</li>
<li>
<section class="detail" id="packetReceived(int)">
<h3>packetReceived</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">packetReceived</span><wbr><span class="parameters">(int&nbsp;size)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>size</code> - not including IP header, UDP header, MAC or IV</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="ECNReceived()">
<h3>ECNReceived</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">ECNReceived</span>()</div>
<div class="block">We received a backoff request, so cut our send window.
  NOTE: ECN sending is unimplemented, this is never called.</div>
</section>
</li>
<li>
<section class="detail" id="dataReceived()">
<h3>dataReceived</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">dataReceived</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getLastACKSend()">
<h3>getLastACKSend</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLastACKSend</span>()</div>
<div class="block">when did we last send an ACK to the peer?</div>
</section>
</li>
<li>
<section class="detail" id="clearWantedACKSendSince()">
<h3>clearWantedACKSendSince</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">clearWantedACKSendSince</span>()</div>
<div class="block">All acks have been sent.

  SSU 1 only.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.52</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="unsentACKThresholdReached()">
<h3>unsentACKThresholdReached</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">unsentACKThresholdReached</span>()</div>
<div class="block">Are we out of room to send all the current unsent acks in a single packet?
  This is a huge threshold (134 for small MTU and 255 for large MTU)
  that is rarely if ever exceeded in practice.
  So just use a fixed threshold of half the resend acks, so that if the
  packet is lost the acks have a decent chance of getting retransmitted.
  Used only by ACKSender.

  SSU 1 only.</div>
</section>
</li>
<li>
<section class="detail" id="getRemoteHostId()">
<h3>getRemoteHostId</h3>
<div class="member-signature"><span class="return-type"><a href="RemoteHostId.html" title="class in net.i2p.router.transport.udp">RemoteHostId</a></span>&nbsp;<span class="element-name">getRemoteHostId</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>non-null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="add(net.i2p.router.transport.udp.OutboundMessageState)">
<h3>add</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">add</span><wbr><span class="parameters">(<a href="OutboundMessageState.html" title="class in net.i2p.router.transport.udp">OutboundMessageState</a>&nbsp;state)</span></div>
<div class="block">TODO should this use a queue, separate from the list of msgs pending an ack?
  TODO bring back tail drop?
  TODO priority queue? (we don't implement priorities in SSU now)
  TODO backlog / pushback / block instead of dropping? Can't really block here.
  TODO SSU does not support isBacklogged() now</div>
</section>
</li>
<li>
<section class="detail" id="dropOutbound()">
<h3>dropOutbound</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">dropOutbound</span>()</div>
<div class="block">drop all outbound messages</div>
</section>
</li>
<li>
<section class="detail" id="getOutboundMessageCount()">
<h3>getOutboundMessageCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getOutboundMessageCount</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of active outbound messages remaining (unsynchronized)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMayDisconnect()">
<h3>setMayDisconnect</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMayDisconnect</span>()</div>
<div class="block">Sets to true.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.24</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getMayDisconnect()">
<h3>getMayDisconnect</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getMayDisconnect</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.24</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="finishMessages(long)">
<h3>finishMessages</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">finishMessages</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<div class="block">Expire / complete any outbound messages
 High usage -
 OutboundMessageFragments.getNextVolley() calls this 1st.
 TODO combine finishMessages(), allocateSend(), and getNextDelay() so we don't iterate 3 times.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>number of active outbound messages remaining</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="allocateSend(long)">
<h3>allocateSend</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="OutboundMessageState.html" title="class in net.i2p.router.transport.udp">OutboundMessageState</a>&gt;</span>&nbsp;<span class="element-name">allocateSend</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<div class="block">Pick one or more messages we want to send and allocate them out of our window
 Adjusts the retransmit timer if necessary.
 High usage -
 OutboundMessageFragments.getNextVolley() calls this 2nd, if finishMessages() returned &gt; 0.
 TODO combine finishMessages() and allocateSend() so we don't iterate 2 times.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>allocated messages to send (never empty), or null if no messages or no resources</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getNextDelay(long)">
<h3>getNextDelay</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">getNextDelay</span><wbr><span class="parameters">(long&nbsp;now)</span></div>
<div class="block">High usage -
 OutboundMessageFragments.getNextVolley() calls this 3rd, if allocateSend() returned null.
 TODO combine finishMessages(), allocateSend() so we don't iterate 2 times.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>now</code> - what time it is now</dd>
<dt>Returns:</dt>
<dd>how long to wait before sending, or Integer.MAX_VALUE if we have nothing to send.
         If ready now, will return 0.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isBacklogged()">
<h3>isBacklogged</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isBacklogged</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fragmentSize()">
<h3>fragmentSize</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">fragmentSize</span>()</div>
<div class="block">how much payload data can we shove in there?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>MTU - 87, i.e. 533 or 1397 (IPv4), MTU - 107 (IPv6)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fragmentOverhead()">
<h3>fragmentOverhead</h3>
<div class="member-signature"><span class="return-type">int</span>&nbsp;<span class="element-name">fragmentOverhead</span>()</div>
<div class="block">Packet overhead plus room for acks</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>87 (IPv4), 107 (IPv6)</dd>
<dt>Since:</dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acked(long,net.i2p.router.transport.udp.InboundMessageFragments.ModifiableLong)">
<h3>acked</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">acked</span><wbr><span class="parameters">(long&nbsp;messageId,
 <a href="InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp">InboundMessageFragments.ModifiableLong</a>&nbsp;highestSeqNumAcked)</span></div>
<div class="block">A full ACK was received.
  TODO if messages awaiting ack were a HashMap&lt;Long, OutboundMessageState&gt; this would be faster.

  SSU 1 only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>highestSeqNumAcked</code> - in/out param, will modify if this seq. number is higher</dd>
<dt>Returns:</dt>
<dd>true if the message was acked for the first time</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acked(net.i2p.router.transport.udp.ACKBitfield,net.i2p.router.transport.udp.InboundMessageFragments.ModifiableLong)">
<h3>acked</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">acked</span><wbr><span class="parameters">(<a href="ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a>&nbsp;bitfield,
 <a href="InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp">InboundMessageFragments.ModifiableLong</a>&nbsp;highestSeqNumAcked)</span></div>
<div class="block">A partial ACK was received. This is much less common than full ACKs.

  SSU 1 only.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>highestSeqNumAcked</code> - in/out param, will modify if this seq. number is higher</dd>
<dt>Returns:</dt>
<dd>true if any fragment of the message was completely acked for the first time</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="acked(net.i2p.router.transport.udp.PacketBuilder.Fragment)">
<h3>acked</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">acked</span><wbr><span class="parameters">(<a href="PacketBuilder.Fragment.html" title="class in net.i2p.router.transport.udp">PacketBuilder.Fragment</a>&nbsp;f)</span></div>
<div class="block">An ACK of a fragment was received.

  SSU 2 only.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true if this fragment of the message was acked for the first time</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="highestSeqNumAcked(long)">
<h3>highestSeqNumAcked</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">highestSeqNumAcked</span><wbr><span class="parameters">(long&nbsp;highest)</span></div>
<div class="block">Enter or leave fast retransmit mode, and adjust
  SST and window variables accordingly.
  See RFC 5681 sec. 2.4</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>highest</code> - the highest sequence number that was acked</dd>
<dt>Returns:</dt>
<dd>true if we have something to fast-retransmit</dd>
<dt>Since:</dt>
<dd>0.9.49</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="shouldRequestImmediateAck()">
<h3>shouldRequestImmediateAck</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">shouldRequestImmediateAck</span>()</div>
<div class="block">SSU 2 only</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.56</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadFrom(net.i2p.router.transport.udp.PeerState)">
<h3>loadFrom</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">loadFrom</span><wbr><span class="parameters">(<a href="PeerState.html" title="class in net.i2p.router.transport.udp">PeerState</a>&nbsp;oldPeer)</span></div>
<div class="block">Transfer the basic activity/state from the old peer to the current peer

  SSU 1 or 2.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>oldPeer</code> - non-null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransport()">
<h3>getTransport</h3>
<div class="member-signature"><span class="return-type"><a href="UDPTransport.html" title="class in net.i2p.router.transport.udp">UDPTransport</a></span>&nbsp;<span class="element-name">getTransport</span>()</div>
<div class="block">Convenience for OutboundMessageState so it can fail itself</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.3</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
