<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>InboundMessageState (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="InboundMessageState (I2P Anonymous Network - Java Documentation - API Version 0.9.56)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InboundMessageState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/i2p/router/transport/udp/InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/i2p/router/transport/udp/IntroductionManager.html" title="class in net.i2p.router.transport.udp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/i2p/router/transport/udp/InboundMessageState.html" target="_top">Frames</a></li>
<li><a href="InboundMessageState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.router.transport.udp</div>
<h2 title="Class InboundMessageState" class="title">Class InboundMessageState</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.router.transport.udp.InboundMessageState</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../net/i2p/router/util/CDQEntry.html" title="interface in net.i2p.router.util">CDQEntry</a></dd>
</dl>
<hr>
<br>
<pre>class <span class="typeNameLabel">InboundMessageState</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../net/i2p/router/util/CDQEntry.html" title="interface in net.i2p.router.util">CDQEntry</a></pre>
<div class="block">Hold the raw data fragments of an inbound message.

 Warning - there is no synchronization in this class, take care in
 InboundMessageFragments to avoid use-after-release, etc.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#MAX_FRAGMENTS">MAX_FRAGMENTS</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#MAX_PARTIAL_BITFIELD_BYTES">MAX_PARTIAL_BITFIELD_BYTES</a></span></code>
<div class="block">10</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-">InboundMessageState</a></span>(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                   long&nbsp;messageId,
                   <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from)</code>
<div class="block">Only for Poison right now.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-byte:A-int-int-int-boolean-">InboundMessageState</a></span>(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                   long&nbsp;messageId,
                   <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from,
                   byte[]&nbsp;data,
                   int&nbsp;off,
                   int&nbsp;len,
                   int&nbsp;fragmentNum,
                   boolean&nbsp;isLast)</code>
<div class="block">Create a new IMS and read in the data from the fragment.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-net.i2p.router.transport.udp.UDPPacketReader.DataReader-int-">InboundMessageState</a></span>(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                   long&nbsp;messageId,
                   <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from,
                   <a href="../../../../../net/i2p/router/transport/udp/UDPPacketReader.DataReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader.DataReader</a>&nbsp;data,
                   int&nbsp;dataFragment)</code>
<div class="block">Create a new IMS and read in the data from the fragment.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/i2p/router/transport/udp/ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#createACKBitfield--">createACKBitfield</a></span>()</code>
<div class="block">Only call this if not complete.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#drop--">drop</a></span>()</code>
<div class="block">For CDQ</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getCompleteSize--">getCompleteSize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getEnqueueTime--">getEnqueueTime</a></span>()</code>
<div class="block">For CDQ</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getFragmentCount--">getFragmentCount</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getFragments--">getFragments</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getFrom--">getFrom</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getLifetime--">getLifetime</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#getMessageId--">getMessageId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#hasFragment-int-">hasFragment</a></span>(int&nbsp;fragmentNum)</code>
<div class="block">Do we have this fragment?

 SSU 2 only.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#isComplete--">isComplete</a></span>()</code>
<div class="block">May not be valid after released.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#isExpired--">isExpired</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#receiveFragment-byte:A-int-int-int-boolean-">receiveFragment</a></span>(byte[]&nbsp;data,
               int&nbsp;off,
               int&nbsp;len,
               int&nbsp;fragmentNum,
               boolean&nbsp;isLast)</code>
<div class="block">Read in the data from the fragment.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#receiveFragment-net.i2p.router.transport.udp.UDPPacketReader.DataReader-int-">receiveFragment</a></span>(<a href="../../../../../net/i2p/router/transport/udp/UDPPacketReader.DataReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader.DataReader</a>&nbsp;data,
               int&nbsp;dataFragment)</code>
<div class="block">Read in the data from the fragment.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#releaseResources--">releaseResources</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#setEnqueueTime-long-">setEnqueueTime</a></span>(long&nbsp;now)</code>
<div class="block">For CDQ</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../net/i2p/router/transport/udp/InboundMessageState.html#toString--">toString</a></span>()</code>
<div class="block">May not be valid if released, or may NPE on race with release, use with care in exception text</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="MAX_FRAGMENTS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_FRAGMENTS</h4>
<pre>public static final&nbsp;int MAX_FRAGMENTS</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.InboundMessageState.MAX_FRAGMENTS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MAX_PARTIAL_BITFIELD_BYTES">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_PARTIAL_BITFIELD_BYTES</h4>
<pre>public static final&nbsp;int MAX_PARTIAL_BITFIELD_BYTES</pre>
<div class="block">10</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#net.i2p.router.transport.udp.InboundMessageState.MAX_PARTIAL_BITFIELD_BYTES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InboundMessageState</h4>
<pre>public&nbsp;InboundMessageState(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                           long&nbsp;messageId,
                           <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from)</pre>
<div class="block">Only for Poison right now.</div>
</li>
</ul>
<a name="InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-net.i2p.router.transport.udp.UDPPacketReader.DataReader-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InboundMessageState</h4>
<pre>public&nbsp;InboundMessageState(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                           long&nbsp;messageId,
                           <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from,
                           <a href="../../../../../net/i2p/router/transport/udp/UDPPacketReader.DataReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader.DataReader</a>&nbsp;data,
                           int&nbsp;dataFragment)
                    throws <a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></pre>
<div class="block">Create a new IMS and read in the data from the fragment.
 Do NOT call receiveFragment for the same fragment afterwards.
 This is more efficient if the fragment is the last (and probably only) fragment.
 The main savings is not allocating ByteArray[64].

 SSU 1 only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataFragment</code> - the fragment index in the DataReader, NOT the fragment number</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the fragment was corrupt</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.9</dd>
</dl>
</li>
</ul>
<a name="InboundMessageState-net.i2p.router.RouterContext-long-net.i2p.data.Hash-byte:A-int-int-int-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>InboundMessageState</h4>
<pre>public&nbsp;InboundMessageState(<a href="../../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                           long&nbsp;messageId,
                           <a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;from,
                           byte[]&nbsp;data,
                           int&nbsp;off,
                           int&nbsp;len,
                           int&nbsp;fragmentNum,
                           boolean&nbsp;isLast)
                    throws <a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></pre>
<div class="block">Create a new IMS and read in the data from the fragment.
 Do NOT call receiveFragment for the same fragment afterwards.
 This is more efficient if the fragment is the last (and probably only) fragment.
 The main savings is not allocating ByteArray[64].

 SSU 2 only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fragmentNum</code> - the fragment number</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the fragment was corrupt</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.54</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="receiveFragment-net.i2p.router.transport.udp.UDPPacketReader.DataReader-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveFragment</h4>
<pre>public&nbsp;boolean&nbsp;receiveFragment(<a href="../../../../../net/i2p/router/transport/udp/UDPPacketReader.DataReader.html" title="class in net.i2p.router.transport.udp">UDPPacketReader.DataReader</a>&nbsp;data,
                               int&nbsp;dataFragment)
                        throws <a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></pre>
<div class="block">Read in the data from the fragment.
 Caller should synchronize.

 SSU 1 only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dataFragment</code> - the fragment index in the DataReader, NOT the fragment number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the data was ok, false if it was corrupt</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
</dl>
</li>
</ul>
<a name="receiveFragment-byte:A-int-int-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>receiveFragment</h4>
<pre>public&nbsp;boolean&nbsp;receiveFragment(byte[]&nbsp;data,
                               int&nbsp;off,
                               int&nbsp;len,
                               int&nbsp;fragmentNum,
                               boolean&nbsp;isLast)
                        throws <a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></pre>
<div class="block">Read in the data from the fragment.
 Caller should synchronize.

 SSU 2 only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fragmentNum</code> - the fragment number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the data was ok, false if it was corrupt</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.54</dd>
</dl>
</li>
</ul>
<a name="hasFragment-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasFragment</h4>
<pre>public&nbsp;boolean&nbsp;hasFragment(int&nbsp;fragmentNum)</pre>
<div class="block">Do we have this fragment?

 SSU 2 only.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fragmentNum</code> - the fragment number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if we have the fragment</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.54</dd>
</dl>
</li>
</ul>
<a name="isComplete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isComplete</h4>
<pre>public&nbsp;boolean&nbsp;isComplete()</pre>
<div class="block">May not be valid after released.
  Probably doesn't need to be synced by caller, given the order of
  events in receiveFragment() above, but you might want to anyway
  to be safe.</div>
</li>
</ul>
<a name="isExpired--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public&nbsp;boolean&nbsp;isExpired()</pre>
</li>
</ul>
<a name="getLifetime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLifetime</h4>
<pre>public&nbsp;long&nbsp;getLifetime()</pre>
</li>
</ul>
<a name="setEnqueueTime-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnqueueTime</h4>
<pre>public&nbsp;void&nbsp;setEnqueueTime(long&nbsp;now)</pre>
<div class="block">For CDQ</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../net/i2p/router/util/CDQEntry.html#setEnqueueTime-long-">setEnqueueTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../net/i2p/router/util/CDQEntry.html" title="interface in net.i2p.router.util">CDQEntry</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.3</dd>
</dl>
</li>
</ul>
<a name="getEnqueueTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnqueueTime</h4>
<pre>public&nbsp;long&nbsp;getEnqueueTime()</pre>
<div class="block">For CDQ</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../net/i2p/router/util/CDQEntry.html#getEnqueueTime--">getEnqueueTime</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../net/i2p/router/util/CDQEntry.html" title="interface in net.i2p.router.util">CDQEntry</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.3</dd>
</dl>
</li>
</ul>
<a name="drop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drop</h4>
<pre>public&nbsp;void&nbsp;drop()</pre>
<div class="block">For CDQ</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../net/i2p/router/util/CDQEntry.html#drop--">drop</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../net/i2p/router/util/CDQEntry.html" title="interface in net.i2p.router.util">CDQEntry</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.3</dd>
</dl>
</li>
</ul>
<a name="getFrom--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFrom</h4>
<pre>public&nbsp;<a href="../../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;getFrom()</pre>
</li>
</ul>
<a name="getMessageId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageId</h4>
<pre>public&nbsp;long&nbsp;getMessageId()</pre>
</li>
</ul>
<a name="getCompleteSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCompleteSize</h4>
<pre>public&nbsp;int&nbsp;getCompleteSize()</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if released or not isComplete()</dd>
</dl>
</li>
</ul>
<a name="createACKBitfield--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createACKBitfield</h4>
<pre>public&nbsp;<a href="../../../../../net/i2p/router/transport/udp/ACKBitfield.html" title="interface in net.i2p.router.transport.udp">ACKBitfield</a>&nbsp;createACKBitfield()</pre>
<div class="block">Only call this if not complete.
  TODO remove this, have InboundMessageState implement ACKBitfield.
  FIXME synch here or PeerState.fetchPartialACKs()</div>
</li>
</ul>
<a name="releaseResources--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseResources</h4>
<pre>public&nbsp;void&nbsp;releaseResources()</pre>
</li>
</ul>
<a name="getFragments--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFragments</h4>
<pre>public&nbsp;<a href="../../../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>[]&nbsp;getFragments()</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if released</dd>
</dl>
</li>
</ul>
<a name="getFragmentCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFragmentCount</h4>
<pre>public&nbsp;int&nbsp;getFragmentCount()</pre>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<div class="block">May not be valid if released, or may NPE on race with release, use with care in exception text</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/InboundMessageState.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../net/i2p/router/transport/udp/InboundMessageFragments.ModifiableLong.html" title="class in net.i2p.router.transport.udp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../net/i2p/router/transport/udp/IntroductionManager.html" title="class in net.i2p.router.transport.udp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?net/i2p/router/transport/udp/InboundMessageState.html" target="_top">Frames</a></li>
<li><a href="InboundMessageState.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
