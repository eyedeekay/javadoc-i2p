<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ByteCache (I2P Anonymous Network - Java Documentation - Version 1.6.1)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ByteCache (I2P Anonymous Network - Java Documentation - Version 1.6.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ByteCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/i2p/util/ByteArrayStream.html" title="class in net.i2p.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/i2p/util/Clock.html" title="class in net.i2p.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/i2p/util/ByteCache.html" target="_top">Frames</a></li>
<li><a href="ByteCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.net.i2p.util.TryCache">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.net.i2p.util.TryCache">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.util</div>
<h2 title="Class ByteCache" class="title">Class ByteCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">net.i2p.util.TryCache</a>&lt;<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&gt;</li>
<li>
<ul class="inheritance">
<li>net.i2p.util.ByteCache</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">ByteCache</span>
extends <a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">TryCache</a>&lt;<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&gt;</pre>
<div class="block">Cache the objects frequently used to reduce memory churn.  The ByteArray 
 should be held onto as long as the  data referenced in it is needed.

 For small arrays where the management of valid bytes in ByteArray
 and prezeroing isn't required, use SimpleByteArray instead.

 Heap size control - survey of usage:

  <pre>
        Size    Max     MaxMem  From

        1K      32      32K     tunnel TrivialPreprocessor
changed to 512 since we disabled resize()
        1K      512     512K    tunnel FragmentHandler
        1K      512     512K    I2NP TunnelDataMessage
        1K      512     512K    tunnel FragmentedMessage

        1572    64      100K    UDP InboundMessageState

        1730    128     216K    streaming MessageOutputStream

        4K      32      128K    I2PTunnelRunner

        8K      8       64K     I2PTunnel HTTPResponseOutputStream

        16K     16      256K    I2PSnark

        32K     4       128K    SAM StreamSession
        32K     10      320K    SAM v2StreamSession
        32K     64      2M      UDP OMS
        32K     128     4M      streaming MessageInputStream

        36K     64      2.25M   streaming PacketQueue

        40K     8       320K    DataHelper decompress

        64K     64      4M      UDP MessageReceiver - disabled in 0.7.14
  </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.net.i2p.util.TryCache">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;net.i2p.util.<a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">TryCache</a></h3>
<code><a href="../../../net/i2p/util/TryCache.ObjectFactory.html" title="interface in net.i2p.util">TryCache.ObjectFactory</a>&lt;<a href="../../../net/i2p/util/TryCache.ObjectFactory.html" title="type parameter in TryCache.ObjectFactory">T</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.i2p.util.TryCache">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.i2p.util.<a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">TryCache</a></h3>
<code><a href="../../../net/i2p/util/TryCache.html#Z:Z_lastUnderflow">_lastUnderflow</a>, <a href="../../../net/i2p/util/TryCache.html#capacity">capacity</a>, <a href="../../../net/i2p/util/TryCache.html#items">items</a>, <a href="../../../net/i2p/util/TryCache.html#lock">lock</a></code></li>
</ul>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/util/ByteCache.html#clearAll--">clearAll</a></span>()</code>
<div class="block">Clear everything (memory pressure)</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="../../../net/i2p/util/ByteCache.html" title="class in net.i2p.util">ByteCache</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/util/ByteCache.html#getInstance-int-int-">getInstance</a></span>(int&nbsp;cacheSize,
           int&nbsp;size)</code>
<div class="block">Get a cache responsible for objects of the given size.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/util/ByteCache.html#release-net.i2p.data.ByteArray-">release</a></span>(<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&nbsp;entry)</code>
<div class="block">Put this structure back onto the available cache for reuse</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/util/ByteCache.html#release-net.i2p.data.ByteArray-boolean-">release</a></span>(<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&nbsp;entry,
       boolean&nbsp;shouldZero)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.i2p.util.TryCache">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.i2p.util.<a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">TryCache</a></h3>
<code><a href="../../../net/i2p/util/TryCache.html#acquire--">acquire</a>, <a href="../../../net/i2p/util/TryCache.html#clear--">clear</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../net/i2p/util/ByteCache.html" title="class in net.i2p.util">ByteCache</a>&nbsp;getInstance(int&nbsp;cacheSize,
                                    int&nbsp;size)</pre>
<div class="block">Get a cache responsible for objects of the given size.
 Warning, if you store the result in a static field, the cleaners will
 not operate after a restart on Android, as the old context's SimpleTimer2 will have shut down.
 TODO tie this to the context or clean up all calls.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cacheSize</code> - how large we want the cache to grow 
                  (number of objects, NOT memory size)
                  before discarding released objects.
                  Since 0.7.14, a limit of 1MB / size is enforced
                  for the typical 128MB max memory JVM</dd>
<dd><code>size</code> - how large should the objects cached be?</dd>
</dl>
</li>
</ul>
<a name="clearAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearAll</h4>
<pre>public static&nbsp;void&nbsp;clearAll()</pre>
<div class="block">Clear everything (memory pressure)</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7.14</dd>
</dl>
</li>
</ul>
<a name="release-net.i2p.data.ByteArray-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public final&nbsp;void&nbsp;release(<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&nbsp;entry)</pre>
<div class="block">Put this structure back onto the available cache for reuse</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../net/i2p/util/TryCache.html#release-T-">release</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/util/TryCache.html" title="class in net.i2p.util">TryCache</a>&lt;<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a name="release-net.i2p.data.ByteArray-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>release</h4>
<pre>public final&nbsp;void&nbsp;release(<a href="../../../net/i2p/data/ByteArray.html" title="class in net.i2p.data">ByteArray</a>&nbsp;entry,
                          boolean&nbsp;shouldZero)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ByteCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/i2p/util/ByteArrayStream.html" title="class in net.i2p.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/i2p/util/Clock.html" title="class in net.i2p.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/i2p/util/ByteCache.html" target="_top">Frames</a></li>
<li><a href="ByteCache.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.net.i2p.util.TryCache">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.net.i2p.util.TryCache">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
