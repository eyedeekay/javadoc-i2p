<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (19) -->
<title>PrivateKeyFile (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.data, class: PrivateKeyFile">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PrivateKeyFile.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.i2p.data</a></div>
<h1 title="Class PrivateKeyFile" class="title">Class PrivateKeyFile</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">net.i2p.data.PrivateKeyFile</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="router/RouterPrivateKeyFile.html" title="class in net.i2p.data.router">RouterPrivateKeyFile</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PrivateKeyFile</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This helper class reads and writes files in the
 same "eepPriv.dat" format used by the client code.
 The format is:
<pre>
  - Destination (387 bytes if no certificate, otherwise longer)
     - Public key (256 bytes), random data as of 0.9.57 (except for RouterPrivateKeyFile)
     - Signing Public key (128 bytes)
     - Cert. type (1 byte)
     - Cert. length (2 bytes)
     - Certificate if length != 0
  - Private key (256 bytes for ElGamal, or length specified by key certificate)
     -          All zeros as of 0.9.57 (except for RouterPrivateKeyFile)
  - Signing Private key (20 bytes, or length specified by key certificate)
  - As of 0.9.38, if the Signing Private Key is all zeros,
    the offline signature section (see proposal 123):
     - Expires timestamp (4 bytes, seconds since epoch, rolls over in 2106)
     - Sig type of transient public key (2 bytes)
     - Transient Signing Public key (length as specified by transient sig type)
     - Signature of Signed Public key by offline key (length as specified by destination sig type)
     - Transient Signing Private key (length as specified by transient sig type)

 Total: 663 or more bytes for ElGamal, may be smaller for other enc. types
</pre>

 Destination encryption keys have been unused since 0.6 (2005).
 As of 0.9.57, new Destination encryption public keys are simply random data,
 and encryption private keys may be random data or all zeros.

 This class is extended by net.i2p.data.router.RouterPrivateKeyFile.
 RouterIdentity encryption keys ARE used and must be valid.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>welterde, zzz</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected <a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second even-row-color"><code><a href="#dest" class="member-name-link">dest</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></code></div>
<div class="col-second odd-row-color"><code><a href="#file" class="member-name-link">file</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a></code></div>
<div class="col-second even-row-color"><code><a href="#privKey" class="member-name-link">privKey</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></code></div>
<div class="col-second odd-row-color"><code><a href="#signingPrivKey" class="member-name-link">signingPrivKey</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.File)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.io.File,net.i2p.client.I2PClient)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="../client/I2PClient.html" title="interface in net.i2p.client">I2PClient</a>&nbsp;client)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.File,net.i2p.client.I2PSession)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a>&nbsp;session)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.io.File,net.i2p.data.Destination,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.File,net.i2p.data.PublicKey,net.i2p.data.SigningPublicKey,net.i2p.data.Certificate,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;pubkey,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spubkey,
 <a href="Certificate.html" title="class in net.i2p.data">Certificate</a>&nbsp;cert,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk)</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.io.File,net.i2p.data.PublicKey,net.i2p.data.SigningPublicKey,net.i2p.data.Certificate,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey,byte%5B%5D)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;pubkey,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spubkey,
 <a href="Certificate.html" title="class in net.i2p.data">Certificate</a>&nbsp;cert,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk,
 byte[]&nbsp;padding)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.InputStream)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</code></div>
<div class="col-last even-row-color">
<div class="block">Can't be used for writing</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(java.lang.String)" class="member-name-link">PrivateKeyFile</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file)</code></div>
<div class="col-last odd-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#checkSignature(net.i2p.data.Signature,byte%5B%5D,net.i2p.data.SigningPublicKey)" class="member-name-link">checkSignature</a><wbr>(<a href="Signature.html" title="class in net.i2p.data">Signature</a>&nbsp;s,
 byte[]&nbsp;data,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spk)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createIfAbsent()" class="member-name-link">createIfAbsent</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create with the default signature type if nonexistent.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#createIfAbsent(net.i2p.crypto.SigType)" class="member-name-link">createIfAbsent</a><wbr>(<a href="../crypto/SigType.html" title="enum in net.i2p.crypto">SigType</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Create with the specified signature type if nonexistent.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#estimateHashCashTime(int)" class="member-name-link">estimateHashCashTime</a><wbr>(int&nbsp;hashEffort)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDestination()" class="member-name-link">getDestination</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If the destination is not set, read it in from the file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOfflineExpiration()" class="member-name-link">getOfflineExpiration</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Signature.html" title="class in net.i2p.data">Signature</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOfflineSignature()" class="member-name-link">getOfflineSignature</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPrivKey()" class="member-name-link">getPrivKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Private key may be random data or all zeros for Destinations as of 0.9.57</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSigningPrivKey()" class="member-name-link">getSigningPrivKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransientSigningPrivKey()" class="member-name-link">getTransientSigningPrivKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTransientSigningPubKey()" class="member-name-link">getTransientSigningPubKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isOffline()" class="member-name-link">isOffline</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Does this session have offline and transient keys?</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#main(java.lang.String%5B%5D)" class="member-name-link">main</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Create a new PrivateKeyFile, or modify an existing one, with various
  types of Certificates.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#open()" class="member-name-link">open</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#open(java.util.Properties)" class="member-name-link">open</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;opts)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setCertType(int)" class="member-name-link">setCertType</a><wbr>(int&nbsp;t)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change cert type - caller must also call write().</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDestination(net.i2p.data.Destination)" class="member-name-link">setDestination</a><wbr>(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;d)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setHashCashCert(int)" class="member-name-link">setHashCashCert</a><wbr>(int&nbsp;effort)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">change to hashcash cert - caller must also call write()</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setKeyCert(net.i2p.crypto.SigType)" class="member-name-link">setKeyCert</a><wbr>(<a href="../crypto/SigType.html" title="enum in net.i2p.crypto">SigType</a>&nbsp;type)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Change cert type - caller must also call write().</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setOfflineData(long,net.i2p.data.SigningPublicKey,net.i2p.data.Signature,net.i2p.data.SigningPrivateKey)" class="member-name-link">setOfflineData</a><wbr>(long&nbsp;expires,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;transientPub,
 <a href="Signature.html" title="class in net.i2p.data">Signature</a>&nbsp;sig,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;transientPriv)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Side effect - zeroes out the current signing private key</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSignedCert(net.i2p.data.PrivateKeyFile)" class="member-name-link">setSignedCert</a><wbr>(<a href="PrivateKeyFile.html" title="class in net.i2p.data">PrivateKeyFile</a>&nbsp;pkf2)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">sign this dest by dest found in pkf2 - caller must also call write()</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#validateKeyPairs()" class="member-name-link">validateKeyPairs</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Verify that the PublicKey matches the PrivateKey, and
  the SigningPublicKey matches the SigningPrivateKey.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#verifySignature(net.i2p.data.Destination)" class="member-name-link">verifySignature</a><wbr>(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;d)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Sample code to verify a 3rd party signature.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#write()" class="member-name-link">write</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Copied from I2PClientImpl.createDestination()</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="file">
<h3>file</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a></span>&nbsp;<span class="element-name">file</span></div>
</section>
</li>
<li>
<section class="detail" id="dest">
<h3>dest</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">dest</span></div>
</section>
</li>
<li>
<section class="detail" id="privKey">
<h3>privKey</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a></span>&nbsp;<span class="element-name">privKey</span></div>
</section>
</li>
<li>
<section class="detail" id="signingPrivKey">
<h3>signingPrivKey</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></span>&nbsp;<span class="element-name">signingPrivKey</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.lang.String)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;file)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File,net.i2p.client.I2PClient)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="../client/I2PClient.html" title="interface in net.i2p.client">I2PClient</a>&nbsp;client)</span></div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File,net.i2p.client.I2PSession)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a>&nbsp;session)</span></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.8.9</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File,net.i2p.data.Destination,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk)</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - on mismatch of spubkey and spk types</dd>
<dt>Since:</dt>
<dd>0.8.9</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File,net.i2p.data.PublicKey,net.i2p.data.SigningPublicKey,net.i2p.data.Certificate,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;pubkey,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spubkey,
 <a href="Certificate.html" title="class in net.i2p.data">Certificate</a>&nbsp;cert,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk)</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - on mismatch of spubkey and spk types</dd>
<dt>Since:</dt>
<dd>0.8.9</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.File,net.i2p.data.PublicKey,net.i2p.data.SigningPublicKey,net.i2p.data.Certificate,net.i2p.data.PrivateKey,net.i2p.data.SigningPrivateKey,byte[])">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;file,
 <a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;pubkey,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spubkey,
 <a href="Certificate.html" title="class in net.i2p.data">Certificate</a>&nbsp;cert,
 <a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;pk,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;spk,
 byte[]&nbsp;padding)</span></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>padding</code> - null OK, must be non-null if spubkey length &lt; 128</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - on mismatch of spubkey and spk types</dd>
<dt>Since:</dt>
<dd>0.9.16</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(java.io.InputStream)">
<h3>PrivateKeyFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">PrivateKeyFile</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</span>
               throws <span class="exceptions"><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a></span></div>
<div class="block">Can't be used for writing</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a></code></dd>
<dt>Since:</dt>
<dd>0.9.26</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="main(java.lang.String[])">
<h3>main</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">main</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;args)</span></div>
<div class="block">Create a new PrivateKeyFile, or modify an existing one, with various
  types of Certificates.
  
  Changing a Certificate does not change the public or private keys.
  But it does change the Destination Hash, which effectively makes it
  a new Destination. In other words, don't change the Certificate on
  a Destination you've already registered in a hosts.txt key add form.
  
  Copied and expanded from that in Destination.java</div>
</section>
</li>
<li>
<section class="detail" id="createIfAbsent()">
<h3>createIfAbsent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">createIfAbsent</span>()
                           throws <span class="exceptions"><a href="../I2PException.html" title="class in net.i2p">I2PException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></span></div>
<div class="block">Create with the default signature type if nonexistent.

  Also reads in the file to get the privKey and signingPrivKey, 
  which aren't available from I2PClient.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../I2PException.html" title="class in net.i2p">I2PException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="createIfAbsent(net.i2p.crypto.SigType)">
<h3>createIfAbsent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">createIfAbsent</span><wbr><span class="parameters">(<a href="../crypto/SigType.html" title="enum in net.i2p.crypto">SigType</a>&nbsp;type)</span>
                           throws <span class="exceptions"><a href="../I2PException.html" title="class in net.i2p">I2PException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></span></div>
<div class="block">Create with the specified signature type if nonexistent.

  Also reads in the file to get the privKey and signingPrivKey, 
  which aren't available from I2PClient.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../I2PException.html" title="class in net.i2p">I2PException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
<dt>Since:</dt>
<dd>0.9.26</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDestination()">
<h3>getDestination</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">getDestination</span>()
                           throws <span class="exceptions"><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></span></div>
<div class="block">If the destination is not set, read it in from the file.
  Also sets the local privKey and signingPrivKey.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDestination(net.i2p.data.Destination)">
<h3>setDestination</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDestination</span><wbr><span class="parameters">(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;d)</span></div>
</section>
</li>
<li>
<section class="detail" id="setCertType(int)">
<h3>setCertType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></span>&nbsp;<span class="element-name">setCertType</span><wbr><span class="parameters">(int&nbsp;t)</span></div>
<div class="block">Change cert type - caller must also call write().
 Side effect - creates new Destination object.</div>
</section>
</li>
<li>
<section class="detail" id="setKeyCert(net.i2p.crypto.SigType)">
<h3>setKeyCert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></span>&nbsp;<span class="element-name">setKeyCert</span><wbr><span class="parameters">(<a href="../crypto/SigType.html" title="enum in net.i2p.crypto">SigType</a>&nbsp;type)</span></div>
<div class="block">Change cert type - caller must also call write().
 Side effect - creates new Destination object.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.12</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setHashCashCert(int)">
<h3>setHashCashCert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></span>&nbsp;<span class="element-name">setHashCashCert</span><wbr><span class="parameters">(int&nbsp;effort)</span></div>
<div class="block">change to hashcash cert - caller must also call write()</div>
</section>
</li>
<li>
<section class="detail" id="setSignedCert(net.i2p.data.PrivateKeyFile)">
<h3>setSignedCert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Certificate.html" title="class in net.i2p.data">Certificate</a></span>&nbsp;<span class="element-name">setSignedCert</span><wbr><span class="parameters">(<a href="PrivateKeyFile.html" title="class in net.i2p.data">PrivateKeyFile</a>&nbsp;pkf2)</span></div>
<div class="block">sign this dest by dest found in pkf2 - caller must also call write()</div>
</section>
</li>
<li>
<section class="detail" id="getPrivKey()">
<h3>getPrivKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PrivateKey.html" title="class in net.i2p.data">PrivateKey</a></span>&nbsp;<span class="element-name">getPrivKey</span>()</div>
<div class="block">Private key may be random data or all zeros for Destinations as of 0.9.57</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null on error or if not initialized</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSigningPrivKey()">
<h3>getSigningPrivKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></span>&nbsp;<span class="element-name">getSigningPrivKey</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null on error or if not initialized</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isOffline()">
<h3>isOffline</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isOffline</span>()</div>
<div class="block">Does this session have offline and transient keys?</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setOfflineData(long,net.i2p.data.SigningPublicKey,net.i2p.data.Signature,net.i2p.data.SigningPrivateKey)">
<h3>setOfflineData</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setOfflineData</span><wbr><span class="parameters">(long&nbsp;expires,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;transientPub,
 <a href="Signature.html" title="class in net.i2p.data">Signature</a>&nbsp;sig,
 <a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a>&nbsp;transientPriv)</span></div>
<div class="block">Side effect - zeroes out the current signing private key</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOfflineExpiration()">
<h3>getOfflineExpiration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getOfflineExpiration</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Java time (ms) or 0 if not initialized or does not have offline keys</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOfflineSignature()">
<h3>getOfflineSignature</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Signature.html" title="class in net.i2p.data">Signature</a></span>&nbsp;<span class="element-name">getOfflineSignature</span>()</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransientSigningPubKey()">
<h3>getTransientSigningPubKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></span>&nbsp;<span class="element-name">getTransientSigningPubKey</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null on error or if not initialized or does not have offline keys</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTransientSigningPrivKey()">
<h3>getTransientSigningPrivKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SigningPrivateKey.html" title="class in net.i2p.data">SigningPrivateKey</a></span>&nbsp;<span class="element-name">getTransientSigningPrivKey</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>null on error or if not initialized or does not have offline keys</dd>
<dt>Since:</dt>
<dd>0.9.38</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="open()">
<h3>open</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a></span>&nbsp;<span class="element-name">open</span>()
                throws <span class="exceptions"><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="open(java.util.Properties)">
<h3>open</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../client/I2PSession.html" title="interface in net.i2p.client">I2PSession</a></span>&nbsp;<span class="element-name">open</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html" title="class or interface in java.util" class="external-link">Properties</a>&nbsp;opts)</span>
                throws <span class="exceptions"><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="../client/I2PSessionException.html" title="class in net.i2p.client">I2PSessionException</a></code></dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="write()">
<h3>write</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">write</span>()
           throws <span class="exceptions"><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a>,
<a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></span></div>
<div class="block">Copied from I2PClientImpl.createDestination()</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code></dd>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="validateKeyPairs()">
<h3>validateKeyPairs</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">validateKeyPairs</span>()</div>
<div class="block">Verify that the PublicKey matches the PrivateKey, and
  the SigningPublicKey matches the SigningPrivateKey.

  NOTE this will fail for Destinations containing random padding for the enc. key</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>success</dd>
<dt>Since:</dt>
<dd>0.9.16</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="estimateHashCashTime(int)">
<h3>estimateHashCashTime</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">estimateHashCashTime</span><wbr><span class="parameters">(int&nbsp;hashEffort)</span></div>
</section>
</li>
<li>
<section class="detail" id="verifySignature(net.i2p.data.Destination)">
<h3>verifySignature</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifySignature</span><wbr><span class="parameters">(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;d)</span></div>
<div class="block">Sample code to verify a 3rd party signature.
  This just goes through all the hosts.txt files and tries everybody.
  You need to be in the $I2P directory or have a local hosts.txt for this to work.
  Doubt this is what you want as it is super-slow, and what good is
  a signing scheme where anybody is allowed to sign?

  In a real application you would make a list of approved signers,
  do a naming lookup to get their Destinations, and try those only.
  Or do a netDb lookup of the Hash in the Certificate, do a reverse
  naming lookup to see if it is allowed, then verify the Signature.</div>
</section>
</li>
<li>
<section class="detail" id="checkSignature(net.i2p.data.Signature,byte[],net.i2p.data.SigningPublicKey)">
<h3>checkSignature</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">checkSignature</span><wbr><span class="parameters">(<a href="Signature.html" title="class in net.i2p.data">Signature</a>&nbsp;s,
 byte[]&nbsp;data,
 <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;spk)</span></div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
