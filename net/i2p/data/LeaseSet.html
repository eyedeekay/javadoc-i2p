<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) -->
<title>LeaseSet (I2P Anonymous Network - Java Documentation - API Version 0.9.55)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: net.i2p.data, class: LeaseSet">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/LeaseSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">net.i2p.data</a></div>
<h1 title="Class LeaseSet" class="title">Class LeaseSet</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="DataStructureImpl.html" title="class in net.i2p.data">net.i2p.data.DataStructureImpl</a>
<div class="inheritance"><a href="DatabaseEntry.html" title="class in net.i2p.data">net.i2p.data.DatabaseEntry</a>
<div class="inheritance">net.i2p.data.LeaseSet</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></code>, <code><a href="DataStructure.html" title="interface in net.i2p.data">DataStructure</a></code></dd>
</dl>
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="LeaseSet2.html" title="class in net.i2p.data">LeaseSet2</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">LeaseSet</span>
<span class="extends-implements">extends <a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></span></div>
<div class="block">Defines the set of leases a destination currently has.

 Support encryption and decryption with a supplied key.
 Only the gateways and tunnel IDs in the individual
 leases are encrypted.

 WARNING:
 Encryption is poorly designed and probably insecure.
 Not recommended.

 Encrypted leases are not indicated as such.
 The only way to tell a lease is encrypted is to
 determine that the listed gateways do not exist.
 Routers wishing to decrypt a leaseset must have the
 desthash and key in their keyring.
 This is required for the local router as well, since
 the encryption is done on the client side of I2CP, the
 router must decrypt it back again for local usage
 (but not for transmission to the floodfills)

 Decrypted leases are only available through the getLease()
 method, so that storage and network transmission via
 writeBytes() will output the original encrypted
 leases and the original leaseset signature.

 Revocation (zero leases) isn't used anywhere. In addition:
  - A revoked leaseset has an EarliestLeaseDate of -1, so it will
    never be stored successfully.
  - Revocation of an encrypted leaseset will explode.
  - So having an included signature at all is pointless?</div>
<dl class="notes">
<dt>Author:</dt>
<dd>jrandom</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../serialized-form.html#net.i2p.data.LeaseSet">Serialized Form</a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected byte[]</code></div>
<div class="col-second even-row-color"><code><a href="#_byteified" class="member-name-link">_byteified</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#_checked" class="member-name-link">_checked</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected <a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second even-row-color"><code><a href="#_destination" class="member-name-link">_destination</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_encryptionKey" class="member-name-link">_encryptionKey</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected long</code></div>
<div class="col-second even-row-color"><code><a href="#_lastExpiration" class="member-name-link">_lastExpiration</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected final <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Lease.html" title="class in net.i2p.data">Lease</a>&gt;</code></div>
<div class="col-second odd-row-color"><code><a href="#_leases" class="member-name-link">_leases</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>protected boolean</code></div>
<div class="col-second even-row-color"><code><a href="#_receivedAsPublished" class="member-name-link">_receivedAsPublished</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>protected <a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></code></div>
<div class="col-second odd-row-color"><code><a href="#_signingKey" class="member-name-link">_signingKey</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>static final int</code></div>
<div class="col-second even-row-color"><code><a href="#MAX_LEASES" class="member-name-link">MAX_LEASES</a></code></div>
<div class="col-last even-row-color">
<div class="block">Unlimited before 0.6.3;
  6 as of 0.6.3;
  Increased in version 0.9.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-net.i2p.data.DatabaseEntry">Fields inherited from class&nbsp;net.i2p.data.<a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></h3>
<code><a href="DatabaseEntry.html#_signature">_signature</a>, <a href="DatabaseEntry.html#KEY_TYPE_ENCRYPTED_LS2">KEY_TYPE_ENCRYPTED_LS2</a>, <a href="DatabaseEntry.html#KEY_TYPE_LEASESET">KEY_TYPE_LEASESET</a>, <a href="DatabaseEntry.html#KEY_TYPE_LS2">KEY_TYPE_LS2</a>, <a href="DatabaseEntry.html#KEY_TYPE_META_LS2">KEY_TYPE_META_LS2</a>, <a href="DatabaseEntry.html#KEY_TYPE_ROUTERINFO">KEY_TYPE_ROUTERINFO</a>, <a href="DatabaseEntry.html#KEY_TYPE_SERVICE_LIST">KEY_TYPE_SERVICE_LIST</a>, <a href="DatabaseEntry.html#KEY_TYPE_SERVICE_RECORD">KEY_TYPE_SERVICE_RECORD</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">LeaseSet</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button><button id="method-summary-table-tab6" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab6', 3)" class="table-tab">Deprecated Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#addLease(net.i2p.data.Lease)" class="member-name-link">addLease</a><wbr>(<a href="Lease.html" title="class in net.i2p.data">Lease</a>&nbsp;lease)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#encrypt(net.i2p.data.SessionKey)" class="member-name-link">encrypt</a><wbr>(<a href="SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;key)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Encrypt the gateway and tunnel ID of each lease, leaving the expire dates unchanged.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#equals(java.lang.Object)" class="member-name-link">equals</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;object)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected byte[]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBytes()" class="member-name-link">getBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">without sig!</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDate()" class="member-name-link">getDate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Same as getEarliestLeaseDate()</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Destination.html" title="class in net.i2p.data">Destination</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDestination()" class="member-name-link">getDestination</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Warning - will be null for LS2 EncryptedLeaseSets if not decrypted</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEarliestLeaseDate()" class="member-name-link">getEarliestLeaseDate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the end date of the earliest lease included in this leaseSet.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEncryptionKey()" class="member-name-link">getEncryptionKey</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getEncryptionKey(java.util.Set)" class="member-name-link">getEncryptionKey</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../crypto/EncType.html" title="enum in net.i2p.crypto">EncType</a>&gt;&nbsp;supported)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If more than one key, return the first supported one.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="KeysAndCert.html" title="class in net.i2p.data">KeysAndCert</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getKeysAndCert()" class="member-name-link">getKeysAndCert</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the keys and the cert
 Identical to getDestination() in LeaseSet,
 and getIdentity() in RouterInfo.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLatestLeaseDate()" class="member-name-link">getLatestLeaseDate</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieve the end date of the latest lease included in this leaseSet.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Lease.html" title="class in net.i2p.data">Lease</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLease(int)" class="member-name-link">getLease</a><wbr>(int&nbsp;index)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLeaseCount()" class="member-name-link">getLeaseCount</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceivedAsPublished()" class="member-name-link">getReceivedAsPublished</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If true, we received this LeaseSet by a remote peer publishing it to
 us, rather than by searching for it ourselves or locally creating it.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceivedAsReply()" class="member-name-link">getReceivedAsReply</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">If true, we received this LeaseSet by searching for it
 Default false.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Hash.html" title="class in net.i2p.data">Hash</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getReceivedBy()" class="member-name-link">getReceivedBy</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The Hash of the local client that received this LS,
 null if the router or unknown.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSigningKey()" class="member-name-link">getSigningKey</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The revocation key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getType()" class="member-name-link">getType</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the type of the data structure.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hashCode()" class="member-name-link">hashCode</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">the destination has enough randomness in it to use it by itself for speed</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isCurrent(long)" class="member-name-link">isCurrent</a><wbr>(long&nbsp;fudge)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Determine whether ANY lease is currently valid, at least within a given
 fudge factor</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readBytes(java.io.InputStream)" class="member-name-link">readBytes</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This does NOT validate the signature</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setDestination(net.i2p.data.Destination)" class="member-name-link">setDestination</a><wbr>(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setEncryptionKey(net.i2p.data.PublicKey)" class="member-name-link">setEncryptionKey</a><wbr>(<a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;encryptionKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReceivedAsPublished(boolean)" class="member-name-link">setReceivedAsPublished</a><wbr>(boolean&nbsp;received)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Default false</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReceivedAsReply()" class="member-name-link">setReceivedAsReply</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">set to true</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setReceivedBy(net.i2p.data.Hash)" class="member-name-link">setReceivedBy</a><wbr>(<a href="Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;localClient)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Also sets receivedAsReply to true</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSigningKey(net.i2p.data.SigningPublicKey)" class="member-name-link">setSigningKey</a><wbr>(<a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The revocation key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#size()" class="member-name-link">size</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Number of bytes, NOT including signature</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#toString()" class="member-name-link">toString</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#verifySignature()" class="member-name-link">verifySignature</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Verify that the signature matches the lease set's destination's signing public key.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6"><code><a href="#verifySignature(net.i2p.data.SigningPublicKey)" class="member-name-link">verifySignature</a><wbr>(<a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;signingKey)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4 method-summary-table-tab6">
<div class="block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">revocation unused</div>
</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#writeBytes(java.io.OutputStream)" class="member-name-link">writeBytes</a><wbr>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This does NOT validate the signature</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-net.i2p.data.DatabaseEntry">Methods inherited from class&nbsp;net.i2p.data.<a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></h3>
<code><a href="DatabaseEntry.html#getHash()">getHash</a>, <a href="DatabaseEntry.html#getRoutingKey()">getRoutingKey</a>, <a href="DatabaseEntry.html#getSignature()">getSignature</a>, <a href="DatabaseEntry.html#getSigningPublicKey()">getSigningPublicKey</a>, <a href="DatabaseEntry.html#isLeaseSet()">isLeaseSet</a>, <a href="DatabaseEntry.html#isLeaseSet(int)">isLeaseSet</a>, <a href="DatabaseEntry.html#setSignature(net.i2p.data.Signature)">setSignature</a>, <a href="DatabaseEntry.html#sign(net.i2p.data.SigningPrivateKey)">sign</a>, <a href="DatabaseEntry.html#validateRoutingKey()">validateRoutingKey</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-net.i2p.data.DataStructureImpl">Methods inherited from class&nbsp;net.i2p.data.<a href="DataStructureImpl.html" title="class in net.i2p.data">DataStructureImpl</a></h3>
<code><a href="DataStructureImpl.html#calculateHash()">calculateHash</a>, <a href="DataStructureImpl.html#fromBase64(java.lang.String)">fromBase64</a>, <a href="DataStructureImpl.html#fromByteArray(byte%5B%5D)">fromByteArray</a>, <a href="DataStructureImpl.html#read(java.io.InputStream,byte%5B%5D)">read</a>, <a href="DataStructureImpl.html#toBase64()">toBase64</a>, <a href="DataStructureImpl.html#toByteArray()">toByteArray</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="_destination">
<h3>_destination</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">_destination</span></div>
</section>
</li>
<li>
<section class="detail" id="_encryptionKey">
<h3>_encryptionKey</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></span>&nbsp;<span class="element-name">_encryptionKey</span></div>
</section>
</li>
<li>
<section class="detail" id="_signingKey">
<h3>_signingKey</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></span>&nbsp;<span class="element-name">_signingKey</span></div>
</section>
</li>
<li>
<section class="detail" id="_leases">
<h3>_leases</h3>
<div class="member-signature"><span class="modifiers">protected final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="Lease.html" title="class in net.i2p.data">Lease</a>&gt;</span>&nbsp;<span class="element-name">_leases</span></div>
</section>
</li>
<li>
<section class="detail" id="_receivedAsPublished">
<h3>_receivedAsPublished</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_receivedAsPublished</span></div>
</section>
</li>
<li>
<section class="detail" id="_lastExpiration">
<h3>_lastExpiration</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">_lastExpiration</span></div>
</section>
</li>
<li>
<section class="detail" id="_checked">
<h3>_checked</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">_checked</span></div>
</section>
</li>
<li>
<section class="detail" id="_byteified">
<h3>_byteified</h3>
<div class="member-signature"><span class="modifiers">protected volatile</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">_byteified</span></div>
</section>
</li>
<li>
<section class="detail" id="MAX_LEASES">
<h3>MAX_LEASES</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">MAX_LEASES</span></div>
<div class="block">Unlimited before 0.6.3;
  6 as of 0.6.3;
  Increased in version 0.9.

  Leasesets larger than 6 should be used with caution,
  as each lease adds 44 bytes, and routers older than version 0.9
  will not be able to connect as they will throw an exception in
  readBytes(). Also, the churn will be quite rapid, leading to
  frequent netdb stores and transmission on existing connections.

  However we increase it now in case some hugely popular eepsite arrives.
  Strategies elsewhere in the router to efficiently handle
  large leasesets are TBD.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="../../../constant-values.html#net.i2p.data.LeaseSet.MAX_LEASES">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>LeaseSet</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">LeaseSet</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getDate()">
<h3>getDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getDate</span>()</div>
<div class="block">Same as getEarliestLeaseDate()</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseEntry.html#getDate()">getDate</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getKeysAndCert()">
<h3>getKeysAndCert</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="KeysAndCert.html" title="class in net.i2p.data">KeysAndCert</a></span>&nbsp;<span class="element-name">getKeysAndCert</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="DatabaseEntry.html#getKeysAndCert()">DatabaseEntry</a></code></span></div>
<div class="block">Get the keys and the cert
 Identical to getDestination() in LeaseSet,
 and getIdentity() in RouterInfo.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseEntry.html#getKeysAndCert()">getKeysAndCert</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt>Returns:</dt>
<dd>KAC or null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getType()">
<h3>getType</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getType</span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from class:&nbsp;<code><a href="DatabaseEntry.html#getType()">DatabaseEntry</a></code></span></div>
<div class="block">Get the type of the data structure.
 This should be faster than instanceof.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseEntry.html#getType()">getType</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt>Returns:</dt>
<dd>KEY_TYPE_ROUTERINFO or KEY_TYPE_LEASESET or LS2 types</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDestination()">
<h3>getDestination</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Destination.html" title="class in net.i2p.data">Destination</a></span>&nbsp;<span class="element-name">getDestination</span>()</div>
<div class="block">Warning - will be null for LS2 EncryptedLeaseSets if not decrypted</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>Destination or null</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setDestination(net.i2p.data.Destination)">
<h3>setDestination</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setDestination</span><wbr><span class="parameters">(<a href="Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest)</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if already signed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getEncryptionKey()">
<h3>getEncryptionKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></span>&nbsp;<span class="element-name">getEncryptionKey</span>()</div>
</section>
</li>
<li>
<section class="detail" id="getEncryptionKey(java.util.Set)">
<h3>getEncryptionKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a></span>&nbsp;<span class="element-name">getEncryptionKey</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html" title="class or interface in java.util" class="external-link">Set</a>&lt;<a href="../crypto/EncType.html" title="enum in net.i2p.crypto">EncType</a>&gt;&nbsp;supported)</span></div>
<div class="block">If more than one key, return the first supported one.
  If none supported, return null.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>supported</code> - what return types are allowed</dd>
<dt>Returns:</dt>
<dd>ElGamal key or null if ElGamal not in supported</dd>
<dt>Since:</dt>
<dd>0.9.44</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setEncryptionKey(net.i2p.data.PublicKey)">
<h3>setEncryptionKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setEncryptionKey</span><wbr><span class="parameters">(<a href="PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;encryptionKey)</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if already signed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getSigningKey()">
<h3>getSigningKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></span>&nbsp;<span class="element-name">getSigningKey</span>()</div>
<div class="block">The revocation key.
  Undeprecated as of 0.9.38, used for the blinded key in EncryptedLeaseSet.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the revocation key for LS1, null for LS2 except blinded key for encrypted LS2</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSigningKey(net.i2p.data.SigningPublicKey)">
<h3>setSigningKey</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSigningKey</span><wbr><span class="parameters">(<a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;key)</span></div>
<div class="block">The revocation key. Unused except for encrypted LS2.
  Must be the same type as the Destination's SigningPublicKey.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - if different type</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReceivedAsPublished()">
<h3>getReceivedAsPublished</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getReceivedAsPublished</span>()</div>
<div class="block">If true, we received this LeaseSet by a remote peer publishing it to
 us, rather than by searching for it ourselves or locally creating it.
 Default false.</div>
</section>
</li>
<li>
<section class="detail" id="setReceivedAsPublished(boolean)">
<h3>setReceivedAsPublished</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReceivedAsPublished</span><wbr><span class="parameters">(boolean&nbsp;received)</span></div>
<div class="block">Default false</div>
</section>
</li>
<li>
<section class="detail" id="getReceivedAsReply()">
<h3>getReceivedAsReply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">getReceivedAsReply</span>()</div>
<div class="block">If true, we received this LeaseSet by searching for it
 Default false.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.7.14</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReceivedAsReply()">
<h3>setReceivedAsReply</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReceivedAsReply</span>()</div>
<div class="block">set to true</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.7.14</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getReceivedBy()">
<h3>getReceivedBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Hash.html" title="class in net.i2p.data">Hash</a></span>&nbsp;<span class="element-name">getReceivedBy</span>()</div>
<div class="block">The Hash of the local client that received this LS,
 null if the router or unknown.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.9.47</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setReceivedBy(net.i2p.data.Hash)">
<h3>setReceivedBy</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setReceivedBy</span><wbr><span class="parameters">(<a href="Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;localClient)</span></div>
<div class="block">Also sets receivedAsReply to true</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>localClient</code> - may be null</dd>
<dt>Since:</dt>
<dd>0.9.47</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="addLease(net.i2p.data.Lease)">
<h3>addLease</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">addLease</span><wbr><span class="parameters">(<a href="Lease.html" title="class in net.i2p.data">Lease</a>&nbsp;lease)</span></div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if already signed</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLeaseCount()">
<h3>getLeaseCount</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getLeaseCount</span>()</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>0-16
  A LeaseSet with no leases is revoked.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLease(int)">
<h3>getLease</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Lease.html" title="class in net.i2p.data">Lease</a></span>&nbsp;<span class="element-name">getLease</span><wbr><span class="parameters">(int&nbsp;index)</span></div>
</section>
</li>
<li>
<section class="detail" id="getEarliestLeaseDate()">
<h3>getEarliestLeaseDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getEarliestLeaseDate</span>()</div>
<div class="block">Retrieve the end date of the earliest lease included in this leaseSet.
 This is the date that should be used in comparisons for leaseSet age - to
 determine which LeaseSet was published more recently (later earliestLeaseSetDate
 means it was published later)</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>earliest end date of any lease in the set, or -1 if there are no leases</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getLatestLeaseDate()">
<h3>getLatestLeaseDate</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getLatestLeaseDate</span>()</div>
<div class="block">Retrieve the end date of the latest lease included in this leaseSet.
 This is the date used in isCurrent().</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>latest end date of any lease in the set, or 0 if there are no leases</dd>
<dt>Since:</dt>
<dd>0.9.7</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifySignature()">
<h3>verifySignature</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifySignature</span>()</div>
<div class="block">Verify that the signature matches the lease set's destination's signing public key.
 As of 0.9.47, revocation is not checked.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="DatabaseEntry.html#verifySignature()">verifySignature</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt>Returns:</dt>
<dd>true only if the signature matches</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="verifySignature(net.i2p.data.SigningPublicKey)">
<h3>verifySignature</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html" title="class or interface in java.lang" class="external-link">@Deprecated</a>
</span><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">verifySignature</span><wbr><span class="parameters">(<a href="SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;signingKey)</span></div>
<div class="deprecation-block"><span class="deprecated-label">Deprecated.</span>
<div class="deprecation-comment">revocation unused</div>
</div>
<div class="block">Verify that the signature matches the lease set's destination's signing public key.
 As of 0.9.47, revocation is not checked.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>true only if the signature matches</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isCurrent(long)">
<h3>isCurrent</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isCurrent</span><wbr><span class="parameters">(long&nbsp;fudge)</span></div>
<div class="block">Determine whether ANY lease is currently valid, at least within a given
 fudge factor</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fudge</code> - milliseconds fudge factor to allow between the current time</dd>
<dt>Returns:</dt>
<dd>true if there are current leases, false otherwise</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBytes()">
<h3>getBytes</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">getBytes</span>()</div>
<div class="block">without sig!</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="DatabaseEntry.html#getBytes()">getBytes</a></code>&nbsp;in class&nbsp;<code><a href="DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt>Returns:</dt>
<dd>null on error ???????????????????????</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readBytes(java.io.InputStream)">
<h3>readBytes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">readBytes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html" title="class or interface in java.io" class="external-link">InputStream</a>&nbsp;in)</span>
               throws <span class="exceptions"><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">This does NOT validate the signature</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>in</code> - stream to read from</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html" title="class or interface in java.lang" class="external-link">IllegalStateException</a></code> - if called more than once or Destination already set</dd>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the data is improperly formatted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there was a problem reading the stream</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeBytes(java.io.OutputStream)">
<h3>writeBytes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeBytes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html" title="class or interface in java.io" class="external-link">OutputStream</a>&nbsp;out)</span>
                throws <span class="exceptions"><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a>,
<a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">This does NOT validate the signature</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>out</code> - stream to write to</dd>
<dt>Throws:</dt>
<dd><code><a href="DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the data was incomplete or not yet ready to be written</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - if there was a problem writing to the stream</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="size()">
<h3>size</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">size</span>()</div>
<div class="block">Number of bytes, NOT including signature</div>
</section>
</li>
<li>
<section class="detail" id="equals(java.lang.Object)">
<h3>equals</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">equals</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;object)</span></div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hashCode()">
<h3>hashCode</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">hashCode</span>()</div>
<div class="block">the destination has enough randomness in it to use it by itself for speed</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="toString()">
<h3>toString</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">toString</span>()</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="encrypt(net.i2p.data.SessionKey)">
<h3>encrypt</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">encrypt</span><wbr><span class="parameters">(<a href="SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;key)</span></div>
<div class="block">Encrypt the gateway and tunnel ID of each lease, leaving the expire dates unchanged.
  This adds an extra dummy lease, because AES data must be padded to 16 bytes.
  The fact that it is encrypted is not stored anywhere.
  Must be called after all the leases are in place, but before sign().</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
