<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>LeaseSet (I2P Anonymous Network - Java Documentation - API Version 0.9.56)</title>
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LeaseSet (I2P Anonymous Network - Java Documentation - API Version 0.9.56)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":42,"i31":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeaseSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/i2p/data/Lease2.html" title="class in net.i2p.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/i2p/data/LeaseSet2.html" title="class in net.i2p.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/i2p/data/LeaseSet.html" target="_top">Frames</a></li>
<li><a href="LeaseSet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.data</div>
<h2 title="Class LeaseSet" class="title">Class LeaseSet</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/i2p/data/DataStructureImpl.html" title="class in net.i2p.data">net.i2p.data.DataStructureImpl</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">net.i2p.data.DatabaseEntry</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.data.LeaseSet</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, <a href="../../../net/i2p/data/DataStructure.html" title="interface in net.i2p.data">DataStructure</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../net/i2p/data/LeaseSet2.html" title="class in net.i2p.data">LeaseSet2</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LeaseSet</span>
extends <a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></pre>
<div class="block">Defines the set of leases a destination currently has.

 Support encryption and decryption with a supplied key.
 Only the gateways and tunnel IDs in the individual
 leases are encrypted.

 WARNING:
 Encryption is poorly designed and probably insecure.
 Not recommended.

 Encrypted leases are not indicated as such.
 The only way to tell a lease is encrypted is to
 determine that the listed gateways do not exist.
 Routers wishing to decrypt a leaseset must have the
 desthash and key in their keyring.
 This is required for the local router as well, since
 the encryption is done on the client side of I2CP, the
 router must decrypt it back again for local usage
 (but not for transmission to the floodfills)

 Decrypted leases are only available through the getLease()
 method, so that storage and network transmission via
 writeBytes() will output the original encrypted
 leases and the original leaseset signature.

 Revocation (zero leases) isn't used anywhere. In addition:
  - A revoked leaseset has an EarliestLeaseDate of -1, so it will
    never be stored successfully.
  - Revocation of an encrypted leaseset will explode.
  - So having an included signature at all is pointless?</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>jrandom</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../serialized-form.html#net.i2p.data.LeaseSet">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_byteified">_byteified</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_checked">_checked</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_destination">_destination</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_encryptionKey">_encryptionKey</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_lastExpiration">_lastExpiration</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_leases">_leases</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_receivedAsPublished">_receivedAsPublished</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#Z:Z_signingKey">_signingKey</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#MAX_LEASES">MAX_LEASES</a></span></code>
<div class="block">Unlimited before 0.6.3;
  6 as of 0.6.3;
  Increased in version 0.9.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.net.i2p.data.DatabaseEntry">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;net.i2p.data.<a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></h3>
<code><a href="../../../net/i2p/data/DatabaseEntry.html#Z:Z_signature">_signature</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_ENCRYPTED_LS2">KEY_TYPE_ENCRYPTED_LS2</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_LEASESET">KEY_TYPE_LEASESET</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_LS2">KEY_TYPE_LS2</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_META_LS2">KEY_TYPE_META_LS2</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_ROUTERINFO">KEY_TYPE_ROUTERINFO</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_SERVICE_LIST">KEY_TYPE_SERVICE_LIST</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#KEY_TYPE_SERVICE_RECORD">KEY_TYPE_SERVICE_RECORD</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#LeaseSet--">LeaseSet</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#addLease-net.i2p.data.Lease-">addLease</a></span>(<a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a>&nbsp;lease)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#encrypt-net.i2p.data.SessionKey-">encrypt</a></span>(<a href="../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;key)</code>
<div class="block">Encrypt the gateway and tunnel ID of each lease, leaving the expire dates unchanged.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#equals-java.lang.Object-">equals</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getBytes--">getBytes</a></span>()</code>
<div class="block">without sig!</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getDate--">getDate</a></span>()</code>
<div class="block">Same as getEarliestLeaseDate()</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getDestination--">getDestination</a></span>()</code>
<div class="block">Warning - will be null for LS2 EncryptedLeaseSets if not decrypted</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getEarliestLeaseDate--">getEarliestLeaseDate</a></span>()</code>
<div class="block">Retrieve the end date of the earliest lease included in this leaseSet.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getEncryptionKey--">getEncryptionKey</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getEncryptionKey-java.util.Set-">getEncryptionKey</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../net/i2p/crypto/EncType.html" title="enum in net.i2p.crypto">EncType</a>&gt;&nbsp;supported)</code>
<div class="block">If more than one key, return the first supported one.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/KeysAndCert.html" title="class in net.i2p.data">KeysAndCert</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getKeysAndCert--">getKeysAndCert</a></span>()</code>
<div class="block">Get the keys and the cert
 Identical to getDestination() in LeaseSet,
 and getIdentity() in RouterInfo.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getLatestLeaseDate--">getLatestLeaseDate</a></span>()</code>
<div class="block">Retrieve the end date of the latest lease included in this leaseSet.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getLease-int-">getLease</a></span>(int&nbsp;index)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getLeaseCount--">getLeaseCount</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getReceivedAsPublished--">getReceivedAsPublished</a></span>()</code>
<div class="block">If true, we received this LeaseSet by a remote peer publishing it to
 us, rather than by searching for it ourselves or locally creating it.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getReceivedAsReply--">getReceivedAsReply</a></span>()</code>
<div class="block">If true, we received this LeaseSet by searching for it
 Default false.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getReceivedBy--">getReceivedBy</a></span>()</code>
<div class="block">The Hash of the local client that received this LS,
 null if the router or unknown.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getSigningKey--">getSigningKey</a></span>()</code>
<div class="block">The revocation key.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#getType--">getType</a></span>()</code>
<div class="block">Get the type of the data structure.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#hashCode--">hashCode</a></span>()</code>
<div class="block">the destination has enough randomness in it to use it by itself for speed</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#isCurrent-long-">isCurrent</a></span>(long&nbsp;fudge)</code>
<div class="block">Determine whether ANY lease is currently valid, at least within a given
 fudge factor</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#readBytes-java.io.InputStream-">readBytes</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)</code>
<div class="block">This does NOT validate the signature</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setDestination-net.i2p.data.Destination-">setDestination</a></span>(<a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest)</code>&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setEncryptionKey-net.i2p.data.PublicKey-">setEncryptionKey</a></span>(<a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;encryptionKey)</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setReceivedAsPublished-boolean-">setReceivedAsPublished</a></span>(boolean&nbsp;received)</code>
<div class="block">Default false</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setReceivedAsReply--">setReceivedAsReply</a></span>()</code>
<div class="block">set to true</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setReceivedBy-net.i2p.data.Hash-">setReceivedBy</a></span>(<a href="../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;localClient)</code>
<div class="block">Also sets receivedAsReply to true</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#setSigningKey-net.i2p.data.SigningPublicKey-">setSigningKey</a></span>(<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;key)</code>
<div class="block">The revocation key.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#size--">size</a></span>()</code>
<div class="block">Number of bytes, NOT including signature</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#verifySignature--">verifySignature</a></span>()</code>
<div class="block">Verify that the signature matches the lease set's destination's signing public key.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#verifySignature-net.i2p.data.SigningPublicKey-">verifySignature</a></span>(<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;signingKey)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">revocation unused</span></div>
</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/i2p/data/LeaseSet.html#writeBytes-java.io.OutputStream-">writeBytes</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)</code>
<div class="block">This does NOT validate the signature</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.i2p.data.DatabaseEntry">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.i2p.data.<a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></h3>
<code><a href="../../../net/i2p/data/DatabaseEntry.html#getHash--">getHash</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#getRoutingKey--">getRoutingKey</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#getSignature--">getSignature</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#getSigningPublicKey--">getSigningPublicKey</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#isLeaseSet--">isLeaseSet</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#isLeaseSet-int-">isLeaseSet</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#setSignature-net.i2p.data.Signature-">setSignature</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#sign-net.i2p.data.SigningPrivateKey-">sign</a>, <a href="../../../net/i2p/data/DatabaseEntry.html#validateRoutingKey--">validateRoutingKey</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.i2p.data.DataStructureImpl">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;net.i2p.data.<a href="../../../net/i2p/data/DataStructureImpl.html" title="class in net.i2p.data">DataStructureImpl</a></h3>
<code><a href="../../../net/i2p/data/DataStructureImpl.html#calculateHash--">calculateHash</a>, <a href="../../../net/i2p/data/DataStructureImpl.html#fromBase64-java.lang.String-">fromBase64</a>, <a href="../../../net/i2p/data/DataStructureImpl.html#fromByteArray-byte:A-">fromByteArray</a>, <a href="../../../net/i2p/data/DataStructureImpl.html#read-java.io.InputStream-byte:A-">read</a>, <a href="../../../net/i2p/data/DataStructureImpl.html#toBase64--">toBase64</a>, <a href="../../../net/i2p/data/DataStructureImpl.html#toByteArray--">toByteArray</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_destination">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_destination</h4>
<pre>protected&nbsp;<a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a> _destination</pre>
</li>
</ul>
<a name="Z:Z_encryptionKey">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_encryptionKey</h4>
<pre>protected&nbsp;<a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a> _encryptionKey</pre>
</li>
</ul>
<a name="Z:Z_signingKey">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_signingKey</h4>
<pre>protected&nbsp;<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a> _signingKey</pre>
</li>
</ul>
<a name="Z:Z_leases">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_leases</h4>
<pre>protected final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a>&gt; _leases</pre>
</li>
</ul>
<a name="Z:Z_receivedAsPublished">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_receivedAsPublished</h4>
<pre>protected&nbsp;boolean _receivedAsPublished</pre>
</li>
</ul>
<a name="Z:Z_lastExpiration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_lastExpiration</h4>
<pre>protected&nbsp;long _lastExpiration</pre>
</li>
</ul>
<a name="Z:Z_checked">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_checked</h4>
<pre>protected&nbsp;boolean _checked</pre>
</li>
</ul>
<a name="Z:Z_byteified">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_byteified</h4>
<pre>protected volatile&nbsp;byte[] _byteified</pre>
</li>
</ul>
<a name="MAX_LEASES">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MAX_LEASES</h4>
<pre>public static final&nbsp;int MAX_LEASES</pre>
<div class="block">Unlimited before 0.6.3;
  6 as of 0.6.3;
  Increased in version 0.9.

  Leasesets larger than 6 should be used with caution,
  as each lease adds 44 bytes, and routers older than version 0.9
  will not be able to connect as they will throw an exception in
  readBytes(). Also, the churn will be quite rapid, leading to
  frequent netdb stores and transmission on existing connections.

  However we increase it now in case some hugely popular eepsite arrives.
  Strategies elsewhere in the router to efficiently handle
  large leasesets are TBD.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#net.i2p.data.LeaseSet.MAX_LEASES">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LeaseSet--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LeaseSet</h4>
<pre>public&nbsp;LeaseSet()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDate</h4>
<pre>public&nbsp;long&nbsp;getDate()</pre>
<div class="block">Same as getEarliestLeaseDate()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../net/i2p/data/DatabaseEntry.html#getDate--">getDate</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
</dl>
</li>
</ul>
<a name="getKeysAndCert--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeysAndCert</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/KeysAndCert.html" title="class in net.i2p.data">KeysAndCert</a>&nbsp;getKeysAndCert()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html#getKeysAndCert--">DatabaseEntry</a></code></span></div>
<div class="block">Get the keys and the cert
 Identical to getDestination() in LeaseSet,
 and getIdentity() in RouterInfo.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../net/i2p/data/DatabaseEntry.html#getKeysAndCert--">getKeysAndCert</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>KAC or null</dd>
</dl>
</li>
</ul>
<a name="getType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public&nbsp;int&nbsp;getType()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html#getType--">DatabaseEntry</a></code></span></div>
<div class="block">Get the type of the data structure.
 This should be faster than instanceof.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../net/i2p/data/DatabaseEntry.html#getType--">getType</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>KEY_TYPE_ROUTERINFO or KEY_TYPE_LEASESET or LS2 types</dd>
</dl>
</li>
</ul>
<a name="getDestination--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDestination</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;getDestination()</pre>
<div class="block">Warning - will be null for LS2 EncryptedLeaseSets if not decrypted</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Destination or null</dd>
</dl>
</li>
</ul>
<a name="setDestination-net.i2p.data.Destination-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDestination</h4>
<pre>public&nbsp;void&nbsp;setDestination(<a href="../../../net/i2p/data/Destination.html" title="class in net.i2p.data">Destination</a>&nbsp;dest)</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if already signed</dd>
</dl>
</li>
</ul>
<a name="getEncryptionKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptionKey</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;getEncryptionKey()</pre>
</li>
</ul>
<a name="getEncryptionKey-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptionKey</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;getEncryptionKey(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="../../../net/i2p/crypto/EncType.html" title="enum in net.i2p.crypto">EncType</a>&gt;&nbsp;supported)</pre>
<div class="block">If more than one key, return the first supported one.
  If none supported, return null.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>supported</code> - what return types are allowed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ElGamal key or null if ElGamal not in supported</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.44</dd>
</dl>
</li>
</ul>
<a name="setEncryptionKey-net.i2p.data.PublicKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEncryptionKey</h4>
<pre>public&nbsp;void&nbsp;setEncryptionKey(<a href="../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;encryptionKey)</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if already signed</dd>
</dl>
</li>
</ul>
<a name="getSigningKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSigningKey</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;getSigningKey()</pre>
<div class="block">The revocation key.
  Undeprecated as of 0.9.38, used for the blinded key in EncryptedLeaseSet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the revocation key for LS1, null for LS2 except blinded key for encrypted LS2</dd>
</dl>
</li>
</ul>
<a name="setSigningKey-net.i2p.data.SigningPublicKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSigningKey</h4>
<pre>public&nbsp;void&nbsp;setSigningKey(<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;key)</pre>
<div class="block">The revocation key. Unused except for encrypted LS2.
  Must be the same type as the Destination's SigningPublicKey.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if different type</dd>
</dl>
</li>
</ul>
<a name="getReceivedAsPublished--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReceivedAsPublished</h4>
<pre>public&nbsp;boolean&nbsp;getReceivedAsPublished()</pre>
<div class="block">If true, we received this LeaseSet by a remote peer publishing it to
 us, rather than by searching for it ourselves or locally creating it.
 Default false.</div>
</li>
</ul>
<a name="setReceivedAsPublished-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReceivedAsPublished</h4>
<pre>public&nbsp;void&nbsp;setReceivedAsPublished(boolean&nbsp;received)</pre>
<div class="block">Default false</div>
</li>
</ul>
<a name="getReceivedAsReply--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReceivedAsReply</h4>
<pre>public&nbsp;boolean&nbsp;getReceivedAsReply()</pre>
<div class="block">If true, we received this LeaseSet by searching for it
 Default false.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7.14</dd>
</dl>
</li>
</ul>
<a name="setReceivedAsReply--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReceivedAsReply</h4>
<pre>public&nbsp;void&nbsp;setReceivedAsReply()</pre>
<div class="block">set to true</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.7.14</dd>
</dl>
</li>
</ul>
<a name="getReceivedBy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReceivedBy</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;getReceivedBy()</pre>
<div class="block">The Hash of the local client that received this LS,
 null if the router or unknown.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.47</dd>
</dl>
</li>
</ul>
<a name="setReceivedBy-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReceivedBy</h4>
<pre>public&nbsp;void&nbsp;setReceivedBy(<a href="../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;localClient)</pre>
<div class="block">Also sets receivedAsReply to true</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>localClient</code> - may be null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.47</dd>
</dl>
</li>
</ul>
<a name="addLease-net.i2p.data.Lease-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLease</h4>
<pre>public&nbsp;void&nbsp;addLease(<a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a>&nbsp;lease)</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if already signed</dd>
</dl>
</li>
</ul>
<a name="getLeaseCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeaseCount</h4>
<pre>public&nbsp;int&nbsp;getLeaseCount()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0-16
  A LeaseSet with no leases is revoked.</dd>
</dl>
</li>
</ul>
<a name="getLease-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLease</h4>
<pre>public&nbsp;<a href="../../../net/i2p/data/Lease.html" title="class in net.i2p.data">Lease</a>&nbsp;getLease(int&nbsp;index)</pre>
</li>
</ul>
<a name="getEarliestLeaseDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEarliestLeaseDate</h4>
<pre>public&nbsp;long&nbsp;getEarliestLeaseDate()</pre>
<div class="block">Retrieve the end date of the earliest lease included in this leaseSet.
 This is the date that should be used in comparisons for leaseSet age - to
 determine which LeaseSet was published more recently (later earliestLeaseSetDate
 means it was published later)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>earliest end date of any lease in the set, or -1 if there are no leases</dd>
</dl>
</li>
</ul>
<a name="getLatestLeaseDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestLeaseDate</h4>
<pre>public&nbsp;long&nbsp;getLatestLeaseDate()</pre>
<div class="block">Retrieve the end date of the latest lease included in this leaseSet.
 This is the date used in isCurrent().</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>latest end date of any lease in the set, or 0 if there are no leases</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.7</dd>
</dl>
</li>
</ul>
<a name="verifySignature--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifySignature</h4>
<pre>public&nbsp;boolean&nbsp;verifySignature()</pre>
<div class="block">Verify that the signature matches the lease set's destination's signing public key.
 As of 0.9.47, revocation is not checked.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../net/i2p/data/DatabaseEntry.html#verifySignature--">verifySignature</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true only if the signature matches</dd>
</dl>
</li>
</ul>
<a name="verifySignature-net.i2p.data.SigningPublicKey-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifySignature</h4>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang">@Deprecated</a>
public&nbsp;boolean&nbsp;verifySignature(<a href="../../../net/i2p/data/SigningPublicKey.html" title="class in net.i2p.data">SigningPublicKey</a>&nbsp;signingKey)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">revocation unused</span></div>
<div class="block">Verify that the signature matches the lease set's destination's signing public key.
 As of 0.9.47, revocation is not checked.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true only if the signature matches</dd>
</dl>
</li>
</ul>
<a name="isCurrent-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCurrent</h4>
<pre>public&nbsp;boolean&nbsp;isCurrent(long&nbsp;fudge)</pre>
<div class="block">Determine whether ANY lease is currently valid, at least within a given
 fudge factor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fudge</code> - milliseconds fudge factor to allow between the current time</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there are current leases, false otherwise</dd>
</dl>
</li>
</ul>
<a name="getBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytes</h4>
<pre>protected&nbsp;byte[]&nbsp;getBytes()</pre>
<div class="block">without sig!</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../net/i2p/data/DatabaseEntry.html#getBytes--">getBytes</a></code>&nbsp;in class&nbsp;<code><a href="../../../net/i2p/data/DatabaseEntry.html" title="class in net.i2p.data">DatabaseEntry</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null on error ???????????????????????</dd>
</dl>
</li>
</ul>
<a name="readBytes-java.io.InputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readBytes</h4>
<pre>public&nbsp;void&nbsp;readBytes(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;in)
               throws <a href="../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a>,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This does NOT validate the signature</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - stream to read from</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if called more than once or Destination already set</dd>
<dd><code><a href="../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the data is improperly formatted</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there was a problem reading the stream</dd>
</dl>
</li>
</ul>
<a name="writeBytes-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBytes</h4>
<pre>public&nbsp;void&nbsp;writeBytes(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html?is-external=true" title="class or interface in java.io">OutputStream</a>&nbsp;out)
                throws <a href="../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a>,
                       <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This does NOT validate the signature</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - stream to write to</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - if the data was incomplete or not yet ready to be written</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there was a problem writing to the stream</dd>
</dl>
</li>
</ul>
<a name="size--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;int&nbsp;size()</pre>
<div class="block">Number of bytes, NOT including signature</div>
</li>
</ul>
<a name="equals-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;object)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="hashCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">the destination has enough randomness in it to use it by itself for speed</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="encrypt-net.i2p.data.SessionKey-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>encrypt</h4>
<pre>public&nbsp;void&nbsp;encrypt(<a href="../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;key)</pre>
<div class="block">Encrypt the gateway and tunnel ID of each lease, leaving the expire dates unchanged.
  This adds an extra dummy lease, because AES data must be padded to 16 bytes.
  The fact that it is encrypted is not stored anywhere.
  Must be called after all the leases are in place, but before sign().</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LeaseSet.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/i2p/data/Lease2.html" title="class in net.i2p.data"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/i2p/data/LeaseSet2.html" title="class in net.i2p.data"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/i2p/data/LeaseSet.html" target="_top">Frames</a></li>
<li><a href="LeaseSet.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
