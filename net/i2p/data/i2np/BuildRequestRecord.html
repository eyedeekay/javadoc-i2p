<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>BuildRequestRecord (I2P Anonymous Network - Java Documentation - Version 1.6.1)</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BuildRequestRecord (I2P Anonymous Network - Java Documentation - Version 1.6.1)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BuildRequestRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../net/i2p/data/i2np/BuildResponseRecord.html" title="class in net.i2p.data.i2np"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/data/i2np/BuildRequestRecord.html" target="_top">Frames</a></li>
<li><a href="BuildRequestRecord.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.i2p.data.i2np</div>
<h2 title="Class BuildRequestRecord" class="title">Class BuildRequestRecord</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.i2p.data.i2np.BuildRequestRecord</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">BuildRequestRecord</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">As of 0.9.48, supports two formats.
 As of 0.9.51, supports three formats.
 The original 222-byte ElGamal format, the new 464-byte ECIES format,
 and the newest 154-byte ECIES format.
 See proposal 152 and 157 for details on the new formats.

 None of the readXXX() calls are cached. For efficiency,
 they should only be called once.

 Original ElGamal format:

 Holds the unencrypted 222-byte tunnel request record,
 with a constructor for ElGamal decryption and a method for ElGamal encryption.
 Iterative AES encryption/decryption is done elsewhere.

 Cleartext:
 <pre>
   bytes     0-3: tunnel ID to receive messages as
   bytes    4-35: local router identity hash (Unused and no accessor here)
   bytes   36-39: next tunnel ID
   bytes   40-71: next router identity hash
   bytes  72-103: AES-256 tunnel layer key
   bytes 104-135: AES-256 tunnel IV key
   bytes 136-167: AES-256 reply key
   bytes 168-183: reply IV
   byte      184: flags
   bytes 185-188: request time (in hours since the epoch)
   bytes 189-192: next message ID
   bytes 193-221: uninterpreted / random padding
 </pre>

 Encrypted:
 <pre>
   bytes    0-15: First 16 bytes of router hash
   bytes  16-527: ElGamal encrypted block (discarding zero bytes at elg[0] and elg[257])
 </pre>

 ECIES long record format, ref: proposal 152:

 Holds the unencrypted 464-byte tunnel request record,
 with a constructor for ECIES decryption and a method for ECIES encryption.
 Iterative AES encryption/decryption is done elsewhere.

 Cleartext:
 <pre>
   bytes     0-3: tunnel ID to receive messages as, nonzero
   bytes     4-7: next tunnel ID, nonzero
   bytes    8-39: next router identity hash
   bytes   40-71: AES-256 tunnel layer key
   bytes  72-103: AES-256 tunnel IV key
   bytes 104-135: AES-256 reply key
   bytes 136-151: AES-256 reply IV
   byte      152: flags
   bytes 153-155: more flags, unused, set to 0 for compatibility
   bytes 156-159: request time (in minutes since the epoch, rounded down)
   bytes 160-163: request expiration (in seconds since creation)
   bytes 164-167: next message ID
   bytes   168-x: tunnel build options (Mapping)
   bytes     x-x: other data as implied by flags or options
   bytes   x-463: random padding
 </pre>

 Encrypted:
 <pre>
   bytes    0-15: Hop's truncated identity hash
   bytes   16-47: Sender's ephemeral X25519 public key
   bytes  48-511: ChaCha20 encrypted BuildRequestRecord
   bytes 512-527: Poly1305 MAC
 </pre>

 ECIES short record format, ref: proposal 157:

 Holds the unencrypted 154-byte tunnel request record,
 with a constructor for ECIES decryption and a method for ECIES encryption.
 Iterative AES encryption/decryption is done elsewhere.

 Cleartext:
 <pre>
   bytes     0-3: tunnel ID to receive messages as, nonzero
   bytes     4-7: next tunnel ID, nonzero
   bytes    8-39: next router identity hash
   byte       40: flags
   bytes   41-42: more flags, unused, set to 0 for compatibility
   byte       43: layer enc. type
   bytes   44-47: request time (in minutes since the epoch, rounded down)
   bytes   48-51: request expiration (in seconds since creation)
   bytes   52-55: next message ID
   bytes    56-x: tunnel build options (Mapping)
   bytes     x-x: other data as implied by flags or options
   bytes   x-153: random padding
 </pre>

 Encrypted:
 <pre>
   bytes    0-15: Hop's truncated identity hash
   bytes   16-47: Sender's ephemeral X25519 public key
   bytes  48-201: ChaCha20 encrypted BuildRequestRecord
   bytes 202-217: Poly1305 MAC
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#IV_SIZE">IV_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#OFF_REPLY_KEY">OFF_REPLY_KEY</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#OFF_REPLY_KEY_EC">OFF_REPLY_KEY_EC</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#PEER_SIZE">PEER_SIZE</a></span></code>
<div class="block">we show 16 bytes of the peer hash outside the elGamal block</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#BuildRequestRecord-net.i2p.I2PAppContext-long-net.i2p.data.Hash-long-net.i2p.data.Hash-long-net.i2p.data.SessionKey-net.i2p.data.SessionKey-net.i2p.data.SessionKey-byte:A-boolean-boolean-">BuildRequestRecord</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                  long&nbsp;receiveTunnelId,
                  <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer,
                  long&nbsp;nextTunnelId,
                  <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                  long&nbsp;nextMsgId,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;layerKey,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;ivKey,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;replyKey,
                  byte[]&nbsp;iv,
                  boolean&nbsp;isInGateway,
                  boolean&nbsp;isOutEndpoint)</code>
<div class="block">Populate this instance with data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#BuildRequestRecord-net.i2p.I2PAppContext-long-long-net.i2p.data.Hash-long-boolean-boolean-java.util.Properties-">BuildRequestRecord</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                  long&nbsp;receiveTunnelId,
                  long&nbsp;nextTunnelId,
                  <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                  long&nbsp;nextMsgId,
                  boolean&nbsp;isInGateway,
                  boolean&nbsp;isOutEndpoint,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;options)</code>
<div class="block">Populate this instance with data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#BuildRequestRecord-net.i2p.I2PAppContext-long-long-net.i2p.data.Hash-long-net.i2p.data.SessionKey-net.i2p.data.SessionKey-net.i2p.data.SessionKey-byte:A-boolean-boolean-java.util.Properties-">BuildRequestRecord</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                  long&nbsp;receiveTunnelId,
                  long&nbsp;nextTunnelId,
                  <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                  long&nbsp;nextMsgId,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;layerKey,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;ivKey,
                  <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;replyKey,
                  byte[]&nbsp;iv,
                  boolean&nbsp;isInGateway,
                  boolean&nbsp;isOutEndpoint,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;options)</code>
<div class="block">Populate this instance with data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#BuildRequestRecord-net.i2p.router.RouterContext-net.i2p.data.PrivateKey-net.i2p.data.i2np.EncryptedBuildRecord-">BuildRequestRecord</a></span>(<a href="../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                  <a href="../../../../net/i2p/data/PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;ourKey,
                  <a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a>&nbsp;encryptedRecord)</code>
<div class="block">Decrypt the data from the specified record, writing the decrypted record into this instance's
 data buffer

 Caller MUST check that first 16 bytes of our hash matches first 16 bytes of encryptedRecord
 before calling this.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#encryptECIESRecord-net.i2p.router.RouterContext-net.i2p.data.PublicKey-net.i2p.data.Hash-">encryptECIESRecord</a></span>(<a href="../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                  <a href="../../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;toKey,
                  <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;toPeer)</code>
<div class="block">Encrypt the record to the specified peer.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#encryptRecord-net.i2p.I2PAppContext-net.i2p.data.PublicKey-net.i2p.data.Hash-">encryptRecord</a></span>(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
             <a href="../../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;toKey,
             <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;toPeer)</code>
<div class="block">Encrypt the record to the specified peer.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#getChaChaReplyAD--">getChaChaReplyAD</a></span>()</code>
<div class="block">Valid after calling encryptECIESRecord() or after the decrypting constructor
 with an ECIES private key.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#getChaChaReplyKey--">getChaChaReplyKey</a></span>()</code>
<div class="block">Valid after calling encryptECIESRecord() or after the decrypting constructor
 with an ECIES private key.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#getData--">getData</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readExpiration--">readExpiration</a></span>()</code>
<div class="block">The expiration in milliseconds from now.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../net/i2p/router/networkdb/kademlia/MessageWrapper.OneTimeSession.html" title="class in net.i2p.router.networkdb.kademlia">MessageWrapper.OneTimeSession</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readGarlicKeys--">readGarlicKeys</a></span>()</code>
<div class="block">ECIES short OBEP record only.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readIsInboundGateway--">readIsInboundGateway</a></span>()</code>
<div class="block">The current hop is the inbound gateway.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readIsOutboundEndpoint--">readIsOutboundEndpoint</a></span>()</code>
<div class="block">The current hop is the outbound endpoint.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readIVKey--">readIVKey</a></span>()</code>
<div class="block">Tunnel IV encryption key that the current hop should use</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readLayerEncryptionType--">readLayerEncryptionType</a></span>()</code>
<div class="block">ECIES short record only.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readLayerKey--">readLayerKey</a></span>()</code>
<div class="block">Tunnel layer encryption key that the current hop should use</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readNextIdentity--">readNextIdentity</a></span>()</code>
<div class="block">Read the next hop from the record.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readNextTunnelId--">readNextTunnelId</a></span>()</code>
<div class="block">What tunnel ID the next hop receives messages on.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readOptions--">readOptions</a></span>()</code>
<div class="block">ECIES only.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readReceiveTunnelId--">readReceiveTunnelId</a></span>()</code>
<div class="block">what tunnel ID should this receive messages on</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readReplyIV--">readReplyIV</a></span>()</code>
<div class="block">AES IV that should be used to encrypt the reply.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readReplyKey--">readReplyKey</a></span>()</code>
<div class="block">AES Session key that should be used to encrypt the reply.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readReplyMessageId--">readReplyMessageId</a></span>()</code>
<div class="block">What message ID should we send the request to the next hop with.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#readRequestTime--">readRequestTime</a></span>()</code>
<div class="block">For ElGamal, time that the request was sent (ms), truncated to the nearest hour.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/i2p/data/i2np/BuildRequestRecord.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="IV_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IV_SIZE</h4>
<pre>public static final&nbsp;int IV_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#net.i2p.data.i2np.BuildRequestRecord.IV_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PEER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PEER_SIZE</h4>
<pre>public static final&nbsp;int PEER_SIZE</pre>
<div class="block">we show 16 bytes of the peer hash outside the elGamal block</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#net.i2p.data.i2np.BuildRequestRecord.PEER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OFF_REPLY_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>OFF_REPLY_KEY</h4>
<pre>public static final&nbsp;int OFF_REPLY_KEY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#net.i2p.data.i2np.BuildRequestRecord.OFF_REPLY_KEY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="OFF_REPLY_KEY_EC">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OFF_REPLY_KEY_EC</h4>
<pre>public static final&nbsp;int OFF_REPLY_KEY_EC</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#net.i2p.data.i2np.BuildRequestRecord.OFF_REPLY_KEY_EC">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BuildRequestRecord-net.i2p.router.RouterContext-net.i2p.data.PrivateKey-net.i2p.data.i2np.EncryptedBuildRecord-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BuildRequestRecord</h4>
<pre>public&nbsp;BuildRequestRecord(<a href="../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                          <a href="../../../../net/i2p/data/PrivateKey.html" title="class in net.i2p.data">PrivateKey</a>&nbsp;ourKey,
                          <a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a>&nbsp;encryptedRecord)
                   throws <a href="../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></pre>
<div class="block">Decrypt the data from the specified record, writing the decrypted record into this instance's
 data buffer

 Caller MUST check that first 16 bytes of our hash matches first 16 bytes of encryptedRecord
 before calling this. Not checked here.

 The ChaCha reply key and IV will be available via the getters
 after this call if ourKey is ECIES.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../net/i2p/data/DataFormatException.html" title="class in net.i2p.data">DataFormatException</a></code> - on decrypt fail</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="BuildRequestRecord-net.i2p.I2PAppContext-long-net.i2p.data.Hash-long-net.i2p.data.Hash-long-net.i2p.data.SessionKey-net.i2p.data.SessionKey-net.i2p.data.SessionKey-byte:A-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BuildRequestRecord</h4>
<pre>public&nbsp;BuildRequestRecord(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                          long&nbsp;receiveTunnelId,
                          <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;peer,
                          long&nbsp;nextTunnelId,
                          <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                          long&nbsp;nextMsgId,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;layerKey,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;ivKey,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;replyKey,
                          byte[]&nbsp;iv,
                          boolean&nbsp;isInGateway,
                          boolean&nbsp;isOutEndpoint)</pre>
<div class="block">Populate this instance with data.  A new buffer is created to contain the data, with the 
 necessary randomized padding.

 ElGamal only. ECIES constructor below.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>receiveTunnelId</code> - tunnel the current hop will receive messages on</dd>
<dd><code>peer</code> - current hop's identity, unused, no read() method</dd>
<dd><code>nextTunnelId</code> - id for the next hop, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextHop</code> - next hop's identity, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextMsgId</code> - message ID to use when sending on to the next hop (or for the reply)</dd>
<dd><code>layerKey</code> - tunnel layer key to be used by the peer</dd>
<dd><code>ivKey</code> - tunnel IV key to be used by the peer</dd>
<dd><code>replyKey</code> - key to be used when encrypting the reply to this build request</dd>
<dd><code>iv</code> - iv to be used when encrypting the reply to this build request</dd>
<dd><code>isInGateway</code> - are we the gateway of an inbound tunnel?</dd>
<dd><code>isOutEndpoint</code> - are we the endpoint of an outbound tunnel?</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.18, was createRecord()</dd>
</dl>
</li>
</ul>
<a name="BuildRequestRecord-net.i2p.I2PAppContext-long-long-net.i2p.data.Hash-long-net.i2p.data.SessionKey-net.i2p.data.SessionKey-net.i2p.data.SessionKey-byte:A-boolean-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BuildRequestRecord</h4>
<pre>public&nbsp;BuildRequestRecord(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                          long&nbsp;receiveTunnelId,
                          long&nbsp;nextTunnelId,
                          <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                          long&nbsp;nextMsgId,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;layerKey,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;ivKey,
                          <a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;replyKey,
                          byte[]&nbsp;iv,
                          boolean&nbsp;isInGateway,
                          boolean&nbsp;isOutEndpoint,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;options)</pre>
<div class="block">Populate this instance with data.  A new buffer is created to contain the data, with the 
 necessary randomized padding.

 ECIES long record only. ElGamal constructor above.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>receiveTunnelId</code> - tunnel the current hop will receive messages on</dd>
<dd><code>nextTunnelId</code> - id for the next hop, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextHop</code> - next hop's identity, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextMsgId</code> - message ID to use when sending on to the next hop (or for the reply)</dd>
<dd><code>layerKey</code> - tunnel layer key to be used by the peer</dd>
<dd><code>ivKey</code> - tunnel IV key to be used by the peer</dd>
<dd><code>replyKey</code> - key to be used when encrypting the reply to this build request</dd>
<dd><code>iv</code> - iv to be used when encrypting the reply to this build request</dd>
<dd><code>isInGateway</code> - are we the gateway of an inbound tunnel?</dd>
<dd><code>isOutEndpoint</code> - are we the endpoint of an outbound tunnel?</dd>
<dd><code>options</code> - 296 bytes max when serialized</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if options too long</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="BuildRequestRecord-net.i2p.I2PAppContext-long-long-net.i2p.data.Hash-long-boolean-boolean-java.util.Properties-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BuildRequestRecord</h4>
<pre>public&nbsp;BuildRequestRecord(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                          long&nbsp;receiveTunnelId,
                          long&nbsp;nextTunnelId,
                          <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;nextHop,
                          long&nbsp;nextMsgId,
                          boolean&nbsp;isInGateway,
                          boolean&nbsp;isOutEndpoint,
                          <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;options)</pre>
<div class="block">Populate this instance with data.  A new buffer is created to contain the data, with the 
 necessary randomized padding.

 ECIES short record only. ElGamal constructor above.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>receiveTunnelId</code> - tunnel the current hop will receive messages on</dd>
<dd><code>nextTunnelId</code> - id for the next hop, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextHop</code> - next hop's identity, or where we send the reply (if we are the outbound endpoint)</dd>
<dd><code>nextMsgId</code> - message ID to use when sending on to the next hop (or for the reply)</dd>
<dd><code>isInGateway</code> - are we the gateway of an inbound tunnel?</dd>
<dd><code>isOutEndpoint</code> - are we the endpoint of an outbound tunnel?</dd>
<dd><code>options</code> - 98 bytes max when serialized</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if options too long</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.51</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getData--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;byte[]&nbsp;getData()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>222 (ElG) or 464 (ECIES) bytes, non-null</dd>
</dl>
</li>
</ul>
<a name="readReceiveTunnelId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readReceiveTunnelId</h4>
<pre>public&nbsp;long&nbsp;readReceiveTunnelId()</pre>
<div class="block">what tunnel ID should this receive messages on</div>
</li>
</ul>
<a name="readNextTunnelId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readNextTunnelId</h4>
<pre>public&nbsp;long&nbsp;readNextTunnelId()</pre>
<div class="block">What tunnel ID the next hop receives messages on.  If this is the outbound tunnel endpoint,
 this specifies the tunnel ID to which the reply should be sent.</div>
</li>
</ul>
<a name="readNextIdentity--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readNextIdentity</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;readNextIdentity()</pre>
<div class="block">Read the next hop from the record.  If this is the outbound tunnel endpoint, this specifies
 the gateway to which the reply should be sent.</div>
</li>
</ul>
<a name="readLayerKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLayerKey</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;readLayerKey()</pre>
<div class="block">Tunnel layer encryption key that the current hop should use</div>
</li>
</ul>
<a name="readIVKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readIVKey</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;readIVKey()</pre>
<div class="block">Tunnel IV encryption key that the current hop should use</div>
</li>
</ul>
<a name="readReplyKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readReplyKey</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;readReplyKey()</pre>
<div class="block">AES Session key that should be used to encrypt the reply.
 Not to be used for short ECIES records; use the ChaChaReplyKey instead.</div>
</li>
</ul>
<a name="readReplyIV--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readReplyIV</h4>
<pre>public&nbsp;byte[]&nbsp;readReplyIV()</pre>
<div class="block">AES IV that should be used to encrypt the reply.
 Not to be used for short ECIES records.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>16 bytes</dd>
</dl>
</li>
</ul>
<a name="readIsInboundGateway--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readIsInboundGateway</h4>
<pre>public&nbsp;boolean&nbsp;readIsInboundGateway()</pre>
<div class="block">The current hop is the inbound gateway.  If this is true, it means anyone can send messages to
 this tunnel, but if it is false, only the current predecessor can.</div>
</li>
</ul>
<a name="readIsOutboundEndpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readIsOutboundEndpoint</h4>
<pre>public&nbsp;boolean&nbsp;readIsOutboundEndpoint()</pre>
<div class="block">The current hop is the outbound endpoint.  If this is true, the next identity and next tunnel
 fields refer to where the reply should be sent.</div>
</li>
</ul>
<a name="readRequestTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readRequestTime</h4>
<pre>public&nbsp;long&nbsp;readRequestTime()</pre>
<div class="block">For ElGamal, time that the request was sent (ms), truncated to the nearest hour.
 For ECIES, time that the request was sent (ms), truncated to the nearest minute.
 This ignores leap seconds.</div>
</li>
</ul>
<a name="readReplyMessageId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readReplyMessageId</h4>
<pre>public&nbsp;long&nbsp;readReplyMessageId()</pre>
<div class="block">What message ID should we send the request to the next hop with.  If this is the outbound tunnel endpoint,
 this specifies the message ID with which the reply should be sent.</div>
</li>
</ul>
<a name="readExpiration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readExpiration</h4>
<pre>public&nbsp;long&nbsp;readExpiration()</pre>
<div class="block">The expiration in milliseconds from now.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="readOptions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readOptions</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Properties.html?is-external=true" title="class or interface in java.util">Properties</a>&nbsp;readOptions()</pre>
<div class="block">ECIES only.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null for ElGamal or on error</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="readLayerEncryptionType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLayerEncryptionType</h4>
<pre>public&nbsp;int&nbsp;readLayerEncryptionType()</pre>
<div class="block">ECIES short record only.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 for ElGamal or ECIES long record</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.51</dd>
</dl>
</li>
</ul>
<a name="readGarlicKeys--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readGarlicKeys</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/router/networkdb/kademlia/MessageWrapper.OneTimeSession.html" title="class in net.i2p.router.networkdb.kademlia">MessageWrapper.OneTimeSession</a>&nbsp;readGarlicKeys()</pre>
<div class="block">ECIES short OBEP record only.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null for ElGamal or ECIES long record or non-OBEP</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.51</dd>
</dl>
</li>
</ul>
<a name="encryptRecord-net.i2p.I2PAppContext-net.i2p.data.PublicKey-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptRecord</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a>&nbsp;encryptRecord(<a href="../../../../net/i2p/I2PAppContext.html" title="class in net.i2p">I2PAppContext</a>&nbsp;ctx,
                                          <a href="../../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;toKey,
                                          <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;toPeer)</pre>
<div class="block">Encrypt the record to the specified peer.  The result is formatted as: <pre>
   bytes 0-15: truncated SHA-256 of the current hop's identity (the toPeer parameter)
 bytes 15-527: ElGamal-2048 encrypted block
 </pre>

 ElGamal only</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-null</dd>
</dl>
</li>
</ul>
<a name="encryptECIESRecord-net.i2p.router.RouterContext-net.i2p.data.PublicKey-net.i2p.data.Hash-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encryptECIESRecord</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/i2np/EncryptedBuildRecord.html" title="class in net.i2p.data.i2np">EncryptedBuildRecord</a>&nbsp;encryptECIESRecord(<a href="../../../../net/i2p/router/RouterContext.html" title="class in net.i2p.router">RouterContext</a>&nbsp;ctx,
                                               <a href="../../../../net/i2p/data/PublicKey.html" title="class in net.i2p.data">PublicKey</a>&nbsp;toKey,
                                               <a href="../../../../net/i2p/data/Hash.html" title="class in net.i2p.data">Hash</a>&nbsp;toPeer)</pre>
<div class="block">Encrypt the record to the specified peer. ECIES only.
 The ChaCha reply key and IV will be available via the getters
 after this call.
 For short records, derived keys will be available via
 readLayerKey(), readIVKey(), and readGarlicKeys() after this call.
 See class javadocs for format.
 See proposals 152 and 157.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>non-null</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="getChaChaReplyKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChaChaReplyKey</h4>
<pre>public&nbsp;<a href="../../../../net/i2p/data/SessionKey.html" title="class in net.i2p.data">SessionKey</a>&nbsp;getChaChaReplyKey()</pre>
<div class="block">Valid after calling encryptECIESRecord() or after the decrypting constructor
 with an ECIES private key.
 See proposal 152.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if no ECIES encrypt/decrypt operation was performed</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="getChaChaReplyAD--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChaChaReplyAD</h4>
<pre>public&nbsp;byte[]&nbsp;getChaChaReplyAD()</pre>
<div class="block">Valid after calling encryptECIESRecord() or after the decrypting constructor
 with an ECIES private key.
 See proposal 152.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>null if no ECIES encrypt/decrypt operation was performed</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.48</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>0.9.24</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BuildRequestRecord.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../net/i2p/data/i2np/BuildResponseRecord.html" title="class in net.i2p.data.i2np"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/i2p/data/i2np/BuildRequestRecord.html" target="_top">Frames</a></li>
<li><a href="BuildRequestRecord.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
